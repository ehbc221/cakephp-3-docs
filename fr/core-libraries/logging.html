

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="Journalisation (Logging)" lang="fr" name="title" />
<meta content="Journal Log de CakePHP de données du disque pour vous aider à debugger votre application sur des longues périodes de temps." lang="fr" name="description" />
<meta content="cakephp logging,log errors,debug,logging data,cakelog class,ajax logging,soap logging,debugging,logs" lang="fr" name="keywords" />

    <title>Journalisation (logging) - 3.x</title>
    <link href="../_static/favicon.png" type="image/png" rel="icon" />

    
    <link rel="stylesheet" href="../_static/css/app.css" type="text/css" />
    
    <script type="text/javascript" src="../_static/app.js"></script>

    <link rel="alternate" hreflang="en" href="../../en/core-libraries/logging.html" /><link rel="alternate" hreflang="pt_BR" href="../../pt/core-libraries/logging.html" /><link rel="alternate" hreflang="es" href="../../es/core-libraries/logging.html" /><link rel="alternate" hreflang="ja" href="../../ja/core-libraries/logging.html" /><link rel="alternate" hreflang="zh" href="../../zh/core-libraries/logging.html" /><link rel="alternate" hreflang="tr" href="../../tr/core-libraries/logging.html" /><link rel="alternate" hreflang="ru" href="../../ru/core-libraries/logging.html" />

    <link rel="search" type="application/opensearchdescription+xml" title="Search within documentation CakePHP Cookbook 3.5" href="../_static/opensearchdescription-book-3-x.xml">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="top" title="documentation CakePHP Cookbook 3.5" href="../index.html" />
    <link rel="next" title="Formulaires Sans Models" href="form.html" />
    <link rel="prev" title="Internationalisation &amp; Localisation" href="internationalization-and-localization.html" />

    <script type="text/javascript">
    window.lang = "fr";
    </script>
  </head>
  <body>

<div id="container">
    
    <header class="nav-down">
        <div class="container-fluid hidden-xs hidden-sm">
            <div class="row">
                <div class="col-sm-3 col-md-3">
                    <a class="logo-cake" href="https://cakephp.org">
                        <img src="../_static/logo-cake.png" alt="CakePHP" />
                    </a>
                </div>

                <div class="col-sm-9 col-md-9">
                    <nav class="navbar-right">
                        <ul class="menu">
                            <li class="first">
                                <a href="#"><i class="fa fa-menu fa-chevron-down"></i>Documentation</a>
                                <ul class="submenu">
                                    
<li><a href="https://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Book</a></li>
<li><a href="https://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="https://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="https://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="https://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
                                </ul>
                            </li>

                            <li><a href="https://cakephp.org/business-solutions">Business Solutions</a></li>
                            <li><a href="https://cakephp.org/writers">Get Paid To Write</a></li>
                            <li><a href="https://cakephp.org/pages/team">Team</a></li>

                            <li>
                                <a href="#"><i class="fa fa-menu fa-chevron-down"></i>Community</a>
                                <div class="megamenu full">
                                    <div class="row">
                                        <div class="col-6 pl30">
                                            <ul class="megamenu-list">
                                                
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="https://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="https://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="https://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="https://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="https://github.com/FriendsOfCake/awesome-cakephp"><i class="fa fa-menu fa-chevron-right"></i>Featured Resources</a></li>
<li><a href="https://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="https://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="https://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
                                            </ul>
                                        </div>
                                        <div class="col-6 pl30">
                                            <ul class="megamenu-list">
                                                
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="https://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="https://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="https://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="https://www.cakedc.com/"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>

        
        <div class="container-fluid hidden-md hidden-lg">
            <div class="row">
                <div class="col-sm-6 col-xs-6">
                    <a class="logo-cake" href="https://cakephp.org">
                        <img src="../_static/logo-cake.png" alt="CakePHP" />
                    </a>
                </div>

                <div class="col-sm-6 col-xs-6">
                    <div class="navbar-right">
                        <button id="btn-menu" class="btn-menu" data-toggle="modal" data-target="#modal">
                            <i class="fa fa-bars toggle-modal"></i>
                        </button>
                    </div>
                    <div id="wrap">
                        <form class="search" action="../search.html" method="get">
                            <input name="q" type="search" placeholder="What are you looking for?">
                            <input id="search_submit" value="Recherche" type="submit">
                        </form>
                    </div>
                </div>
            </div>
        </div>

        
        <section id="nav-cook" class="hidden-xs hidden-sm">
            <div class="container-fluid ">
                <div class="row ">
                    <div class="col-md-12 back-book">
                        <div class="col-md-5 text-center t-cook-nav p0 hidden-sm hidden-xs">
                            <h2>
                                <a href="../contents.html">
                                    <span class="glyph_range icon-submenu icon-submenu-cook">B</span>
                                    CakePHP 3.5 Red Velvet <strong>Cookbook</strong>
                                </a>
                            </h2>
                        </div>

                        <div class="col-md-4 hidden-sm">
                            <form class="search" action="../search.html" method="get">
                                <input type="hidden" name="check_keywords" value="yes" />
                                <input type="hidden" name="area" value="default" />

                                <div class="col-md-10 p0">
                                    <input class="form-control form-cook" autocomplete="off" type="search" name="q" size="18" placeholder='Cookbook Search' />
                                </div>
                                <div class="col-md-2 p0 search-cook">
                                    <button type="submit">
                                        <span class="glyph_range icon-submenu icon-submenu-cook">A</span>
                                    </button>
                                </div>
                            </form>
                        </div>

                        
                        <div class="col-md-3">
                            <div class="col-md-6 p0">
                                <div class="col-md-7 t-language p0">
                                    <h6>Language:</h6>
                                </div>
                                <div class="col-md-5 p0">
                                    <ul class="nav navbar-nav">
                                        <li class="dropdown">
                                            <a class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown"
                                                    role="button" aria-haspopup="true" aria-expanded="false" href="#">
                                                        fr
                                                        <i class="fa fa-menu-en fa-chevron-down"></i>
                                                    </a>
                                            <ul class="dropdown-menu">
                                            
                                                <li><a href="../../en/core-libraries/logging.html">en</a></li>
                                            
                                                <li><a href="../../pt/core-libraries/logging.html">pt</a></li>
                                            
                                                <li><a href="../../es/core-libraries/logging.html">es</a></li>
                                            
                                                <li><a href="../../ja/core-libraries/logging.html">ja</a></li>
                                            
                                                <li></li>
                                            
                                                <li><a href="../../zh/core-libraries/logging.html">zh</a></li>
                                            
                                                <li><a href="../../tr/core-libraries/logging.html">tr</a></li>
                                            
                                                <li><a href="../../ru/core-libraries/logging.html">ru</a></li>
                                            
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <div class="col-md-6 p0">
                                <div class="col-md-7 t-language p0">
                                    <h6>Version:</h6>
                                </div>
                                <div class="col-md-5 p0">
                                    <ul class="nav navbar-nav">
                                        <li class="dropdown">
                                            <a href="#" class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">3.x <i class="fa fa-menu-en fa-chevron-down"></i></a>
                                            <ul class="dropdown-menu">
                                                <li><a href="https://book.cakephp.org/3.0/fr">3.x Book</a></li>
                                                <li><a href="https://book.cakephp.org/2.0/fr">2.x Book</a></li>
                                                <li><a href="https://book.cakephp.org/1.3/fr/">1.3 Book</a></li>
                                                <li><a href="https://book.cakephp.org/1.2/fr/">1.2 Book</a></li>
                                                <li><a href="https://book.cakephp.org/1.1/en">1.1 Book</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            
        </section>
    </header>

    
    <section class="nav-btn visible-sm visible-xs">
        <div class="container">
            <div class="row">
                <div class="col-sm-6 col-xs-6 text-center">
                    <button id="btn-nav" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Nav</strong></button>
                </div>

                <div class="col-sm-6 col-xs-6 text-center">
                    <button id="btn-toc" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Table of Contents</strong></button>
                </div>
            </div>
        </div>
    </section>

    
    <div id="modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modal-header">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title-cookbook" id="modal-header"></h4>
                </div>
                <div class="modal-body"></div>
            </div>
        </div>
    </div>

<div class="container page-container "><div id="improve-slideout">
        <i class="fa fa-pencil icon-improve"></i>
        <a href="https://github.com/cakephp/docs/edit/3.0/fr/core-libraries/logging.rst" target="_blank">
            <div id="improve-slideout-inner"><h6>Improve This Doc <i class="fa fa-github git-improve"></i></h6></div>
        </a>
    </div><a id="back-to-contents" href="#page-contents"><i class="fa fa-arrow-circle-up icon-improve" title="Back to Contents"></i></a>

    
    <div class="row">
        <div class="col-sm-12 col-md-9 col-md-push-3"><div class="page-contents col-sm-5">
                <h3>Page Contents</h3>
                <ul>
<li><a class="reference internal" href="#">Journalisation (logging)</a><ul>
<li><a class="reference internal" href="#configuration-des-flux-d-un-log-journal">Configuration des flux d&#8217;un log (journal)</a><ul>
<li><a class="reference internal" href="#creer-des-adaptateurs-de-log">Créer des Adaptateurs de Log</a></li>
</ul>
</li>
<li><a class="reference internal" href="#journalisation-des-erreurs-et-des-exception">Journalisation des Erreurs et des Exception</a></li>
<li><a class="reference internal" href="#interagir-avec-les-flux-de-log">Interagir avec les Flux de Log</a></li>
<li><a class="reference internal" href="#utilisation-de-l-adaptateur-filelog">Utilisation de l&#8217;Adaptateur FileLog</a></li>
<li><a class="reference internal" href="#logging-vers-syslog">Logging vers Syslog</a></li>
<li><a class="reference internal" href="#ecrire-dans-les-logs">Ecrire dans les logs</a><ul>
<li><a class="reference internal" href="#utiliser-les-niveaux">Utiliser les Niveaux</a></li>
</ul>
</li>
<li><a class="reference internal" href="#scopes-de-journalisation">Scopes de Journalisation</a></li>
<li><a class="reference internal" href="#namespace-Cake\Log">l&#8217;API de Log</a><ul>
<li><a class="reference internal" href="#methodes-pratiques">Méthodes pratiques</a></li>
</ul>
</li>
<li><a class="reference internal" href="#logging-trait">Logging Trait</a></li>
<li><a class="reference internal" href="#utiliser-monolog">Utiliser Monolog</a></li>
</ul>
</li>
</ul>

            </div><div class="document-body">
            
  <div class="section" id="journalisation-logging">
<h1>Journalisation (logging)<a class="headerlink" href="#journalisation-logging" title="Lien permanent vers ce titre">¶</a></h1>
<p>Bien que les réglages de la Classe Configure du cœur de CakePHP puissent
vraiment vous aider à voir ce qui se passe sous le capot, vous aurez besoin
certaines fois de consigner des données sur le disque pour découvrir ce qui
se produit. Avec des technologies comme SOAP, AJAX, et les APIs REST, déboguer
peut s&#8217;avérer difficile.</p>
<p>Le logging (journalisation) peut aussi être une façon de découvrir ce qui
s&#8217;est passé dans votre application à chaque instant. Quels termes de recherche
ont été utilisés ? Quelles sortes d&#8217;erreurs ont été vues par mes utilisateurs ?
A quelle fréquence est exécutée une requête particulière ?</p>
<p>La journalisation des données dans CakePHP est facile - la fonction log()
est fourni par <code class="docutils literal"><span class="pre">LogTrait</span></code>, qui est l&#8217;ancêtre commun de beaucoup de classes
CakePHP. Si le contexte est une classe CakePHP (Controller, Component, View...),
vous pouvez loguer (journaliser) vos données. Vous pouvez aussi utiliser
<code class="docutils literal"><span class="pre">Log::write()</span></code> directement. Consultez <a class="reference internal" href="#writing-to-logs"><span class="std std-ref">Ecrire dans les logs</span></a>.</p>
<div class="section" id="configuration-des-flux-d-un-log-journal">
<span id="log-configuration"></span><h2>Configuration des flux d&#8217;un log (journal)<a class="headerlink" href="#configuration-des-flux-d-un-log-journal" title="Lien permanent vers ce titre">¶</a></h2>
<p>La configuration de <code class="docutils literal"><span class="pre">Log</span></code> doit être faite pendant la phase de bootstrap
de votre application. Le fichier <strong>config/app.php</strong> est justement prévu pour
ceci. Vous pouvez définir autant de jounaux que votre application nécessite.
Les journaux doivent être configurés en utilisant <code class="xref php php-class docutils literal"><span class="pre">Cake\Core\Log</span></code>.
Un exemple serait:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Cake\Log\Log</span><span class="p">;</span>

<span class="c1">// Nom de classe court</span>
<span class="nx">Log</span><span class="o">::</span><span class="na">config</span><span class="p">(</span><span class="s1">&#39;debug&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;className&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;File&#39;</span><span class="p">,</span>
    <span class="s1">&#39;path&#39;</span> <span class="o">=&gt;</span> <span class="nx">LOGS</span><span class="p">,</span>
    <span class="s1">&#39;levels&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;notice&#39;</span><span class="p">,</span> <span class="s1">&#39;info&#39;</span><span class="p">,</span> <span class="s1">&#39;debug&#39;</span><span class="p">],</span>
    <span class="s1">&#39;file&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;debug&#39;</span><span class="p">,</span>
<span class="p">]);</span>

<span class="c1">// Nom avec le namespace complet.</span>
<span class="nx">Log</span><span class="o">::</span><span class="na">config</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;className&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Cake\Log\Engine\FileLog&#39;</span><span class="p">,</span>
    <span class="s1">&#39;path&#39;</span> <span class="o">=&gt;</span> <span class="nx">LOGS</span><span class="p">,</span>
    <span class="s1">&#39;levels&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;warning&#39;</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="s1">&#39;critical&#39;</span><span class="p">,</span> <span class="s1">&#39;alert&#39;</span><span class="p">,</span> <span class="s1">&#39;emergency&#39;</span><span class="p">],</span>
    <span class="s1">&#39;file&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;error&#39;</span><span class="p">,</span>
<span class="p">]);</span>
</pre></div>
</div>
<p>Ce qui est au-dessus crée deux journaux. Un appelé <code class="docutils literal"><span class="pre">debug</span></code>, l&#8217;autre appelé
<code class="docutils literal"><span class="pre">error</span></code>. Chacun est configuré pour gérer différents niveaux de message. Ils
stockent aussi leurs messages de journal dans des fichiers séparés, ainsi il
est facile de séparer les logs de debug/notice/info des erreurs plus sérieuses.
Regardez la section sur <a class="reference internal" href="#logging-levels"><span class="std std-ref">Utiliser les Niveaux</span></a> pour plus d&#8217;informations sur les
différents niveaux et ce qu&#8217;ils signifient.</p>
<p>Une fois qu&#8217;une configuration est créée, vous ne pouvez pas la changer. A la
place, vous devez retirer la configuration et la re-créer en utilisant
<a class="reference internal" href="#Cake\Log\Log::drop" title="Cake\Log\Log::drop"><code class="xref php php-meth docutils literal"><span class="pre">Cake\Log\Log::drop()</span></code></a> et
<a class="reference internal" href="#Cake\Log\Log::config" title="Cake\Log\Log::config"><code class="xref php php-meth docutils literal"><span class="pre">Cake\Log\Log::config()</span></code></a>.</p>
<p>Il est aussi possible de créer des loggers en fournissant une closure. C&#8217;est
utile quand vous devez avoir un contrôle complet sur la façon dont l&#8217;objet est
construit. La closure doit retourner l&#8217;instance de logger construite. Par
exemple:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">Log</span><span class="o">::</span><span class="na">config</span><span class="p">(</span><span class="s1">&#39;special&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">\Cake\Log\Engine\FileLog</span><span class="p">([</span><span class="s1">&#39;path&#39;</span> <span class="o">=&gt;</span> <span class="nx">LOGS</span><span class="p">,</span> <span class="s1">&#39;file&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;log&#39;</span><span class="p">]);</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Les options de configuration peuvent également être fournies en tant que chaine
<a class="reference internal" href="../appendices/glossary.html#term-dsn"><span class="xref std std-term">DSN</span></a>. C&#8217;est utile lorsque vous travaillez avec des variables
d&#8217;environnement ou des fournisseurs <a class="reference internal" href="../appendices/glossary.html#term-paas"><span class="xref std std-term">PaaS</span></a>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">Log</span><span class="o">::</span><span class="na">config</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;url&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;file:///?levels[]=warning&amp;levels[]=error&amp;file=error&#39;</span><span class="p">,</span>
<span class="p">]);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Les loggers sont nécessaires pour intégrer l&#8217;interface
<code class="docutils literal"><span class="pre">Psr\Log\LoggerInterface</span></code>.</p>
</div>
<div class="section" id="creer-des-adaptateurs-de-log">
<h3>Créer des Adaptateurs de Log<a class="headerlink" href="#creer-des-adaptateurs-de-log" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les gestionnaires de flux de log peuvent faire partie de votre application,
ou parti d&#8217;un plugin. Si par exemple vous avez un enregistreur de logs de
base de données appelé <code class="docutils literal"><span class="pre">DatabaseLog</span></code>. Comme faisant partie de votre
application il devrait être placé dans
<strong>src/Log/Engine/DatabaseLog.php</strong>. Comme faisant partie d&#8217;un plugin
il devrait être placé dans
<strong>plugins/LoggingPack/src/Log/Engine/DatabaseLog.php</strong>. Pour configurer des
flux de logs, vous devez utiliser <a class="reference internal" href="#Cake\Log\Log::config" title="Cake\Log\Log::config"><code class="xref php php-meth docutils literal"><span class="pre">Cake\Log\Log::config()</span></code></a>. Par
example, la configuration de notre <code class="docutils literal"><span class="pre">DatabaseLog</span></code> pourrait ressembler à ceci:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Pour src/Log</span>
<span class="nx">Log</span><span class="o">::</span><span class="na">config</span><span class="p">(</span><span class="s1">&#39;otherFile&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;className&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Database&#39;</span><span class="p">,</span>
    <span class="s1">&#39;model&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;LogEntry&#39;</span><span class="p">,</span>
    <span class="c1">// ...</span>
<span class="p">]);</span>

<span class="c1">// Pour un plugin appelé LoggingPack</span>
<span class="nx">Log</span><span class="o">::</span><span class="na">config</span><span class="p">(</span><span class="s1">&#39;otherFile&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;className&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;LoggingPack.Database&#39;</span><span class="p">,</span>
    <span class="s1">&#39;model&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;LogEntry&#39;</span><span class="p">,</span>
    <span class="c1">// ...</span>
<span class="p">]);</span>
</pre></div>
</div>
<p>Lorsque vous configurez le flux d&#8217;un log le paramètre de <code class="docutils literal"><span class="pre">className</span></code> est
utilisé pour localiser et charger le handler de log. Toutes les autres
propriétés de configuration sont passées au constructeur des flux de log comme
un tableau:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">namespace</span> <span class="nx">App\Log\Engine</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Cake\Log\Engine\BaseLog</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">DatabaseLog</span> <span class="k">extends</span> <span class="nx">BaseLog</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nv">$options</span> <span class="o">=</span> <span class="p">[])</span>
    <span class="p">{</span>
        <span class="k">parent</span><span class="o">::</span><span class="na">__construct</span><span class="p">(</span><span class="nv">$options</span><span class="p">);</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">log</span><span class="p">(</span><span class="nv">$level</span><span class="p">,</span> <span class="nv">$message</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$context</span> <span class="o">=</span> <span class="p">[])</span>
    <span class="p">{</span>
        <span class="c1">// Write to the database.</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>CakePHP a besoin que tous les adaptateurs de logging intègrent
<code class="docutils literal"><span class="pre">Psr\Log\LoggerInterface</span></code>. La classe <code class="xref php php-class docutils literal"><span class="pre">CakeLogEngineBaseLog</span></code> est
un moyen facile de satisfaire l&#8217;interface puisqu&#8217;elle nécessite seulement
que vous intégriez la méthode <code class="docutils literal"><span class="pre">log()</span></code>.</p>
<p id="file-log">Le moteur de <code class="docutils literal"><span class="pre">FileLog</span></code> a quelques nouvelles configurations:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">size</span></code> Utilisé pour implémenter la rotation de fichier de journal basic.
Si la taille d&#8217;un fichier de log atteint la taille spécifiée, le fichier
existant est renommé en ajoutant le timestamp au nom du fichier et un
nouveau fichier de log est créé. Peut être une valeur de bytes en entier
ou des valeurs de chaînes lisible par l&#8217;humain comme &#8216;10MB&#8217;, &#8216;100KB&#8217; etc.
Par défaut à 10MB.</li>
<li><code class="docutils literal"><span class="pre">rotate</span></code> Les fichiers de log font une rotation à un temps spécifié
avant d&#8217;être retiré.
Si la valeur est 0, les versions anciennes seront retirées plutôt que
mises en rotation. Par défaut à 10.</li>
<li><code class="docutils literal"><span class="pre">mask</span></code> Définit les permissions du fichier pour les fichiers créés. Si
laissé vide, les permissions par défaut sont utilisées.</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Avertissement</p>
<p class="last">Les moteurs ont le suffixe <code class="docutils literal"><span class="pre">Log</span></code>. Vous devrez éviter les noms de classe
comme <code class="docutils literal"><span class="pre">SomeLogLog</span></code> qui inclut le suffixe deux fois à la fin.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Vous devrez configurer les loggers pendant le bootstrapping.
<strong>config/app.php</strong> est l&#8217;endroit par convention pour configurer les
adaptateurs de log.</p>
<p class="last">En mode debug, les répertoires manquants vont maintenant être
automatiquement créés pour éviter le lancement des erreurs non nécessaires
lors de l&#8217;utilisation de FileEngine.</p>
</div>
</div>
</div>
<div class="section" id="journalisation-des-erreurs-et-des-exception">
<h2>Journalisation des Erreurs et des Exception<a class="headerlink" href="#journalisation-des-erreurs-et-des-exception" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les erreurs et les exception peuvent elles aussi être journalisées. En
configurant les valeurs correspondantes dans votre fichier app.php.
Les erreurs seront affichées quand debug &gt; 0 et loguées quand debug est à
<cite>false</cite>. Définir l&#8217;option <code class="docutils literal"><span class="pre">log</span></code> à <code class="docutils literal"><span class="pre">true</span></code> pour logger les exceptions non
capturées. Voir <a class="reference internal" href="../development/configuration.html"><span class="doc">Configuration</span></a> pour plus d&#8217;information.</p>
</div>
<div class="section" id="interagir-avec-les-flux-de-log">
<h2>Interagir avec les Flux de Log<a class="headerlink" href="#interagir-avec-les-flux-de-log" title="Lien permanent vers ce titre">¶</a></h2>
<p>Vous pouvez interroger le flux configurés avec
<a class="reference internal" href="#Cake\Log\Log::configured" title="Cake\Log\Log::configured"><code class="xref php php-meth docutils literal"><span class="pre">Cake\Log\Log::configured()</span></code></a>. Le retour de <code class="docutils literal"><span class="pre">configured()</span></code> est un
tableau de tous les flux actuellement configurés. Vous pouvez rejeter
des flux en utilisant <a class="reference internal" href="#Cake\Log\Log::drop" title="Cake\Log\Log::drop"><code class="xref php php-meth docutils literal"><span class="pre">Cake\Log\Log::drop()</span></code></a>. Une fois que le flux
d&#8217;un log à été rejeté il ne recevra plus de messages.</p>
</div>
<div class="section" id="utilisation-de-l-adaptateur-filelog">
<h2>Utilisation de l&#8217;Adaptateur FileLog<a class="headerlink" href="#utilisation-de-l-adaptateur-filelog" title="Lien permanent vers ce titre">¶</a></h2>
<p>Comme son nom l&#8217;indique FileLog écrit les messages log dans des fichiers. Le
type des messages de log en court d&#8217;écriture détermine le nom du fichier ou le
message sera stocker. Si le type n&#8217;est pas fourni, <code class="xref php php-const docutils literal"><span class="pre">LOG_ERR</span></code> est
utilisé ce qui à pour effet d&#8217;écrire dans le log error. Le chemin par défaut est
<code class="docutils literal"><span class="pre">logs/$level.log</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Execute cela dans une classe CakePHP</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">log</span><span class="p">(</span><span class="s2">&quot;Quelque chose ne fonctionne pas!&quot;</span><span class="p">);</span>

<span class="c1">// Aboutit à ce que cela soit ajouté à tmp/logs/error.log</span>
<span class="c1">// 2007-11-02 10:22:02 Error: Quelque chose ne fonctionne pas!</span>
</pre></div>
</div>
<p>Le répertoire configuré doit être accessible en écriture par le serveur web de
l&#8217;utilisateur pour que la journalisation fonctionne correctement.</p>
<p>Vous pouvez configurer/changer la localisation de FileLog lors de la
configuration du logger. FileLog accepte un <code class="docutils literal"><span class="pre">path</span></code> qui permet aux
chemins personnalisés d&#8217;être utilisés:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">Log</span><span class="o">::</span><span class="na">config</span><span class="p">(</span><span class="s1">&#39;chemin_perso&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;className&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;File&#39;</span><span class="p">,</span>
    <span class="s1">&#39;path&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/chemin/vers/endroit/perso/&#39;</span>
<span class="p">]);</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Avertissement</p>
<p class="last">Si vous ne configurez pas d&#8217;adaptateur de logging, les logs ne seront pas
stockés.</p>
</div>
</div>
<div class="section" id="logging-vers-syslog">
<span id="syslog-log"></span><h2>Logging vers Syslog<a class="headerlink" href="#logging-vers-syslog" title="Lien permanent vers ce titre">¶</a></h2>
<p>Dans les environnements de production, il est fortement recommandé que vous
configuriez votre système pour utiliser syslog plutôt que le logger de
fichiers. Cela va fonctionner bien mieux que ceux écrits et sera fait (presque)
d&#8217;une manière  non-blocking et le logger de votre système d&#8217;exploitation peut
être configuré séparément pour faire des rotations de fichier, pré-lancer
les écritures ou utiliser un stockage complètement différent pour vos logs.</p>
<p>Utiliser syslog est à peu près comme utiliser le moteur par défaut FileLog,
vous devez juste spécifier <cite>Syslog</cite> comme moteur à utiliser pour la
journalisation. Le bout de configuration suivant va remplacer le logger
par défaut avec syslog, ceci va être fait dans le fichier <cite>bootstrap.php</cite>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">Log</span><span class="o">::</span><span class="na">config</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;engine&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Syslog&#39;</span>
<span class="p">]);</span>
</pre></div>
</div>
<p>Le tableau de configuration accepté pour le moteur de journalisation Syslog
comprend les clés suivantes:</p>
<ul class="simple">
<li><cite>format</cite>: Un template de chaînes sprintf avec deux placeholders, le premier
pour le type d&#8217;erreur, et le second pour le message lui-même. Cette clé est
utile pour ajouter des informations supplémentaires sur le serveur ou
la procédure dans le message de log. Par exemple:
<code class="docutils literal"><span class="pre">%s</span> <span class="pre">-</span> <span class="pre">Web</span> <span class="pre">Server</span> <span class="pre">1</span> <span class="pre">-</span> <span class="pre">%s</span></code> va ressembler à
<code class="docutils literal"><span class="pre">error</span> <span class="pre">-</span> <span class="pre">Web</span> <span class="pre">Server</span> <span class="pre">1</span> <span class="pre">-</span> <span class="pre">An</span> <span class="pre">error</span> <span class="pre">occurred</span> <span class="pre">in</span> <span class="pre">this</span> <span class="pre">request</span></code> après avoir
remplacé les placeholders.</li>
<li><cite>prefix</cite>: Une chaine qui va être préfixée à tous les messages de log.</li>
<li><cite>flag</cite>: Un drapeau entier utilisé pour l&#8217;ouverture de la connexion à
logger, par défaut <cite>LOG_ODELAY</cite> sera utilisée. Regardez la documentation
de <code class="docutils literal"><span class="pre">openlog</span></code> pour plus d&#8217;options.</li>
<li><cite>facility</cite>: Le slot de journalisation à utiliser dans syslog. Par défaut
<code class="docutils literal"><span class="pre">LOG_USER</span></code> est utilisé. Regardez la documentation de <cite>syslog</cite> pour plus
d&#8217;options.</li>
</ul>
</div>
<div class="section" id="ecrire-dans-les-logs">
<span id="writing-to-logs"></span><h2>Ecrire dans les logs<a class="headerlink" href="#ecrire-dans-les-logs" title="Lien permanent vers ce titre">¶</a></h2>
<p>Ecrire dans les fichiers peut être réalisé de deux façons. La première est
d&#8217;utiliser la méthode statique <a class="reference internal" href="#Cake\Log\Log::write" title="Cake\Log\Log::write"><code class="xref php php-meth docutils literal"><span class="pre">Cake\Log\Log::write()</span></code></a>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">Log</span><span class="o">::</span><span class="na">write</span><span class="p">(</span><span class="s1">&#39;debug&#39;</span><span class="p">,</span> <span class="s1">&#39;Quelque chose qui ne fonctionne pas&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>La seconde est d&#8217;utiliser la fonction raccourcie log() disponible dans chacune
des classes qui utilisent <code class="docutils literal"><span class="pre">LogTrait</span></code>. En appelant log() cela appellera en
interne <code class="docutils literal"><span class="pre">Log::write()</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Exécuter cela dans une classe CakePHP:</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">log</span><span class="p">(</span><span class="s2">&quot;Quelque chose qui ne fonctionne pas!&quot;</span><span class="p">,</span> <span class="s1">&#39;debug&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Tous les flux de log configurés sont écrits séquentiellement à chaque fois
que <a class="reference internal" href="#Cake\Log\Log::write" title="Cake\Log\Log::write"><code class="xref php php-meth docutils literal"><span class="pre">Cake\Log\Log::write()</span></code></a> est appelée. Vous n&#8217;avez pas besoin de
configurer un flux pour utiliser la journalisation. Si vous n&#8217;avez pas
configuré d&#8217;adaptateurs de log, <code class="docutils literal"><span class="pre">log()</span></code> va retourner false et aucun
message de log ne sera écrit.</p>
<div class="section" id="utiliser-les-niveaux">
<span id="logging-levels"></span><h3>Utiliser les Niveaux<a class="headerlink" href="#utiliser-les-niveaux" title="Lien permanent vers ce titre">¶</a></h3>
<p>CakePHP prend en charge les niveaux de log standards définis par POSIX. Chaque
niveau représente un niveau plus fort de sévérité:</p>
<ul class="simple">
<li>Emergency: system is inutilisable</li>
<li>Alert: l&#8217;action doit être prise immédiatement</li>
<li>Critical: Conditions critiques</li>
<li>Error: conditions d&#8217;erreurs</li>
<li>Warning: conditions d&#8217;avertissements</li>
<li>Notice: condition normale mais importante</li>
<li>Info: messages d&#8217;information</li>
<li>Debug: messages de niveau-debug</li>
</ul>
<p>Vous pouvez vous référer à ces niveaux par nom en configurant les journaux, et
lors de l&#8217;écriture des messages de log. Sinon vous pouvez utiliser des méthodes
pratiques comme <a class="reference internal" href="#Cake\Log\Log::error" title="Cake\Log\Log::error"><code class="xref php php-meth docutils literal"><span class="pre">Cake\Log\Log::error()</span></code></a> pour indiquer clairement le
niveau de journalisation. Utiliser un niveau qui n&#8217;est pas dans les niveaux
ci-dessus va entraîner une exception.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Quand l&#8217;option <code class="docutils literal"><span class="pre">levels</span></code> est une valeur vide dans la configuration du logger,
n&#8217;importe quel niveau de message sera capturé.</p>
</div>
</div>
</div>
<div class="section" id="scopes-de-journalisation">
<span id="logging-scopes"></span><h2>Scopes de Journalisation<a class="headerlink" href="#scopes-de-journalisation" title="Lien permanent vers ce titre">¶</a></h2>
<p>Souvent, vous voudrez configurer différents comportements de journalisation
pour différents sous-systèmes ou parties de votre application. Prenez l&#8217;exemple
d&#8217;un magasin e-commerce. Vous voudrez probablement gérer la journalisation
pour les commandes et les paiements différemment des autres opérations de
journalisation moins critiques.</p>
<p>CakePHP expose ce concept dans les scopes de journalisation. Quand les messages
d&#8217;erreur sont écrits, vous pouvez inclure un nom scope. S&#8217;il y a un logger
configuré pour ce scope, les messages de log seront dirigés vers ces loggers.
Par exemple:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Configurez logs/shops.log pour recevoir tous les types (niveaux de log),</span>
<span class="c1">// mais seulement ceux avec les scope `orders` et `payments`</span>
<span class="nx">Log</span><span class="o">::</span><span class="na">config</span><span class="p">(</span><span class="s1">&#39;shops&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;className&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;File&#39;</span><span class="p">,</span>
    <span class="s1">&#39;path&#39;</span> <span class="o">=&gt;</span> <span class="nx">LOGS</span><span class="p">,</span>
    <span class="s1">&#39;levels&#39;</span> <span class="o">=&gt;</span> <span class="p">[],</span>
    <span class="s1">&#39;scopes&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;orders&#39;</span><span class="p">,</span> <span class="s1">&#39;payments&#39;</span><span class="p">],</span>
    <span class="s1">&#39;file&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;shops.log&#39;</span><span class="p">,</span>
<span class="p">]);</span>

<span class="c1">// configurez logs/payments.log pour recevoir tous les types, mais seulement</span>
<span class="c1">// ceux qui ont un scope `payments`</span>
<span class="nx">Log</span><span class="o">::</span><span class="na">config</span><span class="p">(</span><span class="s1">&#39;payments&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;className&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;File&#39;</span><span class="p">,</span>
    <span class="s1">&#39;path&#39;</span> <span class="o">=&gt;</span> <span class="nx">LOGS</span><span class="p">,</span>
    <span class="s1">&#39;levels&#39;</span> <span class="o">=&gt;</span> <span class="p">[],</span>
    <span class="s1">&#39;scopes&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;payments&#39;</span><span class="p">],</span>
    <span class="s1">&#39;file&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;payments.log&#39;</span><span class="p">,</span>
<span class="p">]);</span>

<span class="nx">Log</span><span class="o">::</span><span class="na">warning</span><span class="p">(</span><span class="s1">&#39;this gets written only to shops.log&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;scope&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;orders&#39;</span><span class="p">]]);</span>
<span class="nx">Log</span><span class="o">::</span><span class="na">warning</span><span class="p">(</span><span class="s1">&#39;this gets written to both shops.log and payments.log&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;scope&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;payments&#39;</span><span class="p">]]);</span>
<span class="nx">Log</span><span class="o">::</span><span class="na">warning</span><span class="p">(</span><span class="s1">&#39;this gets written to both shops.log and payments.log&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;scope&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;unknown&#39;</span><span class="p">]]);</span>
</pre></div>
</div>
<p>Les scopes peuvent aussi être passées en une chaine unique ou un tableau
numériquement indexé.
Notez que l&#8217;utilisation de ce formulaire va limiter la capacité de passer plus
de données en contexte:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">Log</span><span class="o">::</span><span class="na">warning</span><span class="p">(</span><span class="s1">&#39;This is a warning&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;orders&#39;</span><span class="p">]);</span>
<span class="nx">Log</span><span class="o">::</span><span class="na">warning</span><span class="p">(</span><span class="s1">&#39;This is a warning&#39;</span><span class="p">,</span> <span class="s1">&#39;payments&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Quand l&#8217;option <code class="docutils literal"><span class="pre">scopes</span></code> est vide ou <code class="docutils literal"><span class="pre">null</span></code> dans la configuration d&#8217;un
logger, les messages de tous les <code class="docutils literal"><span class="pre">scopes</span></code> seront capturés. Définir l&#8217;option
à <code class="docutils literal"><span class="pre">false</span></code> captura seulement les messages sans scope.</p>
</div>
</div>
<div class="section" id="namespace-Cake\Log">
<span id="l-api-de-log"></span><h2>l&#8217;API de Log<a class="headerlink" href="#namespace-Cake\Log" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="class">
<dt id="Cake\Log\Log">
<em class="property">class </em><code class="descclassname">Cake\Log\</code><code class="descname">Log</code><a class="headerlink" href="#Cake\Log\Log" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Une simple classe pour écrire dans les logs (journaux).</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Cake\Log\Log::config">
<em class="property">static </em><code class="descclassname">Cake\Log\Log::</code><code class="descname">config</code><span class="sig-paren">(</span><em>$key</em>, <em>$config</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Log\Log::config" title="Lien permanent vers cette définition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><ul class="first last simple">
<li><strong>$name</strong> (<em>string</em>) &#8211; Nom du journal en cours de connexion, utilisé
pour rejeter un journal plus tard.</li>
<li><strong>$config</strong> (<em>array</em>) &#8211; Tableau de configuration de l&#8217;information et
des arguments du constructeur pour le journal.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Récupère ou définit la configuration pour un Journal. Regardez
<a class="reference internal" href="#log-configuration"><span class="std std-ref">Configuration des flux d&#8217;un log (journal)</span></a> pour plus d&#8217;informations.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Cake\Log\Log::configured">
<em class="property">static </em><code class="descclassname">Cake\Log\Log::</code><code class="descname">configured</code><a class="headerlink" href="#Cake\Log\Log::configured" title="Lien permanent vers cette définition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Retourne:</th><td class="field-body">Un tableau des journaux configurés.</td>
</tr>
</tbody>
</table>
<p>Obtient les noms des journaux configurés.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Cake\Log\Log::drop">
<em class="property">static </em><code class="descclassname">Cake\Log\Log::</code><code class="descname">drop</code><span class="sig-paren">(</span><em>$name</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Log\Log::drop" title="Lien permanent vers cette définition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><ul class="first last simple">
<li><strong>$name</strong> (<em>string</em>) &#8211; Nom du journal pour lequel vous ne voulez plus
recevoir de messages.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="Cake\Log\Log::write">
<em class="property">static </em><code class="descclassname">Cake\Log\Log::</code><code class="descname">write</code><span class="sig-paren">(</span><em>$level</em>, <em>$message</em>, <em>$scope = []</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Log\Log::write" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Écrit un message dans tous les journaux configurés.
<code class="docutils literal"><span class="pre">$level</span></code> indique le niveau de message log étant créé.
<code class="docutils literal"><span class="pre">$message</span></code> est le message de l&#8217;entrée de log qui est en train d&#8217;être
écrite.
<code class="docutils literal"><span class="pre">$scope</span></code> est le scope(s) dans lequel un message de log est créé.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Cake\Log\Log::levels">
<em class="property">static </em><code class="descclassname">Cake\Log\Log::</code><code class="descname">levels</code><a class="headerlink" href="#Cake\Log\Log::levels" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Appelle cette méthode sans arguments, ex: <cite>Log::levels()</cite> pour
obtenir le niveau de configuration actuel.</p>
<div class="section" id="methodes-pratiques">
<h3>Méthodes pratiques<a class="headerlink" href="#methodes-pratiques" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les méthodes pratiques suivantes ont été ajoutées au journal <code class="docutils literal"><span class="pre">$message</span></code> avec
le niveau de log approprié.</p>
<dl class="staticmethod">
<dt id="Cake\Log\Log::emergency">
<em class="property">static </em><code class="descclassname">Cake\Log\Log::</code><code class="descname">emergency</code><span class="sig-paren">(</span><em>$message</em>, <em>$scope = []</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Log\Log::emergency" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="Cake\Log\Log::alert">
<em class="property">static </em><code class="descclassname">Cake\Log\Log::</code><code class="descname">alert</code><span class="sig-paren">(</span><em>$message</em>, <em>$scope = []</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Log\Log::alert" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="Cake\Log\Log::critical">
<em class="property">static </em><code class="descclassname">Cake\Log\Log::</code><code class="descname">critical</code><span class="sig-paren">(</span><em>$message</em>, <em>$scope = []</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Log\Log::critical" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="Cake\Log\Log::error">
<em class="property">static </em><code class="descclassname">Cake\Log\Log::</code><code class="descname">error</code><span class="sig-paren">(</span><em>$message</em>, <em>$scope = []</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Log\Log::error" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="Cake\Log\Log::warning">
<em class="property">static </em><code class="descclassname">Cake\Log\Log::</code><code class="descname">warning</code><span class="sig-paren">(</span><em>$message</em>, <em>$scope = []</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Log\Log::warning" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="Cake\Log\Log::notice">
<em class="property">static </em><code class="descclassname">Cake\Log\Log::</code><code class="descname">notice</code><span class="sig-paren">(</span><em>$message</em>, <em>$scope = []</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Log\Log::notice" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="Cake\Log\Log::debug">
<em class="property">static </em><code class="descclassname">Cake\Log\Log::</code><code class="descname">debug</code><span class="sig-paren">(</span><em>$message</em>, <em>$scope = []</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Log\Log::debug" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="Cake\Log\Log::info">
<em class="property">static </em><code class="descclassname">Cake\Log\Log::</code><code class="descname">info</code><span class="sig-paren">(</span><em>$message</em>, <em>$scope = []</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Log\Log::info" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

</div>
</div>
<div class="section" id="logging-trait">
<h2>Logging Trait<a class="headerlink" href="#logging-trait" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="trait">
<dt id="Cake\Log\LogTrait">
<em class="property">trait </em><code class="descclassname">Cake\Log\</code><code class="descname">LogTrait</code><a class="headerlink" href="#Cake\Log\LogTrait" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Un trait qui fournit des raccourcis pour les méthodes de journalisation</p>
</dd></dl>

<dl class="method">
<dt id="Cake\Log\LogTrait::log">
<code class="descclassname">Cake\Log\LogTrait::</code><code class="descname">log</code><span class="sig-paren">(</span><em>$msg</em>, <em>$level = LOG_ERR</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Log\LogTrait::log" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Ecrit un message dans les logs. Par défaut, les messages sont écrits dans
les messages ERROR. Si <code class="docutils literal"><span class="pre">$msg</span></code> n&#8217;est pas une chaîne, elle sera convertie
avec <code class="docutils literal"><span class="pre">print_r</span></code> avant d&#8217;être écrite.</p>
</dd></dl>

</div>
<div class="section" id="utiliser-monolog">
<h2>Utiliser Monolog<a class="headerlink" href="#utiliser-monolog" title="Lien permanent vers ce titre">¶</a></h2>
<p>Monolog est un logger populaire pour PHP. Puisqu&#8217;il intègre les mêmes interfaces
que les loggers de CakePHP, il est facile de l&#8217;utiliser dans votre application
comme logger par défaut.</p>
<p>Après avoir installé Monolog en utilisant composer, configurez le logger en
utilisant la méthode <code class="docutils literal"><span class="pre">Log::config()</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// config/bootstrap.php</span>

<span class="k">use</span> <span class="nx">Monolog\Logger</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Monolog\Handler\StreamHandler</span><span class="p">;</span>

<span class="nx">Log</span><span class="o">::</span><span class="na">config</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nv">$log</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Logger</span><span class="p">(</span><span class="s1">&#39;app&#39;</span><span class="p">);</span>
    <span class="nv">$log</span><span class="o">-&gt;</span><span class="na">pushHandler</span><span class="p">(</span><span class="k">new</span> <span class="nx">StreamHandler</span><span class="p">(</span><span class="s1">&#39;path/to/your/combined.log&#39;</span><span class="p">));</span>
    <span class="k">return</span> <span class="nv">$log</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// Optionnellement, coupez les loggers par défaut devenus redondants</span>
<span class="nx">Log</span><span class="o">::</span><span class="na">drop</span><span class="p">(</span><span class="s1">&#39;debug&#39;</span><span class="p">);</span>
<span class="nx">Log</span><span class="o">::</span><span class="na">drop</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Utilisez des méthodes similaires pour configurer un logger différent pour la console:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// config/bootstrap_cli.php</span>

<span class="k">use</span> <span class="nx">Monolog\Logger</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Monolog\Handler\StreamHandler</span><span class="p">;</span>

<span class="nx">Log</span><span class="o">::</span><span class="na">config</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nv">$log</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Logger</span><span class="p">(</span><span class="s1">&#39;cli&#39;</span><span class="p">);</span>
    <span class="nv">$log</span><span class="o">-&gt;</span><span class="na">pushHandler</span><span class="p">(</span><span class="k">new</span> <span class="nx">StreamHandler</span><span class="p">(</span><span class="s1">&#39;path/to/your/combined-cli.log&#39;</span><span class="p">));</span>
    <span class="k">return</span> <span class="nv">$log</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// Optionnellement, coupez les loggers par défaut devenus redondants</span>
<span class="nx">Configure</span><span class="o">::</span><span class="na">delete</span><span class="p">(</span><span class="s1">&#39;Log.debug&#39;</span><span class="p">);</span>
<span class="nx">Configure</span><span class="o">::</span><span class="na">delete</span><span class="p">(</span><span class="s1">&#39;Log.error&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Lorsque vous utilisez un logger spécifique pour la console, assurez-vous
de configurer conditionnellement le logger de votre application. Cela
évitera la duplication des entrées de log.</p>
</div>
</div>
</div>


            </div>
        </div>

        
        <div class="col-md-3 col-md-pull-9 hidden-xs hidden-sm" lang="fr">
            <aside class="sidebar">
                <div class="mb30 row">
<div id="sidebar-navigation" class="hidden-xs">
	<p class="caption"><span class="caption-text">Préface</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">CakePHP en un Coup d&#8217;Oeil</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Guide de Démarrage Rapide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices/3-x-migration-guide.html">3.x Guide de Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials-and-examples.html">Tutoriels et exemples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contribuer</a></li>
</ul>
<p class="caption"><span class="caption-text">Pour Commencer</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/routing.html">Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/request-response.html">Les Objets Request &amp; Response</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/middleware.html">Middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers.html">Controllers (Contrôleurs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views.html">Views (Vues)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../orm.html">Accès Base de Données &amp; ORM</a></li>
</ul>
<p class="caption"><span class="caption-text">Généralités</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../controllers/components/authentication.html">Authentification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bake.html">Console Bake</a></li>
<li class="toctree-l1"><a class="reference internal" href="caching.html">La mise en cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../console-and-shells.html">Outils de Console, Shells, &amp; Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/debugging.html">Debugger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment.html">Déploiement</a></li>
<li class="toctree-l1"><a class="reference internal" href="email.html">Email</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/errors.html">Gestion des Erreurs &amp; Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="events.html">Événements système</a></li>
<li class="toctree-l1"><a class="reference internal" href="internationalization-and-localization.html">Internationalisation &amp; Localisation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Journalisation (logging)</a></li>
<li class="toctree-l1"><a class="reference internal" href="form.html">Formulaires Sans Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/components/pagination.html">Pagination</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/rest.html">REST</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">Sécurité</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/sessions.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="validation.html">Validation</a></li>
</ul>
<p class="caption"><span class="caption-text">Utilitaires</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="app.html">Classe App</a></li>
<li class="toctree-l1"><a class="reference internal" href="collections.html">Collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="file-folder.html">Folder &amp; File</a></li>
<li class="toctree-l1"><a class="reference internal" href="hash.html">Hash</a></li>
<li class="toctree-l1"><a class="reference internal" href="httpclient.html">Client Http</a></li>
<li class="toctree-l1"><a class="reference internal" href="inflector.html">Inflector</a></li>
<li class="toctree-l1"><a class="reference internal" href="number.html">Number</a></li>
<li class="toctree-l1"><a class="reference internal" href="registry-objects.html">Objets Registry</a></li>
<li class="toctree-l1"><a class="reference internal" href="text.html">Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="time.html">Date &amp; Time</a></li>
<li class="toctree-l1"><a class="reference internal" href="xml.html">Xml</a></li>
</ul>
<p class="caption"><span class="caption-text">Divers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="global-constants-and-functions.html">Globales &amp; Fonctions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chronos.html">Chronos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../debug-kit.html">Debug Kit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migrations.html">Migrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../elasticsearch.html">ElasticSearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade-tool.html">Outil d&#8217;Upgrade</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices.html">Annexes</a></li>
</ul>

</div>

                </div>
            </aside>
            <aside class="sidebar">
                <div class="mb30 row">
                </div>
            </aside>
        </div>
    </div>
</div>

<section id="socials" class="back-3">
    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-5  social text-center">
                <div class="col-sm-3 col-xs-3">
                    <div id="fb-root"></div>
                        <script>(function(d, s, id) {
                          var js, fjs = d.getElementsByTagName(s)[0];
                          if (d.getElementById(id)) return;
                          js = d.createElement(s); js.id = id;
                          js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
                          fjs.parentNode.insertBefore(js, fjs);
                        }(document, 'script', 'facebook-jssdk'));
                        </script>
                        <div id="fb-root-face" class="fb-like" data-href="https://www.facebook.com/CakePHP/" data-layout="button_count" data-action="like" data-show-faces="true" data-share="false"></div>
                </div>

                <div class="col-sm-3 col-xs-3">
                    <iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=star&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
                </div>

                <div class="col-sm-3 col-xs-3">
                    <iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=fork&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
                </div>

                <div class="col-sm-3 col-xs-3">
                    <a href="https://twitter.com/CakePHP" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false">Follow @CakePHP</a>
                    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                </div>
            </div>

            <div class="col-xs-12 col-sm-12 col-md-7 social-footer text-center ">
                <a href="https://twitter.com/cakephp" data-toggle="tooltip" title="Twitter"><i class="fa icon-social fa-twitter"></i>
                <a href="https://www.facebook.com/groups/cake.community" data-toggle="tooltip" title="Facebook"><i class="fa icon-social fa-facebook"></i></a>
                <a href="https://goo.gl/mSC0s" data-toggle="tooltip" title="Google Plus"><i class="fa icon-social  fa-google-plus"></i></a>
                <a href="https://www.youtube.com/user/CakePHP" data-toggle="tooltip" title="Youtube"><i class="fa icon-social fa-youtube-play"></i></a>
                <a href="https://github.com/cakephp" data-toggle="tooltip" title="Github"><i class="fa icon-social fa-git"></i></a>
                <a href="https://cakesf.herokuapp.com/" target="_blank" title="Slack" data-toggle="tooltip"><i class="fa fa-slack icon-social"></i></a>
                <a href="https://stackoverflow.com/tags/cakephp" data-toggle="tooltip" title="Stack Overflow"><i class="fa icon-social fa-stack-overflow"></i></a>
                <a href="https://webchat.freenode.net/?channels=cakephp" data-toggle="tooltip" title="IRC" class="icon-irc">#IRC</a>
            </div>
        </div>
    </div>
</section>

<footer id="footer" class="footer-wrapper">
    <div class="container">

        <div class="row col-p30">
            <div class="col-sm-12 col-md-3">
                <div class="footer-widget t-footer">
                    <div class="col-md-12">
                        <a href="https://www.openhub.net/p/cakephp">
                            <img src="../_static/open-hub.png">
                        </a>
                        <div class="mt10">
                            <a href="https://www.rackspace.com/">
                                <img src="../_static/rackspace.png">
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-12 col-md-9">
                <div class="col-md-3 col-sm-6 business-solution">
                    <ul class="footer-menu">
                        <li class="menu-title">
    <a href="https://cakephp.org/business-solutions"><i class="fa fa-menu-title fa-briefcase"></i>Business Solutions</a>
</li>
<li class="menu-title mt30">
    <a href="https://cakephp.org/showcase"><i class="fa fa-menu-title fa-desktop"></i>Showcase</a>
</li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <ul class="footer-menu">
                        
<li class="menu-title">
	<i class="fa fa-menu-title fa-book"></i>Documentation
</li>

<li><a href="https://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Book</a></li>
<li><a href="https://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="https://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="https://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="https://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <ul class="footer-menu">
                        
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="https://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="https://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="https://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="https://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="https://github.com/FriendsOfCake/awesome-cakephp"><i class="fa fa-menu fa-chevron-right"></i>Featured Resources</a></li>
<li><a href="https://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="https://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="https://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <ul class="footer-menu">
                        
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="https://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="https://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="https://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="https://www.cakedc.com/"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 text-center mt30">
                <p class="copyright">
                            &copy; Copyright 2017, Cake Software Foundation, Inc.
                        Mis à jour le août 30, 2017.
                        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.5.
                </p>
            </div>
        </div>
    </div>
</footer>

<div id="inline-search-results"></div>


</div>

<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-743287-3']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
  </body>
</html>
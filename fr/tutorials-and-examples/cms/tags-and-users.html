

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tutoriel CMS - Tags et Users - 3.x</title>
    <link href="../../_static/favicon.png" type="image/png" rel="icon" />

    
    <link rel="stylesheet" href="../../_static/css/app.css" type="text/css" />
    
    <script type="text/javascript" src="../../_static/app.js"></script>

    <link rel="alternate" hreflang="en" href="../../../en/tutorials-and-examples/cms/tags-and-users.html" />

    <link rel="search" type="application/opensearchdescription+xml" title="Search within documentation CakePHP Cookbook 3.5" href="../../_static/opensearchdescription-book-3-x.xml">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="top" title="documentation CakePHP Cookbook 3.5" href="../../index.html" />
    <link rel="up" title="Tutoriels et exemples" href="../../tutorials-and-examples.html" />
    <link rel="next" title="Contribuer" href="../../contributing.html" />
    <link rel="prev" title="Tutoriel CMS - Création du Controller Articles" href="articles-controller.html" />

    <script type="text/javascript">
    window.lang = "fr";
    </script>
  </head>
  <body>

<div id="container">
    
    <header class="nav-down">
        <div class="container-fluid hidden-xs hidden-sm">
            <div class="row">
                <div class="col-sm-3 col-md-3">
                    <a class="logo-cake" href="https://cakephp.org">
                        <img src="../../_static/logo-cake.png" alt="CakePHP" />
                    </a>
                </div>

                <div class="col-sm-9 col-md-9">
                    <nav class="navbar-right">
                        <ul class="menu">
                            <li class="first">
                                <a href="#"><i class="fa fa-menu fa-chevron-down"></i>Documentation</a>
                                <ul class="submenu">
                                    
<li><a href="https://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Book</a></li>
<li><a href="https://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="https://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="https://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="https://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
                                </ul>
                            </li>

                            <li><a href="https://cakephp.org/business-solutions">Business Solutions</a></li>
                            <li><a href="https://cakephp.org/writers">Get Paid To Write</a></li>
                            <li><a href="https://cakephp.org/pages/team">Team</a></li>

                            <li>
                                <a href="#"><i class="fa fa-menu fa-chevron-down"></i>Community</a>
                                <div class="megamenu full">
                                    <div class="row">
                                        <div class="col-6 pl30">
                                            <ul class="megamenu-list">
                                                
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="https://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="https://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="https://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="https://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="https://github.com/FriendsOfCake/awesome-cakephp"><i class="fa fa-menu fa-chevron-right"></i>Featured Resources</a></li>
<li><a href="https://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="https://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="https://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
                                            </ul>
                                        </div>
                                        <div class="col-6 pl30">
                                            <ul class="megamenu-list">
                                                
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="https://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="https://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="https://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="https://www.cakedc.com/"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>

        
        <div class="container-fluid hidden-md hidden-lg">
            <div class="row">
                <div class="col-sm-6 col-xs-6">
                    <a class="logo-cake" href="https://cakephp.org">
                        <img src="../../_static/logo-cake.png" alt="CakePHP" />
                    </a>
                </div>

                <div class="col-sm-6 col-xs-6">
                    <div class="navbar-right">
                        <button id="btn-menu" class="btn-menu" data-toggle="modal" data-target="#modal">
                            <i class="fa fa-bars toggle-modal"></i>
                        </button>
                    </div>
                    <div id="wrap">
                        <form class="search" action="../../search.html" method="get">
                            <input name="q" type="search" placeholder="What are you looking for?">
                            <input id="search_submit" value="Recherche" type="submit">
                        </form>
                    </div>
                </div>
            </div>
        </div>

        
        <section id="nav-cook" class="hidden-xs hidden-sm">
            <div class="container-fluid ">
                <div class="row ">
                    <div class="col-md-12 back-book">
                        <div class="col-md-5 text-center t-cook-nav p0 hidden-sm hidden-xs">
                            <h2>
                                <a href="../../contents.html">
                                    <span class="glyph_range icon-submenu icon-submenu-cook">B</span>
                                    CakePHP 3.5 Red Velvet <strong>Cookbook</strong>
                                </a>
                            </h2>
                        </div>

                        <div class="col-md-4 hidden-sm">
                            <form class="search" action="../../search.html" method="get">
                                <input type="hidden" name="check_keywords" value="yes" />
                                <input type="hidden" name="area" value="default" />

                                <div class="col-md-10 p0">
                                    <input class="form-control form-cook" autocomplete="off" type="search" name="q" size="18" placeholder='Cookbook Search' />
                                </div>
                                <div class="col-md-2 p0 search-cook">
                                    <button type="submit">
                                        <span class="glyph_range icon-submenu icon-submenu-cook">A</span>
                                    </button>
                                </div>
                            </form>
                        </div>

                        
                        <div class="col-md-3">
                            <div class="col-md-6 p0">
                                <div class="col-md-7 t-language p0">
                                    <h6>Language:</h6>
                                </div>
                                <div class="col-md-5 p0">
                                    <ul class="nav navbar-nav">
                                        <li class="dropdown">
                                            <a class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown"
                                                    role="button" aria-haspopup="true" aria-expanded="false" href="#">
                                                        fr
                                                        <i class="fa fa-menu-en fa-chevron-down"></i>
                                                    </a>
                                            <ul class="dropdown-menu">
                                            
                                                <li><a href="../../../en/tutorials-and-examples/cms/tags-and-users.html">en</a></li>
                                            
                                                <li><span class="disabled">pt</span></li>
                                            
                                                <li><span class="disabled">es</span></li>
                                            
                                                <li><span class="disabled">ja</span></li>
                                            
                                                <li></li>
                                            
                                                <li><span class="disabled">zh</span></li>
                                            
                                                <li><span class="disabled">tr</span></li>
                                            
                                                <li><span class="disabled">ru</span></li>
                                            
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <div class="col-md-6 p0">
                                <div class="col-md-7 t-language p0">
                                    <h6>Version:</h6>
                                </div>
                                <div class="col-md-5 p0">
                                    <ul class="nav navbar-nav">
                                        <li class="dropdown">
                                            <a href="#" class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">3.x <i class="fa fa-menu-en fa-chevron-down"></i></a>
                                            <ul class="dropdown-menu">
                                                <li><a href="https://book.cakephp.org/3.0/fr">3.x Book</a></li>
                                                <li><a href="https://book.cakephp.org/2.0/fr">2.x Book</a></li>
                                                <li><a href="https://book.cakephp.org/1.3/fr/">1.3 Book</a></li>
                                                <li><a href="https://book.cakephp.org/1.2/fr/">1.2 Book</a></li>
                                                <li><a href="https://book.cakephp.org/1.1/en">1.1 Book</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            
        </section>
    </header>

    
    <section class="nav-btn visible-sm visible-xs">
        <div class="container">
            <div class="row">
                <div class="col-sm-6 col-xs-6 text-center">
                    <button id="btn-nav" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Nav</strong></button>
                </div>

                <div class="col-sm-6 col-xs-6 text-center">
                    <button id="btn-toc" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Table of Contents</strong></button>
                </div>
            </div>
        </div>
    </section>

    
    <div id="modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modal-header">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title-cookbook" id="modal-header"></h4>
                </div>
                <div class="modal-body"></div>
            </div>
        </div>
    </div>

<div class="container page-container "><div id="improve-slideout">
        <i class="fa fa-pencil icon-improve"></i>
        <a href="https://github.com/cakephp/docs/edit/3.0/fr/tutorials-and-examples/cms/tags-and-users.rst" target="_blank">
            <div id="improve-slideout-inner"><h6>Improve This Doc <i class="fa fa-github git-improve"></i></h6></div>
        </a>
    </div><a id="back-to-contents" href="#page-contents"><i class="fa fa-arrow-circle-up icon-improve" title="Back to Contents"></i></a>

    
    <div class="row">
        <div class="col-sm-12 col-md-9 col-md-push-3"><div class="page-contents col-sm-5">
                <h3>Page Contents</h3>
                <ul>
<li><a class="reference internal" href="#">Tutoriel CMS - Tags et Users</a><ul>
<li><a class="reference internal" href="#ajout-du-hash-du-mot-de-passe">Ajout du Hash du Mot de Passe</a><ul>
<li><a class="reference internal" href="#ajouter-un-systeme-de-tags-aux-articles">Ajouter un système de Tags aux Articles</a></li>
<li><a class="reference internal" href="#mettre-a-jour-la-gestion-des-articles-pour-permettre-d-ajouter-des-tags">Mettre à jour la gestion des Articles pour permettre d&#8217;ajouter des Tags</a></li>
<li><a class="reference internal" href="#trouver-des-articles-via-les-tags">Trouver des Articles via les Tags</a></li>
</ul>
</li>
<li><a class="reference internal" href="#creation-de-la-methode-finder">Création de la Méthode Finder</a></li>
<li><a class="reference internal" href="#creation-de-la-view">Création de la view</a><ul>
<li><a class="reference internal" href="#ameliorer-la-gestion-des-tags">Améliorer la Gestion des Tags</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ajouter-un-champ-pre-calcule">Ajouter un Champ Pré-calculé</a></li>
<li><a class="reference internal" href="#mettre-a-jour-nos-view">Mettre à jour nos View</a></li>
<li><a class="reference internal" href="#persister-la-chaine-de-tags">Persister la Chaîne de Tags</a></li>
</ul>
</li>
</ul>

            </div><div class="document-body">
            
  <div class="section" id="tutoriel-cms-tags-et-users">
<h1>Tutoriel CMS - Tags et Users<a class="headerlink" href="#tutoriel-cms-tags-et-users" title="Lien permanent vers ce titre">¶</a></h1>
<p>Maintenant que nous avons implémenté une gestion basique de la création d&#8217;articles,
il est temps de permettre à plusieurs auteurs de travailler sur notre CMS. Dans les
étapes précédentes, nous avons créé nos models, nos views et nos controllers à la
main. Cette fois, nous allons utiliser <a class="reference internal" href="../../bake.html"><span class="doc">Console Bake</span></a> pour créer la base de notre
code. Bake est un outil <abbr title="Command Line Interface">CLI</abbr> de génération de
code qui se base sur les conventions de CakePHP pour créer des applications
<abbr title="Create, Read, Update, Delete">CRUD</abbr> basique très rapidement. Nous allons
utiliser <code class="docutils literal"><span class="pre">bake</span></code> pour créer le code relatif à la gestion d&#8217;utilisateurs :</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">cd</span> /path/to/our/app

bin/cake bake model users
bin/cake bake controller users
bin/cake bake template users
</pre></div>
</div>
<p>Ces 3 commandes vont générées :</p>
<ul class="simple">
<li>Les fichiers de Table, Entity, et Fixture.</li>
<li>Le Controller</li>
<li>Les templates CRUD.</li>
<li>Les fichiers de Tests pour chaque classe générée.</li>
</ul>
<p>Bake va aussi utiliser les conventions CakePHP pour définir les associations
et les validations pour vos models.</p>
<div class="section" id="ajout-du-hash-du-mot-de-passe">
<h2>Ajout du Hash du Mot de Passe<a class="headerlink" href="#ajout-du-hash-du-mot-de-passe" title="Lien permanent vers ce titre">¶</a></h2>
<p>Si vous créez ou mettez à jour un utilisateur, vous remarquerez que les mots de
passe sont stockés en clair, ce qui est évidemment très mauvais en terme de
sécurité.</p>
<p>Corriger ce point nous permet de parler un peu plus de la couche model de CakePHP.
Dans CakePHP, nous séparons les méthodes qui s&#8217;occupent des collections d&#8217;objets
et d&#8217;un seul objet en différentes classes. Les méthodes qui s&#8217;occupent de
collections d&#8217;entity sont dans les classes <code class="docutils literal"><span class="pre">Table</span></code> tandis que les fonctionnalités
liées à un seul enregistrement sont mises dans les classes <code class="docutils literal"><span class="pre">Entity</span></code>.</p>
<p>Par exemple, hasher un mot de passe se fait par enregistrement, c&#8217;est pourquoi nous
allons implémenter ce comportement dans l&#8217;objet Entity. Puisque nous voulons hasher
le mot de passe à chaque fois qu&#8217;il est défini, nous allons utiliser une méthode
mutator / setter. Par convention, CakePHP appellera les méthodes de setter chaque fois
qu&#8217;une propriété se voit définie une valeur dans une entity. Ajoutons un setter pour
le mot de passe. Dans <strong>src/Model/Entity/User.php</strong>, ajoutez le code suivant:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">namespace</span> <span class="nx">App\Model\Entity</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Cake\Auth\DefaultPasswordHasher</span><span class="p">;</span> <span class="c1">// Ajouter cette ligne</span>
<span class="k">use</span> <span class="nx">Cake\ORM\Entity</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">User</span> <span class="k">extends</span> <span class="nx">Entity</span>
<span class="p">{</span>

    <span class="c1">// Tout le code de bake sera ici.</span>

    <span class="c1">// Ajoutez cette méthode</span>
    <span class="k">protected</span> <span class="k">function</span> <span class="nf">_setPassword</span><span class="p">(</span><span class="nv">$value</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">strlen</span><span class="p">(</span><span class="nv">$value</span><span class="p">))</span> <span class="p">{</span>
            <span class="nv">$hasher</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DefaultPasswordHasher</span><span class="p">();</span>

            <span class="k">return</span> <span class="nv">$hasher</span><span class="o">-&gt;</span><span class="na">hash</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Maintenant, rendez-vous sur <strong>http://localhost:8765/users</strong> pour voir une liste
des utilisateurs existants. Vous pouvez modifier l&#8217;utilisateur par défaut qui a été
créé pendant le chapitre <a class="reference internal" href="installation.html"><span class="doc">Installation</span></a> du tutoriel. Si vous
changez le mot de passe de l&#8217;utilisateur, vous devriez voir une version hashé du
mot de passe à la place de la valeur par défaut sur l&#8217;action index ou view. CakePHP
hash les mots de passe, par défaut, avec <a class="reference external" href="http://codahale.com/how-to-safely-store-a-password/">bcrypt</a>. Vous pouvez aussi utiliser
SHA-1 ou MD5 si vous travaillez sur une base de données déjà existante mais nous
vous recommandons d&#8217;utiliser bcrypt pour toutes vos nouvelles applications.</p>
<div class="section" id="ajouter-un-systeme-de-tags-aux-articles">
<h3>Ajouter un système de Tags aux Articles<a class="headerlink" href="#ajouter-un-systeme-de-tags-aux-articles" title="Lien permanent vers ce titre">¶</a></h3>
<p>Il serait utile et pratique d&#8217;avoir, pour notre application <abbr>CMS</abbr>, un moyen
de catégoriser notre contenu. Nous allons donc utiliser des tags pour permettre aux
utilisateurs d&#8217;ajouter des catégories et des labels à leurs contenus. Une fois de plus,
nous allons utiliser <code class="docutils literal"><span class="pre">bake</span></code> pour générer rapidement un code de base :</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1"># Génère tout le code d&#39;un coup.</span>
bin/cake bake all tags
</pre></div>
</div>
<p>Une fois que le code de base est généré, créez quelques tags en vous rendant sur
la page <strong>http://localhost:8765/tags/add</strong>.</p>
<p>Maintenant que nous avons une table Tags, nous pouvons créer une association entre
la table Articles et la table Tags. Nous pouvons le faire en ajoutant le code suivant
à la méthode <code class="docutils literal"><span class="pre">initialize</span></code> de ArticlesTable:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">public</span> <span class="k">function</span> <span class="nf">initialize</span><span class="p">(</span><span class="k">array</span> <span class="nv">$config</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">addBehavior</span><span class="p">(</span><span class="s1">&#39;Timestamp&#39;</span><span class="p">);</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">belongsToMany</span><span class="p">(</span><span class="s1">&#39;Tags&#39;</span><span class="p">);</span> <span class="c1">// Ajoutez cette ligne</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Cette association fonctionnera avec cette définition qui tient sur une seule ligne
car nous avons suivi les conventions de CakePHP lors de la création de nos tables.
Pour plus d&#8217;informations, rendez-vous dans la section <a class="reference internal" href="../../orm/associations.html"><span class="doc">Associations - Lier les Tables Ensemble</span></a>.</p>
</div>
<div class="section" id="mettre-a-jour-la-gestion-des-articles-pour-permettre-d-ajouter-des-tags">
<h3>Mettre à jour la gestion des Articles pour permettre d&#8217;ajouter des Tags<a class="headerlink" href="#mettre-a-jour-la-gestion-des-articles-pour-permettre-d-ajouter-des-tags" title="Lien permanent vers ce titre">¶</a></h3>
<p>Maintenant que notre application gère les tags, nous devons donner la possibilité
à nos utilisateurs d&#8217;ajouter les tags sur les articles. Premièrement, mettez à jour
l&#8217;action <code class="docutils literal"><span class="pre">add</span></code> pour qu&#8217;elle ressemble à ceci:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// dans src/Controller/ArticlesController.php</span>

<span class="k">namespace</span> <span class="nx">App\Controller</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">App\Controller\AppController</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">ArticlesController</span> <span class="k">extends</span> <span class="nx">AppController</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">add</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$article</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Articles</span><span class="o">-&gt;</span><span class="na">newEntity</span><span class="p">();</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">is</span><span class="p">(</span><span class="s1">&#39;post&#39;</span><span class="p">))</span> <span class="p">{</span>
            <span class="nv">$article</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Articles</span><span class="o">-&gt;</span><span class="na">patchEntity</span><span class="p">(</span><span class="nv">$article</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">getData</span><span class="p">());</span>
            <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Articles</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">(</span><span class="nv">$article</span><span class="p">))</span> <span class="p">{</span>
                <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Flash</span><span class="o">-&gt;</span><span class="na">success</span><span class="p">(</span><span class="nx">__</span><span class="p">(</span><span class="s1">&#39;Votre article a été sauvegardé.&#39;</span><span class="p">));</span>
                <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">redirect</span><span class="p">([</span><span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;index&#39;</span><span class="p">]);</span>
            <span class="p">}</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Flash</span><span class="o">-&gt;</span><span class="na">error</span><span class="p">(</span><span class="nx">__</span><span class="p">(</span><span class="s1">&#39;Impossible de sauvegarder l\&#39;article.&#39;</span><span class="p">));</span>
        <span class="p">}</span>
        <span class="c1">// Récupère une liste des tags.</span>
        <span class="nv">$tags</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Articles</span><span class="o">-&gt;</span><span class="na">Tags</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">);</span>

        <span class="c1">// Passe les tags au context de la view</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;tags&#39;</span><span class="p">,</span> <span class="nv">$tags</span><span class="p">);</span>

        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;article&#39;</span><span class="p">,</span> <span class="nv">$article</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// Les autres actions</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Les lignes de code ajoutées chargent une liste des tags sous forme de tableau associatif
de la forme <code class="docutils literal"><span class="pre">id</span> <span class="pre">=&gt;</span> <span class="pre">title</span></code>. Ce format nous permet de créer un nouvel input de tags dans
notre template. Ajoutez la ligne suivante dans le bloc PHP avec les autres appels à
<code class="docutils literal"><span class="pre">control()</span></code> dans <strong>src/Template/Articles/add.ctp</strong>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">control</span><span class="p">(</span><span class="s1">&#39;tags._ids&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;options&#39;</span> <span class="o">=&gt;</span> <span class="nv">$tags</span><span class="p">]);</span>
</pre></div>
</div>
<p>Cela rendra un select multiple qui utilisera la variable <code class="docutils literal"><span class="pre">$tags</span></code> pour générer
les options du select. Vous devriez maintenant créer quelques articles en leur
mettant des tags car dans la section suivante, nous allons ajouter la possibilité
de trouver des articles par leurs tags.</p>
<p>Vous devriez également mettre à jour la méthode <code class="docutils literal"><span class="pre">edit</span></code> pour permettre l&#8217;ajout
et la modification de tags sur les articles existant. La méthode <code class="docutils literal"><span class="pre">edit</span></code> devrait
maintenant ressemble à ceci:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">public</span> <span class="k">function</span> <span class="nf">edit</span><span class="p">(</span><span class="nv">$slug</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$article</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Articles</span>
        <span class="o">-&gt;</span><span class="na">findBySlug</span><span class="p">(</span><span class="nv">$slug</span><span class="p">)</span>
        <span class="o">-&gt;</span><span class="na">contain</span><span class="p">(</span><span class="s1">&#39;Tags&#39;</span><span class="p">)</span> <span class="c1">// charge les Tags associés</span>
        <span class="o">-&gt;</span><span class="na">firstOrFail</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">is</span><span class="p">([</span><span class="s1">&#39;post&#39;</span><span class="p">,</span> <span class="s1">&#39;put&#39;</span><span class="p">]))</span> <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Articles</span><span class="o">-&gt;</span><span class="na">patchEntity</span><span class="p">(</span><span class="nv">$article</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">getData</span><span class="p">());</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Articles</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">(</span><span class="nv">$article</span><span class="p">))</span> <span class="p">{</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Flash</span><span class="o">-&gt;</span><span class="na">success</span><span class="p">(</span><span class="nx">__</span><span class="p">(</span><span class="s1">&#39;Votre article a été modifié.&#39;</span><span class="p">));</span>
            <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">redirect</span><span class="p">([</span><span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;index&#39;</span><span class="p">]);</span>
        <span class="p">}</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Flash</span><span class="o">-&gt;</span><span class="na">error</span><span class="p">(</span><span class="nx">__</span><span class="p">(</span><span class="s1">&#39;Impossible de mettre à jour votre article.&#39;</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="c1">// Récupère une liste des tags.</span>
    <span class="nv">$tags</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Articles</span><span class="o">-&gt;</span><span class="na">Tags</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">);</span>

    <span class="c1">// Passe les tags au context de la view</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;tags&#39;</span><span class="p">,</span> <span class="nv">$tags</span><span class="p">);</span>

    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;article&#39;</span><span class="p">,</span> <span class="nv">$article</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Pensez à ajouter le nouveau select multiple qui permet de sélectionner les tags
comme nous l&#8217;avons fait dans le template <strong>add.ctp</strong> au template
<strong>src/Template/Articles/edit.ctp</strong>.</p>
</div>
<div class="section" id="trouver-des-articles-via-les-tags">
<h3>Trouver des Articles via les Tags<a class="headerlink" href="#trouver-des-articles-via-les-tags" title="Lien permanent vers ce titre">¶</a></h3>
<p>Une fois que les utilisateurs ont catégorisé leurs contenus, ils voudront probablement
retrouver ces contenus en fonction des tags utilisés. Pour développer ces fonctionnalités,
nous allons implémenter une nouvelle route, une nouvelle action de controller et une
fonction de finder pour chercher les articles par tags.</p>
<p>Idéalement, nous voulons une URL qui ressemblera à
<strong>http://localhost:8765/articles/tagged/funny/cat/gifs</strong>. Cela nous permettra
de trouver tous les articles avec le tag &#8216;funny&#8217;, &#8216;cat&#8217; ou &#8216;gifs&#8217;. Nous avons tout
d&#8217;abord besoin d&#8217;ajouter une nouvelle route. Votre fichier <strong>config/routes.php</strong>
devra ressembler à:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">use</span> <span class="nx">Cake\Routing\Route\DashedRoute</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Cake\Routing\Router</span><span class="p">;</span>

<span class="nx">Router</span><span class="o">::</span><span class="na">defaultRouteClass</span><span class="p">(</span><span class="nx">DashedRoute</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>

<span class="c1">// Ceci est la route à ajouter pour notre nouvelle action.</span>
<span class="c1">// Le `*` à la fin permet de préciser à CakePHP que cette action</span>
<span class="c1">// a des paramètres qui lui seront passés</span>
<span class="nx">Router</span><span class="o">::</span><span class="na">scope</span><span class="p">(</span>
    <span class="s1">&#39;/articles&#39;</span><span class="p">,</span>
    <span class="p">[</span><span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Articles&#39;</span><span class="p">],</span>
    <span class="k">function</span> <span class="p">(</span><span class="nv">$routes</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$routes</span><span class="o">-&gt;</span><span class="na">connect</span><span class="p">(</span><span class="s1">&#39;/tagged/*&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;tags&#39;</span><span class="p">]);</span>
    <span class="p">}</span>
<span class="p">);</span>

<span class="nx">Router</span><span class="o">::</span><span class="na">scope</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$routes</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Connect the default home and /pages/* routes.</span>
    <span class="nv">$routes</span><span class="o">-&gt;</span><span class="na">connect</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="p">[</span>
        <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Pages&#39;</span><span class="p">,</span>
        <span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;display&#39;</span><span class="p">,</span> <span class="s1">&#39;home&#39;</span>
    <span class="p">]);</span>
    <span class="nv">$routes</span><span class="o">-&gt;</span><span class="na">connect</span><span class="p">(</span><span class="s1">&#39;/pages/*&#39;</span><span class="p">,</span> <span class="p">[</span>
        <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Pages&#39;</span><span class="p">,</span>
        <span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;display&#39;</span>
    <span class="p">]);</span>

    <span class="c1">// Connect the conventions based default routes.</span>
    <span class="nv">$routes</span><span class="o">-&gt;</span><span class="na">fallbacks</span><span class="p">();</span>
<span class="p">});</span>

<span class="nx">Plugin</span><span class="o">::</span><span class="na">routes</span><span class="p">();</span>
</pre></div>
</div>
<p>Le code ci-dessus définit une nouvelle &#8216;route&#8217; qui permet de connecter le chemin
URL <strong>/articles/tagged/</strong> à <code class="docutils literal"><span class="pre">ArticlesController::tags()</span></code>. En définissant une nouvelle
route, vous pouvez isoler le format de vos URLs de la manière dont elles sont implémentées.
Si nous venions à visiter <strong>http://localhost:8765/articles/tagged</strong>, nous verrions
une page d&#8217;erreur de CakePHP vous indiquant que l&#8217;action du controller n&#8217;existe
pas. Créons de ce pas cette nouvelle méthode. Dans <strong>src/Controller/ArticlesController.php</strong>,
ajoutez ce qui suit:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Ajouter ce &#39;use&#39; juste sous la déclaration du namespace pour importer</span>
<span class="c1">// la classe Query</span>
<span class="k">use</span> <span class="nx">Cake\ORM\Query</span><span class="p">;</span>

<span class="k">public</span> <span class="k">function</span> <span class="nf">tags</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// La clé &#39;pass&#39; est fournie par CakePHP et contient tous les</span>
    <span class="c1">// segments d&#39;URL passés dans la requête</span>
    <span class="nv">$tags</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">getParam</span><span class="p">(</span><span class="s1">&#39;pass&#39;</span><span class="p">);</span>

    <span class="c1">// Utilisation de ArticlesTable pour trouver les articles taggés</span>
    <span class="nv">$articles</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Articles</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="s1">&#39;tagged&#39;</span><span class="p">,</span> <span class="p">[</span>
        <span class="s1">&#39;tags&#39;</span> <span class="o">=&gt;</span> <span class="nv">$tags</span>
    <span class="p">]);</span>

    <span class="c1">// Passage des variable dans le contexte de la view du template</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">([</span>
        <span class="s1">&#39;articles&#39;</span> <span class="o">=&gt;</span> <span class="nv">$articles</span><span class="p">,</span>
        <span class="s1">&#39;tags&#39;</span> <span class="o">=&gt;</span> <span class="nv">$tags</span>
    <span class="p">]);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Pour accéder aux autres parties des données de la requête, consultez la section
<a class="reference internal" href="../../controllers/request-response.html#cake-request"><span class="std std-ref">ServerRequest</span></a>.</p>
<p>Puisque les arguments passés sont aussi fournis comme paramètres de la méthode
d&#8217;action, nous pourrions également écrire l&#8217;action en utilisant les arguments
variadic de PHP:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">public</span> <span class="k">function</span> <span class="nf">tags</span><span class="p">(</span><span class="o">...</span><span class="nv">$tags</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Utilisation de ArticlesTable pour trouver les articles taggés</span>
    <span class="nv">$articles</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Articles</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="s1">&#39;tagged&#39;</span><span class="p">,</span> <span class="p">[</span>
        <span class="s1">&#39;tags&#39;</span> <span class="o">=&gt;</span> <span class="nv">$tags</span>
    <span class="p">]);</span>

    <span class="c1">// Passage des variable dans le contexte de la view du template</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">([</span>
        <span class="s1">&#39;articles&#39;</span> <span class="o">=&gt;</span> <span class="nv">$articles</span><span class="p">,</span>
        <span class="s1">&#39;tags&#39;</span> <span class="o">=&gt;</span> <span class="nv">$tags</span>
    <span class="p">]);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="creation-de-la-methode-finder">
<h2>Création de la Méthode Finder<a class="headerlink" href="#creation-de-la-methode-finder" title="Lien permanent vers ce titre">¶</a></h2>
<p>Dans CakePHP, nous aimons garder nos actions de controller le plus minimaliste
possible et mettons la majorité de la logique de notre application dans la couche
model. Si vous veniez à visiter l&#8217;URL <strong>/articles/tagged</strong>, vous verriez une erreur
vous indiquant que la méthode <code class="docutils literal"><span class="pre">findTagged()</span></code> n&#8217;existe pas. Dans
<strong>src/Model/Table/ArticlesTable.php</strong>, ajoutez le code suivant:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// L&#39;argument $query est une instance du Query builder.</span>
<span class="c1">// Le tableau $options va contenir l&#39;option &#39;tags&#39; que nous avons passé</span>
<span class="c1">// à find(&#39;tagged&#39;) dans notre action de controller.</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">findTagged</span><span class="p">(</span><span class="nx">Query</span> <span class="nv">$query</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$options</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$columns</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;Articles.id&#39;</span><span class="p">,</span> <span class="s1">&#39;Articles.user_id&#39;</span><span class="p">,</span> <span class="s1">&#39;Articles.title&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Articles.body&#39;</span><span class="p">,</span> <span class="s1">&#39;Articles.published&#39;</span><span class="p">,</span> <span class="s1">&#39;Articles.created&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Articles.slug&#39;</span><span class="p">,</span>
    <span class="p">];</span>

    <span class="nv">$query</span> <span class="o">=</span> <span class="nv">$query</span>
        <span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="nv">$columns</span><span class="p">)</span>
        <span class="o">-&gt;</span><span class="na">distinct</span><span class="p">(</span><span class="nv">$columns</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$options</span><span class="p">[</span><span class="s1">&#39;tags&#39;</span><span class="p">]))</span> <span class="p">{</span>
        <span class="c1">// si aucun tag n&#39;est fourni, trouvons les articles qui n&#39;ont pas de tags</span>
        <span class="nv">$query</span><span class="o">-&gt;</span><span class="na">leftJoinWith</span><span class="p">(</span><span class="s1">&#39;Tags&#39;</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">where</span><span class="p">([</span><span class="s1">&#39;Tags.title IS&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">]);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// Trouvons les articles qui ont au moins un des tags fourni</span>
        <span class="nv">$query</span><span class="o">-&gt;</span><span class="na">innerJoinWith</span><span class="p">(</span><span class="s1">&#39;Tags&#39;</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">where</span><span class="p">([</span><span class="s1">&#39;Tags.title IN&#39;</span> <span class="o">=&gt;</span> <span class="nv">$options</span><span class="p">[</span><span class="s1">&#39;tags&#39;</span><span class="p">]]);</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nv">$query</span><span class="o">-&gt;</span><span class="na">group</span><span class="p">([</span><span class="s1">&#39;Articles.id&#39;</span><span class="p">]);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Nous venons d&#8217;implémenter <a class="reference internal" href="../../orm/retrieving-data-and-resultsets.html#custom-find-methods"><span class="std std-ref">un custom finder</span></a>. Ce concept
très pratique de CakePHP vous permet de définir des requêtes réutilisables. Les
méthodes finder récupèrent toujours en paramètres un objet <a class="reference internal" href="../../orm/query-builder.html"><span class="doc">Query Builder</span></a>
et un tableau d&#8217;options. Les finders peuvent manipuler la requête et ajouter
n&#8217;importe quels condition ou critère. Une fois la logique terminée, le finder doit
retourner une instance modifiée de l&#8217;objet query. Dans notre finder, nous utilisons
les méthodes <code class="docutils literal"><span class="pre">distinct()</span></code> et <code class="docutils literal"><span class="pre">leftJoin()</span></code> qui nous permettent de trouver les articles
différents qui ont les tags correspondant.</p>
</div>
<div class="section" id="creation-de-la-view">
<h2>Création de la view<a class="headerlink" href="#creation-de-la-view" title="Lien permanent vers ce titre">¶</a></h2>
<p>Si vous visitez à nouveau <strong>/articles/tagged</strong>, CakePHP vous affichera une nouvelle
erreur qui vous fait savoir qu&#8217;il manque le fichier de view. Créez le fichier
<strong>src/Template/Articles/tags.ctp</strong> et ajoutez le contenu suivant:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span>
    <span class="nx">Articles</span> <span class="nx">avec</span> <span class="nx">les</span> <span class="nx">tags</span>
    <span class="o">&lt;?=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Text</span><span class="o">-&gt;</span><span class="na">toList</span><span class="p">(</span><span class="nx">h</span><span class="p">(</span><span class="nv">$tags</span><span class="p">),</span> <span class="s1">&#39;ou&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/h1&gt;</span>

<span class="x">&lt;section&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$articles</span> <span class="k">as</span> <span class="nv">$article</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    &lt;article&gt;</span>
<span class="x">        &lt;!-- Utilisation du HtmlHelper pour créer le lien --&gt;</span>
<span class="x">        &lt;h4&gt;</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Html</span><span class="o">-&gt;</span><span class="na">link</span><span class="p">(</span>
            <span class="nv">$article</span><span class="o">-&gt;</span><span class="na">title</span><span class="p">,</span>
            <span class="p">[</span><span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Articles&#39;</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;view&#39;</span><span class="p">,</span> <span class="nv">$article</span><span class="o">-&gt;</span><span class="na">slug</span><span class="p">]</span>
        <span class="p">)</span> <span class="cp">?&gt;</span><span class="x">&lt;/h4&gt;</span>
<span class="x">        &lt;span&gt;</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nx">h</span><span class="p">(</span><span class="nv">$article</span><span class="o">-&gt;</span><span class="na">created</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    &lt;/article&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endforeach</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/section&gt;</span>
</pre></div>
</div>
<p>Dans le code ci-dessus, nous utilisons les Helpers <a class="reference internal" href="../../views/helpers/html.html"><span class="doc">Html</span></a> et
<a class="reference internal" href="../../views/helpers/text.html"><span class="doc">Text</span></a> pour nous aider à générer le contenu de notre view.
Nous utilisons également la fonction raccourcie <a class="reference internal" href="../../core-libraries/global-constants-and-functions.html#h" title="h"><code class="xref php php-func docutils literal"><span class="pre">h</span></code></a> pour échapper le
contenu HTML. Pensez à utiliser <code class="docutils literal"><span class="pre">h()</span></code> quand vous affichez des données pour
éviter les injections de HTML.</p>
<p>Le fichier <strong>tags.ctp</strong> que nous venons de créer suit les conventions CakePHP
pour les templates de view. La convention est d&#8217;utiliser le nom de l&#8217;action du
controller en minuscule et avec un underscore en séparateur.</p>
<p>Vous avez peut-être remarqué que nous utilisons les variables <code class="docutils literal"><span class="pre">$tags</span></code> et
<code class="docutils literal"><span class="pre">$articles</span></code> dans notre template de view. Quand nous utilisons la méthode
<code class="docutils literal"><span class="pre">set()</span></code> dans notre controller, nous définissons les variables qui doivent
être envoyées à notre view. La classe View fera alors en sorte de passer les
variables au scope du template comme variables &#8220;locales&#8221;.</p>
<p>Vous devriez maintenant être capable de visiter la page <strong>/articles/tagged/funny</strong>
et voir tous les articles avec le tag &#8216;funny&#8217;.</p>
<div class="section" id="ameliorer-la-gestion-des-tags">
<h3>Améliorer la Gestion des Tags<a class="headerlink" href="#ameliorer-la-gestion-des-tags" title="Lien permanent vers ce titre">¶</a></h3>
<p>Pour le moment, ajouter des tags est assez fastidieux puisque les rédacteurs auront
besoin de créer les tags à utiliser avant de les assigner. Nous pouvons améliorer
l&#8217;UI de notre gestion de tag en utilisant une liste de valeurs séparées par des
virgules. Cela nous permettra d&#8217;améliorer l&#8217;expérience utilisateur et de découvrir
d&#8217;autres fonctionnalités de l&#8217;ORM.</p>
</div>
</div>
<div class="section" id="ajouter-un-champ-pre-calcule">
<h2>Ajouter un Champ Pré-calculé<a class="headerlink" href="#ajouter-un-champ-pre-calcule" title="Lien permanent vers ce titre">¶</a></h2>
<p>Puisque nous souhaitons une manière simple d&#8217;accéder aux tags formattés pour une
entity, nous ajoutons un champ virtuel / pré-calculé pour l&#8217;entity. Dans
<strong>src/Model/Entity/Article.php</strong> ajoutez la méthode suivante:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Ajouter ce &#39;use&#39; juste sous la déclaration du namespace pour importer</span>
<span class="c1">// la classe Collection</span>
<span class="k">use</span> <span class="nx">Cake\Collection\Collection</span><span class="p">;</span>

<span class="k">protected</span> <span class="k">function</span> <span class="nf">_getTagString</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_properties</span><span class="p">[</span><span class="s1">&#39;tag_string&#39;</span><span class="p">]))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_properties</span><span class="p">[</span><span class="s1">&#39;tag_string&#39;</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">tags</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nv">$tags</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">tags</span><span class="p">);</span>
    <span class="nv">$str</span> <span class="o">=</span> <span class="nv">$tags</span><span class="o">-&gt;</span><span class="na">reduce</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$string</span><span class="p">,</span> <span class="nv">$tag</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$string</span> <span class="o">.</span> <span class="nv">$tag</span><span class="o">-&gt;</span><span class="na">title</span> <span class="o">.</span> <span class="s1">&#39;, &#39;</span><span class="p">;</span>
    <span class="p">},</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
    <span class="k">return</span> <span class="nb">trim</span><span class="p">(</span><span class="nv">$str</span><span class="p">,</span> <span class="s1">&#39;, &#39;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Cela nous permettra d&#8217;accéder à la propriété virtuelle <code class="docutils literal"><span class="pre">$article-&gt;tag_string</span></code>.
Nous utiliserons cette propriété plus tard.</p>
</div>
<div class="section" id="mettre-a-jour-nos-view">
<h2>Mettre à jour nos View<a class="headerlink" href="#mettre-a-jour-nos-view" title="Lien permanent vers ce titre">¶</a></h2>
<p>Maintenant que notre entity est mise à jour, nous pouvons ajouter un nouvel
élément de contrôle pour nos tags. Dans
<strong>src/Template/Articles/add.ctp</strong> et <strong>src/Template/Articles/edit.ctp</strong>,
remplacez l&#8217;élément de contrôle existant <code class="docutils literal"><span class="pre">tags._ids</span></code> avec la déclaration
suivante:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">control</span><span class="p">(</span><span class="s1">&#39;tag_string&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;text&#39;</span><span class="p">]);</span>
</pre></div>
</div>
</div>
<div class="section" id="persister-la-chaine-de-tags">
<h2>Persister la Chaîne de Tags<a class="headerlink" href="#persister-la-chaine-de-tags" title="Lien permanent vers ce titre">¶</a></h2>
<p>Maintenant que nous voyons les tags existant sous forme d&#8217;une chaîne, nous avons
besoin de sauvegarder les tags sous ce format. Puisque que nous avons rendu <code class="docutils literal"><span class="pre">tag_string</span></code>
accessible, l&#8217;ORM copiera les données de la requête dans notre entity. Nous
pouvons utiliser le hook <code class="docutils literal"><span class="pre">beforeSave()</span></code> pour parser la chaîne de tags et trouver /
construire les entities correspondantes. Ajoutez le code suivant à
<strong>src/Model/Table/ArticlesTable.php</strong>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">public</span> <span class="k">function</span> <span class="nf">beforeSave</span><span class="p">(</span><span class="nv">$event</span><span class="p">,</span> <span class="nv">$entity</span><span class="p">,</span> <span class="nv">$options</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$entity</span><span class="o">-&gt;</span><span class="na">tag_string</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$entity</span><span class="o">-&gt;</span><span class="na">tags</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_buildTags</span><span class="p">(</span><span class="nv">$entity</span><span class="o">-&gt;</span><span class="na">tag_string</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// Le code déjà existant</span>
<span class="p">}</span>

<span class="k">protected</span> <span class="k">function</span> <span class="nf">_buildTags</span><span class="p">(</span><span class="nv">$tagString</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Trim des tags</span>
    <span class="nv">$newTags</span> <span class="o">=</span> <span class="nb">array_map</span><span class="p">(</span><span class="s1">&#39;trim&#39;</span><span class="p">,</span> <span class="nb">explode</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="nv">$tagString</span><span class="p">));</span>
    <span class="c1">// Retire les tags vides</span>
    <span class="nv">$newTags</span> <span class="o">=</span> <span class="nb">array_filter</span><span class="p">(</span><span class="nv">$newTags</span><span class="p">);</span>
    <span class="c1">// Dé-doublonne les tags</span>
    <span class="nv">$newTags</span> <span class="o">=</span> <span class="nb">array_unique</span><span class="p">(</span><span class="nv">$newTags</span><span class="p">);</span>

    <span class="nv">$out</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="nv">$query</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Tags</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">()</span>
        <span class="o">-&gt;</span><span class="na">where</span><span class="p">([</span><span class="s1">&#39;Tags.title IN&#39;</span> <span class="o">=&gt;</span> <span class="nv">$newTags</span><span class="p">]);</span>

    <span class="c1">// Retire les tags existant de la liste des nouveaux tags.</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$query</span><span class="o">-&gt;</span><span class="na">extract</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="nv">$existing</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$index</span> <span class="o">=</span> <span class="nb">array_search</span><span class="p">(</span><span class="nv">$existing</span><span class="p">,</span> <span class="nv">$newTags</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$index</span> <span class="o">!==</span> <span class="k">false</span><span class="p">)</span> <span class="p">{</span>
            <span class="nb">unset</span><span class="p">(</span><span class="nv">$newTags</span><span class="p">[</span><span class="nv">$index</span><span class="p">]);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="c1">// Ajout des tags existant.</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$query</span> <span class="k">as</span> <span class="nv">$tag</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$out</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$tag</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="c1">// Ajout des nouveaux tags.</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$newTags</span> <span class="k">as</span> <span class="nv">$tag</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$out</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Tags</span><span class="o">-&gt;</span><span class="na">newEntity</span><span class="p">([</span><span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="nv">$tag</span><span class="p">]);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nv">$out</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Bien que ce code soit plus compliqué que tout ce que nous avons fait jusqu&#8217;ici,
il permet de mettre en avant les fonctions avancées de l&#8217;ORM : vous pouvez manipuler
le résultat de la requête en utilisant les méthodes de la classe Collection
(voir la section <a class="reference internal" href="../../core-libraries/collections.html"><span class="doc">Collections</span></a>) et pouvez également gérer
les scénarios où vous avez besoin de créer des entities à la volée.</p>
<p>Dans le chapitre suivant, nous ajouter une couche d&#8217;authentification.</p>
</div>
</div>


            </div>
        </div>

        
        <div class="col-md-3 col-md-pull-9 hidden-xs hidden-sm" lang="fr">
            <aside class="sidebar">
                <div class="mb30 row">
<div id="sidebar-navigation" class="hidden-xs">
	<p class="caption"><span class="caption-text">Préface</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">CakePHP en un Coup d&#8217;Oeil</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart.html">Guide de Démarrage Rapide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendices/3-x-migration-guide.html">3.x Guide de Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials-and-examples.html">Tutoriels et exemples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contribuer</a></li>
</ul>
<p class="caption"><span class="caption-text">Pour Commencer</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/routing.html">Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../controllers/request-response.html">Les Objets Request &amp; Response</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../controllers/middleware.html">Middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../controllers.html">Controllers (Contrôleurs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../views.html">Views (Vues)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../orm.html">Accès Base de Données &amp; ORM</a></li>
</ul>
<p class="caption"><span class="caption-text">Généralités</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../controllers/components/authentication.html">Authentification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bake.html">Console Bake</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-libraries/caching.html">La mise en cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../console-and-shells.html">Outils de Console, Shells, &amp; Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/debugging.html">Debugger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deployment.html">Déploiement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-libraries/email.html">Email</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/errors.html">Gestion des Erreurs &amp; Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-libraries/events.html">Événements système</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-libraries/internationalization-and-localization.html">Internationalisation &amp; Localisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-libraries/logging.html">Journalisation (logging)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-libraries/form.html">Formulaires Sans Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../controllers/components/pagination.html">Pagination</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/rest.html">REST</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security.html">Sécurité</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/sessions.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-libraries/validation.html">Validation</a></li>
</ul>
<p class="caption"><span class="caption-text">Utilitaires</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../core-libraries/app.html">Classe App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-libraries/collections.html">Collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-libraries/file-folder.html">Folder &amp; File</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-libraries/hash.html">Hash</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-libraries/httpclient.html">Client Http</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-libraries/inflector.html">Inflector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-libraries/number.html">Number</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-libraries/registry-objects.html">Objets Registry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-libraries/text.html">Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-libraries/time.html">Date &amp; Time</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-libraries/xml.html">Xml</a></li>
</ul>
<p class="caption"><span class="caption-text">Divers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../core-libraries/global-constants-and-functions.html">Globales &amp; Fonctions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chronos.html">Chronos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../debug-kit.html">Debug Kit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migrations.html">Migrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../elasticsearch.html">ElasticSearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../upgrade-tool.html">Outil d&#8217;Upgrade</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendices.html">Annexes</a></li>
</ul>

</div>

                </div>
            </aside>
            <aside class="sidebar">
                <div class="mb30 row">
                </div>
            </aside>
        </div>
    </div>
</div>

<section id="socials" class="back-3">
    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-5  social text-center">
                <div class="col-sm-3 col-xs-3">
                    <div id="fb-root"></div>
                        <script>(function(d, s, id) {
                          var js, fjs = d.getElementsByTagName(s)[0];
                          if (d.getElementById(id)) return;
                          js = d.createElement(s); js.id = id;
                          js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
                          fjs.parentNode.insertBefore(js, fjs);
                        }(document, 'script', 'facebook-jssdk'));
                        </script>
                        <div id="fb-root-face" class="fb-like" data-href="https://www.facebook.com/CakePHP/" data-layout="button_count" data-action="like" data-show-faces="true" data-share="false"></div>
                </div>

                <div class="col-sm-3 col-xs-3">
                    <iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=star&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
                </div>

                <div class="col-sm-3 col-xs-3">
                    <iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=fork&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
                </div>

                <div class="col-sm-3 col-xs-3">
                    <a href="https://twitter.com/CakePHP" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false">Follow @CakePHP</a>
                    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                </div>
            </div>

            <div class="col-xs-12 col-sm-12 col-md-7 social-footer text-center ">
                <a href="https://twitter.com/cakephp" data-toggle="tooltip" title="Twitter"><i class="fa icon-social fa-twitter"></i>
                <a href="https://www.facebook.com/groups/cake.community" data-toggle="tooltip" title="Facebook"><i class="fa icon-social fa-facebook"></i></a>
                <a href="https://goo.gl/mSC0s" data-toggle="tooltip" title="Google Plus"><i class="fa icon-social  fa-google-plus"></i></a>
                <a href="https://www.youtube.com/user/CakePHP" data-toggle="tooltip" title="Youtube"><i class="fa icon-social fa-youtube-play"></i></a>
                <a href="https://github.com/cakephp" data-toggle="tooltip" title="Github"><i class="fa icon-social fa-git"></i></a>
                <a href="https://cakesf.herokuapp.com/" target="_blank" title="Slack" data-toggle="tooltip"><i class="fa fa-slack icon-social"></i></a>
                <a href="https://stackoverflow.com/tags/cakephp" data-toggle="tooltip" title="Stack Overflow"><i class="fa icon-social fa-stack-overflow"></i></a>
                <a href="https://webchat.freenode.net/?channels=cakephp" data-toggle="tooltip" title="IRC" class="icon-irc">#IRC</a>
            </div>
        </div>
    </div>
</section>

<footer id="footer" class="footer-wrapper">
    <div class="container">

        <div class="row col-p30">
            <div class="col-sm-12 col-md-3">
                <div class="footer-widget t-footer">
                    <div class="col-md-12">
                        <a href="https://www.openhub.net/p/cakephp">
                            <img src="../../_static/open-hub.png">
                        </a>
                        <div class="mt10">
                            <a href="https://www.rackspace.com/">
                                <img src="../../_static/rackspace.png">
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-12 col-md-9">
                <div class="col-md-3 col-sm-6 business-solution">
                    <ul class="footer-menu">
                        <li class="menu-title">
    <a href="https://cakephp.org/business-solutions"><i class="fa fa-menu-title fa-briefcase"></i>Business Solutions</a>
</li>
<li class="menu-title mt30">
    <a href="https://cakephp.org/showcase"><i class="fa fa-menu-title fa-desktop"></i>Showcase</a>
</li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <ul class="footer-menu">
                        
<li class="menu-title">
	<i class="fa fa-menu-title fa-book"></i>Documentation
</li>

<li><a href="https://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Book</a></li>
<li><a href="https://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="https://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="https://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="https://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <ul class="footer-menu">
                        
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="https://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="https://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="https://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="https://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="https://github.com/FriendsOfCake/awesome-cakephp"><i class="fa fa-menu fa-chevron-right"></i>Featured Resources</a></li>
<li><a href="https://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="https://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="https://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <ul class="footer-menu">
                        
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="https://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="https://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="https://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="https://www.cakedc.com/"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 text-center mt30">
                <p class="copyright">
                            &copy; Copyright 2017, Cake Software Foundation, Inc.
                        Mis à jour le août 30, 2017.
                        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.5.
                </p>
            </div>
        </div>
    </div>
</footer>

<div id="inline-search-results"></div>


</div>

<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-743287-3']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
  </body>
</html>


<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Database Access &amp; ORM - 3.x</title>
    <link href="_static/favicon.png" type="image/png" rel="icon" />

    
    <link rel="stylesheet" href="_static/css/app.css" type="text/css" />
    
    <script type="text/javascript" src="_static/app.js"></script>

    <link rel="alternate" hreflang="pt_BR" href="../pt/orm.html" /><link rel="alternate" hreflang="es" href="../es/orm.html" /><link rel="alternate" hreflang="ja" href="../ja/orm.html" /><link rel="alternate" hreflang="fr" href="../fr/orm.html" /><link rel="alternate" hreflang="zh" href="../zh/orm.html" /><link rel="alternate" hreflang="tr" href="../tr/orm.html" /><link rel="alternate" hreflang="ru" href="../ru/orm.html" />

    <link rel="search" type="application/opensearchdescription+xml" title="Search within CakePHP Cookbook 3.5 documentation" href="_static/opensearchdescription-book-3-x.xml">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="top" title="CakePHP Cookbook 3.5 documentation" href="index.html" />
    <link rel="next" title="Database Basics" href="orm/database-basics.html" />
    <link rel="prev" title="Url" href="views/helpers/url.html" />

    <script type="text/javascript">
    window.lang = "en";
    </script>
  </head>
  <body>

<div id="container">
    
    <header class="nav-down">
        <div class="container-fluid hidden-xs hidden-sm">
            <div class="row">
                <div class="col-sm-3 col-md-3">
                    <a class="logo-cake" href="https://cakephp.org">
                        <img src="_static/logo-cake.png" alt="CakePHP" />
                    </a>
                </div>

                <div class="col-sm-9 col-md-9">
                    <nav class="navbar-right">
                        <ul class="menu">
                            <li class="first">
                                <a href="#"><i class="fa fa-menu fa-chevron-down"></i>Documentation</a>
                                <ul class="submenu">
                                    
<li><a href="https://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Book</a></li>
<li><a href="https://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="https://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="https://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="https://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
                                </ul>
                            </li>

                            <li><a href="https://cakephp.org/business-solutions">Business Solutions</a></li>
                            <li><a href="https://cakephp.org/writers">Get Paid To Write</a></li>
                            <li><a href="https://cakephp.org/pages/team">Team</a></li>

                            <li>
                                <a href="#"><i class="fa fa-menu fa-chevron-down"></i>Community</a>
                                <div class="megamenu full">
                                    <div class="row">
                                        <div class="col-6 pl30">
                                            <ul class="megamenu-list">
                                                
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="https://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="https://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="https://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="https://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="https://github.com/FriendsOfCake/awesome-cakephp"><i class="fa fa-menu fa-chevron-right"></i>Featured Resources</a></li>
<li><a href="https://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="https://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="https://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
                                            </ul>
                                        </div>
                                        <div class="col-6 pl30">
                                            <ul class="megamenu-list">
                                                
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="https://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="https://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="https://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="https://www.cakedc.com/"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>

        
        <div class="container-fluid hidden-md hidden-lg">
            <div class="row">
                <div class="col-sm-6 col-xs-6">
                    <a class="logo-cake" href="https://cakephp.org">
                        <img src="_static/logo-cake.png" alt="CakePHP" />
                    </a>
                </div>

                <div class="col-sm-6 col-xs-6">
                    <div class="navbar-right">
                        <button id="btn-menu" class="btn-menu" data-toggle="modal" data-target="#modal">
                            <i class="fa fa-bars toggle-modal"></i>
                        </button>
                    </div>
                    <div id="wrap">
                        <form class="search" action="search.html" method="get">
                            <input name="q" type="search" placeholder="What are you looking for?">
                            <input id="search_submit" value="Search" type="submit">
                        </form>
                    </div>
                </div>
            </div>
        </div>

        
        <section id="nav-cook" class="hidden-xs hidden-sm">
            <div class="container-fluid ">
                <div class="row ">
                    <div class="col-md-12 back-book">
                        <div class="col-md-5 text-center t-cook-nav p0 hidden-sm hidden-xs">
                            <h2>
                                <a href="contents.html">
                                    <span class="glyph_range icon-submenu icon-submenu-cook">B</span>
                                    CakePHP 3.5 Red Velvet <strong>Cookbook</strong>
                                </a>
                            </h2>
                        </div>

                        <div class="col-md-4 hidden-sm">
                            <form class="search" action="search.html" method="get">
                                <input type="hidden" name="check_keywords" value="yes" />
                                <input type="hidden" name="area" value="default" />

                                <div class="col-md-10 p0">
                                    <input class="form-control form-cook" autocomplete="off" type="search" name="q" size="18" placeholder='Cookbook Search' />
                                </div>
                                <div class="col-md-2 p0 search-cook">
                                    <button type="submit">
                                        <span class="glyph_range icon-submenu icon-submenu-cook">A</span>
                                    </button>
                                </div>
                            </form>
                        </div>

                        
                        <div class="col-md-3">
                            <div class="col-md-6 p0">
                                <div class="col-md-7 t-language p0">
                                    <h6>Language:</h6>
                                </div>
                                <div class="col-md-5 p0">
                                    <ul class="nav navbar-nav">
                                        <li class="dropdown">
                                            <a class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown"
                                                    role="button" aria-haspopup="true" aria-expanded="false" href="#">
                                                        en
                                                        <i class="fa fa-menu-en fa-chevron-down"></i>
                                                    </a>
                                            <ul class="dropdown-menu">
                                            
                                                <li></li>
                                            
                                                <li><a href="../pt/orm.html">pt</a></li>
                                            
                                                <li><a href="../es/orm.html">es</a></li>
                                            
                                                <li><a href="../ja/orm.html">ja</a></li>
                                            
                                                <li><a href="../fr/orm.html">fr</a></li>
                                            
                                                <li><a href="../zh/orm.html">zh</a></li>
                                            
                                                <li><a href="../tr/orm.html">tr</a></li>
                                            
                                                <li><a href="../ru/orm.html">ru</a></li>
                                            
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <div class="col-md-6 p0">
                                <div class="col-md-7 t-language p0">
                                    <h6>Version:</h6>
                                </div>
                                <div class="col-md-5 p0">
                                    <ul class="nav navbar-nav">
                                        <li class="dropdown">
                                            <a href="#" class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">3.x <i class="fa fa-menu-en fa-chevron-down"></i></a>
                                            <ul class="dropdown-menu">
                                                <li><a href="https://book.cakephp.org/3.0/en">3.x Book</a></li>
                                                <li><a href="https://book.cakephp.org/2.0/en">2.x Book</a></li>
                                                <li><a href="https://book.cakephp.org/1.3/en/">1.3 Book</a></li>
                                                <li><a href="https://book.cakephp.org/1.2/en/">1.2 Book</a></li>
                                                <li><a href="https://book.cakephp.org/1.1/en">1.1 Book</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            
        </section>
    </header>

    
    <section class="nav-btn visible-sm visible-xs">
        <div class="container">
            <div class="row">
                <div class="col-sm-6 col-xs-6 text-center">
                    <button id="btn-nav" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Nav</strong></button>
                </div>

                <div class="col-sm-6 col-xs-6 text-center">
                    <button id="btn-toc" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Table of Contents</strong></button>
                </div>
            </div>
        </div>
    </section>

    
    <div id="modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modal-header">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title-cookbook" id="modal-header"></h4>
                </div>
                <div class="modal-body"></div>
            </div>
        </div>
    </div>

<div class="container page-container "><div id="improve-slideout">
        <i class="fa fa-pencil icon-improve"></i>
        <a href="https://github.com/cakephp/docs/edit/3.0/en/orm.rst" target="_blank">
            <div id="improve-slideout-inner"><h6>Improve This Doc <i class="fa fa-github git-improve"></i></h6></div>
        </a>
    </div><a id="back-to-contents" href="#page-contents"><i class="fa fa-arrow-circle-up icon-improve" title="Back to Contents"></i></a>

    
    <div class="row">
        <div class="col-sm-12 col-md-9 col-md-push-3"><div class="page-contents col-sm-5">
                <h3>Page Contents</h3>
                <ul>
<li><a class="reference internal" href="#">Database Access &amp; ORM</a><ul>
<li><a class="reference internal" href="#quick-example">Quick Example</a></li>
<li><a class="reference internal" href="#more-information">More Information</a></li>
</ul>
</li>
</ul>

            </div><div class="document-body">
            
  <div class="section" id="database-access-orm">
<h1>Database Access &amp; ORM<a class="headerlink" href="#database-access-orm" title="Permalink to this headline">¶</a></h1>
<p>In CakePHP working with data through the database is done with two primary object
types. The first are <strong>repositories</strong> or <strong>table objects</strong>. These objects
provide access to collections of data. They allow you to save new records,
modify/delete existing ones, define relations, and perform bulk operations. The
second type of objects are <strong>entities</strong>. Entities represent individual records
and allow you to define row/record level behavior &amp; functionality.</p>
<p>These two classes are usually responsible for managing almost everything
that happens regarding your data, its validity, interactions and evolution
of the information workflow in your domain of work.</p>
<p>CakePHP&#8217;s built-in ORM specializes in relational databases, but can be extended
to support alternative datasources.</p>
<p>The CakePHP ORM borrows ideas and concepts from both ActiveRecord and Datamapper
patterns. It aims to create a hybrid implementation that combines aspects of
both patterns to create a fast, simple to use ORM.</p>
<p>Before we get started exploring the ORM, make sure you <a class="reference internal" href="orm/database-basics.html#database-configuration"><span class="std std-ref">configure your
database connections</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are familiar with previous versions of CakePHP, you should read the
<a class="reference internal" href="appendices/orm-migration.html"><span class="doc">New ORM Upgrade Guide</span></a> for important differences between CakePHP 3.0
and older versions of CakePHP.</p>
</div>
<div class="section" id="quick-example">
<h2>Quick Example<a class="headerlink" href="#quick-example" title="Permalink to this headline">¶</a></h2>
<p>To get started you don&#8217;t have to write any code. If you&#8217;ve followed the <a class="reference internal" href="intro/conventions.html#model-and-database-conventions"><span class="std std-ref">CakePHP
conventions for your database tables</span></a>
you can just start using the ORM. For example if we wanted to load some data from our <code class="docutils literal"><span class="pre">articles</span></code>
table we could do:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Cake\ORM\TableRegistry</span><span class="p">;</span>

<span class="nv">$articles</span> <span class="o">=</span> <span class="nx">TableRegistry</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;Articles&#39;</span><span class="p">);</span>

<span class="nv">$query</span> <span class="o">=</span> <span class="nv">$articles</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">();</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$query</span> <span class="k">as</span> <span class="nv">$row</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">title</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that we didn&#8217;t have to create any code or wire any configuration up.
The conventions in CakePHP allow us to skip some boilerplate code and allow the
framework to insert base classes when your application has not created
a concrete class. If we wanted to customize our ArticlesTable class adding some
associations or defining some additional methods we would add the following to
<strong>src/Model/Table/ArticlesTable.php</strong> after the <code class="docutils literal"><span class="pre">&lt;?php</span></code> opening tag:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">namespace</span> <span class="nx">App\Model\Table</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Cake\ORM\Table</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">ArticlesTable</span> <span class="k">extends</span> <span class="nx">Table</span>
<span class="p">{</span>

<span class="p">}</span>
</pre></div>
</div>
<p>Table classes use the CamelCased version of the table name with the <code class="docutils literal"><span class="pre">Table</span></code>
suffix as the class name. Once your class has been created you get a reference
to it using the <a class="reference internal" href="orm/table-objects.html#Cake\ORM\TableRegistry" title="Cake\ORM\TableRegistry"><code class="xref php php-class docutils literal"><span class="pre">ORM\TableRegistry</span></code></a> as before:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Cake\ORM\TableRegistry</span><span class="p">;</span>

<span class="c1">// Now $articles is an instance of our ArticlesTable class.</span>
<span class="nv">$articles</span> <span class="o">=</span> <span class="nx">TableRegistry</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;Articles&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Now that we have a concrete table class, we&#8217;ll probably want to use a concrete
entity class. Entity classes let you define accessor and mutator methods, define
custom logic for individual records and much more. We&#8217;ll start off by adding the
following to <strong>src/Model/Entity/Article.php</strong> after the <code class="docutils literal"><span class="pre">&lt;?php</span></code> opening tag:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">namespace</span> <span class="nx">App\Model\Entity</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Cake\ORM\Entity</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Article</span> <span class="k">extends</span> <span class="nx">Entity</span>
<span class="p">{</span>

<span class="p">}</span>
</pre></div>
</div>
<p>Entities use the singular CamelCase version of the table name as their class
name by default. Now that we have created our entity class, when we
load entities from the database we&#8217;ll get instances of our new Article class:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Cake\ORM\TableRegistry</span><span class="p">;</span>

<span class="c1">// Now an instance of ArticlesTable.</span>
<span class="nv">$articles</span> <span class="o">=</span> <span class="nx">TableRegistry</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;Articles&#39;</span><span class="p">);</span>
<span class="nv">$query</span> <span class="o">=</span> <span class="nv">$articles</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">();</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$query</span> <span class="k">as</span> <span class="nv">$row</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Each row is now an instance of our Article class.</span>
    <span class="k">echo</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">title</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>CakePHP uses naming conventions to link the Table and Entity class together. If
you need to customize which entity a table uses you can use the
<code class="docutils literal"><span class="pre">entityClass()</span></code> method to set a specific classname.</p>
<p>See the chapters on <a class="reference internal" href="orm/table-objects.html"><span class="doc">Table Objects</span></a> and <a class="reference internal" href="orm/entities.html"><span class="doc">Entities</span></a> for more
information on how to use table objects and entities in your application.</p>
</div>
<div class="section" id="more-information">
<h2>More Information<a class="headerlink" href="#more-information" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="orm/database-basics.html">Database Basics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="orm/database-basics.html#quick-tour">Quick Tour</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/database-basics.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/database-basics.html#managing-connections">Managing Connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/database-basics.html#data-types">Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/database-basics.html#connection-classes">Connection Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/database-basics.html#interacting-with-statements">Interacting with Statements</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/database-basics.html#query-logging">Query Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/database-basics.html#identifier-quoting">Identifier Quoting</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/database-basics.html#metadata-caching">Metadata Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/database-basics.html#creating-databases">Creating Databases</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="orm/query-builder.html">Query Builder</a><ul>
<li class="toctree-l2"><a class="reference internal" href="orm/query-builder.html#the-query-object">The Query Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/query-builder.html#selecting-data">Selecting Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/query-builder.html#advanced-conditions">Advanced Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/query-builder.html#getting-results">Getting Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/query-builder.html#loading-associations">Loading Associations</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/query-builder.html#inserting-data">Inserting Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/query-builder.html#updating-data">Updating Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/query-builder.html#deleting-data">Deleting Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/query-builder.html#sql-injection-prevention">SQL Injection Prevention</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/query-builder.html#more-complex-queries">More Complex Queries</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="orm/table-objects.html">Table Objects</a><ul>
<li class="toctree-l2"><a class="reference internal" href="orm/table-objects.html#basic-usage">Basic Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/table-objects.html#lifecycle-callbacks">Lifecycle Callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/table-objects.html#behaviors">Behaviors</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/table-objects.html#configuring-connections">Configuring Connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/table-objects.html#using-the-tableregistry">Using the TableRegistry</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="orm/entities.html">Entities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="orm/entities.html#creating-entity-classes">Creating Entity Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/entities.html#creating-entities">Creating Entities</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/entities.html#accessing-entity-data">Accessing Entity Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/entities.html#accessors-mutators">Accessors &amp; Mutators</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/entities.html#checking-if-an-entity-has-been-modified">Checking if an Entity Has Been Modified</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/entities.html#validation-errors">Validation Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/entities.html#mass-assignment">Mass Assignment</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/entities.html#lazy-loading-associations">Lazy Loading Associations</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/entities.html#creating-re-usable-code-with-traits">Creating Re-usable Code with Traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/entities.html#converting-to-arrays-json">Converting to Arrays/JSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/entities.html#storing-complex-types">Storing Complex Types</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="orm/retrieving-data-and-resultsets.html">Retrieving Data &amp; Results Sets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="orm/retrieving-data-and-resultsets.html#debugging-queries-and-resultsets">Debugging Queries and ResultSets</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/retrieving-data-and-resultsets.html#getting-a-single-entity-by-primary-key">Getting a Single Entity by Primary Key</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/retrieving-data-and-resultsets.html#using-finders-to-load-data">Using Finders to Load Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/retrieving-data-and-resultsets.html#getting-the-first-result">Getting the First Result</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/retrieving-data-and-resultsets.html#getting-a-count-of-results">Getting a Count of Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/retrieving-data-and-resultsets.html#finding-key-value-pairs">Finding Key/Value Pairs</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/retrieving-data-and-resultsets.html#finding-threaded-data">Finding Threaded Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/retrieving-data-and-resultsets.html#custom-finder-methods">Custom Finder Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/retrieving-data-and-resultsets.html#dynamic-finders">Dynamic Finders</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/retrieving-data-and-resultsets.html#retrieving-associated-data">Retrieving Associated Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/retrieving-data-and-resultsets.html#eager-loading-associations-via-contain">Eager Loading Associations Via Contain</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/retrieving-data-and-resultsets.html#filtering-by-associated-data-via-matching-and-joins">Filtering by Associated Data Via Matching And Joins</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/retrieving-data-and-resultsets.html#changing-fetching-strategies">Changing Fetching Strategies</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/retrieving-data-and-resultsets.html#lazy-loading-associations">Lazy Loading Associations</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/retrieving-data-and-resultsets.html#working-with-result-sets">Working with Result Sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/retrieving-data-and-resultsets.html#modifying-results-with-map-reduce">Modifying Results with Map/Reduce</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="orm/validation.html">Validating Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="orm/validation.html#validating-data-before-building-entities">Validating Data Before Building Entities</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/validation.html#creating-a-default-validation-set">Creating A Default Validation Set</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/validation.html#using-a-different-validation-set">Using A Different Validation Set</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/validation.html#combining-validators">Combining Validators</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/validation.html#validation-providers">Validation Providers</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/validation.html#getting-validators-from-tables">Getting Validators From Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/validation.html#default-validator-class">Default Validator Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/validation.html#applying-application-rules">Applying Application Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/validation.html#validation-vs-application-rules">Validation vs. Application Rules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="orm/saving-data.html">Saving Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="orm/saving-data.html#a-glance-over-saving-data">A Glance Over Saving Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/saving-data.html#converting-request-data-into-entities">Converting Request Data into Entities</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/saving-data.html#saving-entities">Saving Entities</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/saving-data.html#strict-saving">Strict Saving</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/saving-data.html#saving-multiple-entities">Saving Multiple Entities</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/saving-data.html#bulk-updates">Bulk Updates</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="orm/deleting-data.html">Deleting Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="orm/deleting-data.html#cascading-deletes">Cascading Deletes</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/deleting-data.html#bulk-deletes">Bulk Deletes</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/deleting-data.html#strict-deletes">Strict Deletes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="orm/associations.html">Associations - Linking Tables Together</a><ul>
<li class="toctree-l2"><a class="reference internal" href="orm/associations.html#hasone-associations">HasOne Associations</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/associations.html#belongsto-associations">BelongsTo Associations</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/associations.html#hasmany-associations">HasMany Associations</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/associations.html#belongstomany-associations">BelongsToMany Associations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="orm/behaviors.html">Behaviors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="orm/behaviors.html#using-behaviors">Using Behaviors</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/behaviors.html#core-behaviors">Core Behaviors</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/behaviors.html#creating-a-behavior">Creating a Behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/behaviors.html#transforming-request-data-into-entity-properties">Transforming Request Data into Entity Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/behaviors.html#removing-loaded-behaviors">Removing Loaded Behaviors</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/behaviors.html#accessing-loaded-behaviors">Accessing Loaded Behaviors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="orm/schema-system.html">Schema System</a><ul>
<li class="toctree-l2"><a class="reference internal" href="orm/schema-system.html#schema-tableschema-objects">Schema\TableSchema Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/schema-system.html#schema-collections">Schema Collections</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="console-and-shells/orm-cache.html">ORM Cache Shell</a></li>
</ul>
</div>
</div>
</div>


            </div>
        </div>

        
        <div class="col-md-3 col-md-pull-9 hidden-xs hidden-sm" lang="en">
            <aside class="sidebar">
                <div class="mb30 row">
<div id="sidebar-navigation" class="hidden-xs">
	<p class="caption"><span class="caption-text">Preface</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">CakePHP at a Glance</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendices/3-x-migration-guide.html">3.x Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials-and-examples.html">Tutorials &amp; Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/routing.html">Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="controllers/request-response.html">Request &amp; Response Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="controllers/middleware.html">Middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="controllers.html">Controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="views.html">Views</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Database Access &amp; ORM</a><ul>
<li class="toctree-l2"><a class="reference internal" href="orm/database-basics.html">Database Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/query-builder.html">Query Builder</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/table-objects.html">Table Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/entities.html">Entities</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/retrieving-data-and-resultsets.html">Retrieving Data &amp; Results Sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/validation.html">Validating Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/saving-data.html">Saving Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/deleting-data.html">Deleting Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/associations.html">Associations - Linking Tables Together</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/behaviors.html">Behaviors</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm/schema-system.html">Schema System</a></li>
<li class="toctree-l2"><a class="reference internal" href="console-and-shells/orm-cache.html">ORM Cache Shell</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Using CakePHP</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="controllers/components/authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="bake.html">Bake Console</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/caching.html">Caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="console-and-shells.html">Console Tools, Shells &amp; Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="deployment.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/email.html">Email</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/errors.html">Error &amp; Exception Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/events.html">Events System</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/internationalization-and-localization.html">Internationalization &amp; Localization</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/form.html">Modelless Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="controllers/components/pagination.html">Pagination</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/rest.html">REST</a></li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/sessions.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/validation.html">Validation</a></li>
</ul>
<p class="caption"><span class="caption-text">Utility Classes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/app.html">App Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/collections.html">Collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/file-folder.html">Folder &amp; File</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/hash.html">Hash</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/httpclient.html">Http Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/inflector.html">Inflector</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/number.html">Number</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/registry-objects.html">Registry Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/text.html">Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/time.html">Date &amp; Time</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/xml.html">Xml</a></li>
</ul>
<p class="caption"><span class="caption-text">Plugins</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="chronos.html">Chronos</a></li>
<li class="toctree-l1"><a class="reference internal" href="debug-kit.html">Debug Kit</a></li>
<li class="toctree-l1"><a class="reference internal" href="migrations.html">Migrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="elasticsearch.html">ElasticSearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrade-tool.html">Upgrade Tool</a></li>
</ul>
<p class="caption"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/global-constants-and-functions.html">Constants &amp; Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendices.html">Appendices</a></li>
</ul>

</div>

                </div>
            </aside>
            <aside class="sidebar">
                <div class="mb30 row">
                </div>
            </aside>
        </div>
    </div>
</div>

<section id="socials" class="back-3">
    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-5  social text-center">
                <div class="col-sm-3 col-xs-3">
                    <div id="fb-root"></div>
                        <script>(function(d, s, id) {
                          var js, fjs = d.getElementsByTagName(s)[0];
                          if (d.getElementById(id)) return;
                          js = d.createElement(s); js.id = id;
                          js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
                          fjs.parentNode.insertBefore(js, fjs);
                        }(document, 'script', 'facebook-jssdk'));
                        </script>
                        <div id="fb-root-face" class="fb-like" data-href="https://www.facebook.com/CakePHP/" data-layout="button_count" data-action="like" data-show-faces="true" data-share="false"></div>
                </div>

                <div class="col-sm-3 col-xs-3">
                    <iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=star&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
                </div>

                <div class="col-sm-3 col-xs-3">
                    <iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=fork&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
                </div>

                <div class="col-sm-3 col-xs-3">
                    <a href="https://twitter.com/CakePHP" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false">Follow @CakePHP</a>
                    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                </div>
            </div>

            <div class="col-xs-12 col-sm-12 col-md-7 social-footer text-center ">
                <a href="https://twitter.com/cakephp" data-toggle="tooltip" title="Twitter"><i class="fa icon-social fa-twitter"></i>
                <a href="https://www.facebook.com/groups/cake.community" data-toggle="tooltip" title="Facebook"><i class="fa icon-social fa-facebook"></i></a>
                <a href="https://goo.gl/mSC0s" data-toggle="tooltip" title="Google Plus"><i class="fa icon-social  fa-google-plus"></i></a>
                <a href="https://www.youtube.com/user/CakePHP" data-toggle="tooltip" title="Youtube"><i class="fa icon-social fa-youtube-play"></i></a>
                <a href="https://github.com/cakephp" data-toggle="tooltip" title="Github"><i class="fa icon-social fa-git"></i></a>
                <a href="https://cakesf.herokuapp.com/" target="_blank" title="Slack" data-toggle="tooltip"><i class="fa fa-slack icon-social"></i></a>
                <a href="https://stackoverflow.com/tags/cakephp" data-toggle="tooltip" title="Stack Overflow"><i class="fa icon-social fa-stack-overflow"></i></a>
                <a href="https://webchat.freenode.net/?channels=cakephp" data-toggle="tooltip" title="IRC" class="icon-irc">#IRC</a>
            </div>
        </div>
    </div>
</section>

<footer id="footer" class="footer-wrapper">
    <div class="container">

        <div class="row col-p30">
            <div class="col-sm-12 col-md-3">
                <div class="footer-widget t-footer">
                    <div class="col-md-12">
                        <a href="https://www.openhub.net/p/cakephp">
                            <img src="_static/open-hub.png">
                        </a>
                        <div class="mt10">
                            <a href="https://www.rackspace.com/">
                                <img src="_static/rackspace.png">
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-12 col-md-9">
                <div class="col-md-3 col-sm-6 business-solution">
                    <ul class="footer-menu">
                        <li class="menu-title">
    <a href="https://cakephp.org/business-solutions"><i class="fa fa-menu-title fa-briefcase"></i>Business Solutions</a>
</li>
<li class="menu-title mt30">
    <a href="https://cakephp.org/showcase"><i class="fa fa-menu-title fa-desktop"></i>Showcase</a>
</li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <ul class="footer-menu">
                        
<li class="menu-title">
	<i class="fa fa-menu-title fa-book"></i>Documentation
</li>

<li><a href="https://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Book</a></li>
<li><a href="https://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="https://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="https://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="https://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <ul class="footer-menu">
                        
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="https://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="https://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="https://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="https://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="https://github.com/FriendsOfCake/awesome-cakephp"><i class="fa fa-menu fa-chevron-right"></i>Featured Resources</a></li>
<li><a href="https://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="https://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="https://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <ul class="footer-menu">
                        
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="https://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="https://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="https://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="https://www.cakedc.com/"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 text-center mt30">
                <p class="copyright">
                            &copy; Copyright 2017, Cake Software Foundation, Inc.
                        Last updated on Aug 30, 2017.
                        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.5.
                </p>
            </div>
        </div>
    </div>
</footer>

<div id="inline-search-results"></div>


</div>

<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-743287-3']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
  </body>
</html>
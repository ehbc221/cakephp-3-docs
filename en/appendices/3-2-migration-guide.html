

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3.2 Migration Guide - 3.x</title>
    <link href="../_static/favicon.png" type="image/png" rel="icon" />

    
    <link rel="stylesheet" href="../_static/css/app.css" type="text/css" />
    
    <script type="text/javascript" src="../_static/app.js"></script>

    <link rel="alternate" hreflang="pt_BR" href="../../pt/appendices/3-2-migration-guide.html" /><link rel="alternate" hreflang="es" href="../../es/appendices/3-2-migration-guide.html" /><link rel="alternate" hreflang="ja" href="../../ja/appendices/3-2-migration-guide.html" /><link rel="alternate" hreflang="fr" href="../../fr/appendices/3-2-migration-guide.html" /><link rel="alternate" hreflang="zh" href="../../zh/appendices/3-2-migration-guide.html" /><link rel="alternate" hreflang="tr" href="../../tr/appendices/3-2-migration-guide.html" /><link rel="alternate" hreflang="ru" href="../../ru/appendices/3-2-migration-guide.html" />

    <link rel="search" type="application/opensearchdescription+xml" title="Search within CakePHP Cookbook 3.5 documentation" href="../_static/opensearchdescription-book-3-x.xml">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="top" title="CakePHP Cookbook 3.5 documentation" href="../index.html" />
    <link rel="up" title="3.x Migration Guide" href="3-x-migration-guide.html" />
    <link rel="next" title="3.1 Migration Guide" href="3-1-migration-guide.html" />
    <link rel="prev" title="3.3 Migration Guide" href="3-3-migration-guide.html" />

    <script type="text/javascript">
    window.lang = "en";
    </script>
  </head>
  <body>

<div id="container">
    
    <header class="nav-down">
        <div class="container-fluid hidden-xs hidden-sm">
            <div class="row">
                <div class="col-sm-3 col-md-3">
                    <a class="logo-cake" href="https://cakephp.org">
                        <img src="../_static/logo-cake.png" alt="CakePHP" />
                    </a>
                </div>

                <div class="col-sm-9 col-md-9">
                    <nav class="navbar-right">
                        <ul class="menu">
                            <li class="first">
                                <a href="#"><i class="fa fa-menu fa-chevron-down"></i>Documentation</a>
                                <ul class="submenu">
                                    
<li><a href="https://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Book</a></li>
<li><a href="https://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="https://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="https://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="https://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
                                </ul>
                            </li>

                            <li><a href="https://cakephp.org/business-solutions">Business Solutions</a></li>
                            <li><a href="https://cakephp.org/writers">Get Paid To Write</a></li>
                            <li><a href="https://cakephp.org/pages/team">Team</a></li>

                            <li>
                                <a href="#"><i class="fa fa-menu fa-chevron-down"></i>Community</a>
                                <div class="megamenu full">
                                    <div class="row">
                                        <div class="col-6 pl30">
                                            <ul class="megamenu-list">
                                                
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="https://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="https://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="https://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="https://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="https://github.com/FriendsOfCake/awesome-cakephp"><i class="fa fa-menu fa-chevron-right"></i>Featured Resources</a></li>
<li><a href="https://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="https://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="https://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
                                            </ul>
                                        </div>
                                        <div class="col-6 pl30">
                                            <ul class="megamenu-list">
                                                
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="https://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="https://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="https://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="https://www.cakedc.com/"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>

        
        <div class="container-fluid hidden-md hidden-lg">
            <div class="row">
                <div class="col-sm-6 col-xs-6">
                    <a class="logo-cake" href="https://cakephp.org">
                        <img src="../_static/logo-cake.png" alt="CakePHP" />
                    </a>
                </div>

                <div class="col-sm-6 col-xs-6">
                    <div class="navbar-right">
                        <button id="btn-menu" class="btn-menu" data-toggle="modal" data-target="#modal">
                            <i class="fa fa-bars toggle-modal"></i>
                        </button>
                    </div>
                    <div id="wrap">
                        <form class="search" action="../search.html" method="get">
                            <input name="q" type="search" placeholder="What are you looking for?">
                            <input id="search_submit" value="Search" type="submit">
                        </form>
                    </div>
                </div>
            </div>
        </div>

        
        <section id="nav-cook" class="hidden-xs hidden-sm">
            <div class="container-fluid ">
                <div class="row ">
                    <div class="col-md-12 back-book">
                        <div class="col-md-5 text-center t-cook-nav p0 hidden-sm hidden-xs">
                            <h2>
                                <a href="../contents.html">
                                    <span class="glyph_range icon-submenu icon-submenu-cook">B</span>
                                    CakePHP 3.5 Red Velvet <strong>Cookbook</strong>
                                </a>
                            </h2>
                        </div>

                        <div class="col-md-4 hidden-sm">
                            <form class="search" action="../search.html" method="get">
                                <input type="hidden" name="check_keywords" value="yes" />
                                <input type="hidden" name="area" value="default" />

                                <div class="col-md-10 p0">
                                    <input class="form-control form-cook" autocomplete="off" type="search" name="q" size="18" placeholder='Cookbook Search' />
                                </div>
                                <div class="col-md-2 p0 search-cook">
                                    <button type="submit">
                                        <span class="glyph_range icon-submenu icon-submenu-cook">A</span>
                                    </button>
                                </div>
                            </form>
                        </div>

                        
                        <div class="col-md-3">
                            <div class="col-md-6 p0">
                                <div class="col-md-7 t-language p0">
                                    <h6>Language:</h6>
                                </div>
                                <div class="col-md-5 p0">
                                    <ul class="nav navbar-nav">
                                        <li class="dropdown">
                                            <a class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown"
                                                    role="button" aria-haspopup="true" aria-expanded="false" href="#">
                                                        en
                                                        <i class="fa fa-menu-en fa-chevron-down"></i>
                                                    </a>
                                            <ul class="dropdown-menu">
                                            
                                                <li></li>
                                            
                                                <li><a href="../../pt/appendices/3-2-migration-guide.html">pt</a></li>
                                            
                                                <li><a href="../../es/appendices/3-2-migration-guide.html">es</a></li>
                                            
                                                <li><a href="../../ja/appendices/3-2-migration-guide.html">ja</a></li>
                                            
                                                <li><a href="../../fr/appendices/3-2-migration-guide.html">fr</a></li>
                                            
                                                <li><a href="../../zh/appendices/3-2-migration-guide.html">zh</a></li>
                                            
                                                <li><a href="../../tr/appendices/3-2-migration-guide.html">tr</a></li>
                                            
                                                <li><a href="../../ru/appendices/3-2-migration-guide.html">ru</a></li>
                                            
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <div class="col-md-6 p0">
                                <div class="col-md-7 t-language p0">
                                    <h6>Version:</h6>
                                </div>
                                <div class="col-md-5 p0">
                                    <ul class="nav navbar-nav">
                                        <li class="dropdown">
                                            <a href="#" class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">3.x <i class="fa fa-menu-en fa-chevron-down"></i></a>
                                            <ul class="dropdown-menu">
                                                <li><a href="https://book.cakephp.org/3.0/en">3.x Book</a></li>
                                                <li><a href="https://book.cakephp.org/2.0/en">2.x Book</a></li>
                                                <li><a href="https://book.cakephp.org/1.3/en/">1.3 Book</a></li>
                                                <li><a href="https://book.cakephp.org/1.2/en/">1.2 Book</a></li>
                                                <li><a href="https://book.cakephp.org/1.1/en">1.1 Book</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            
        </section>
    </header>

    
    <section class="nav-btn visible-sm visible-xs">
        <div class="container">
            <div class="row">
                <div class="col-sm-6 col-xs-6 text-center">
                    <button id="btn-nav" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Nav</strong></button>
                </div>

                <div class="col-sm-6 col-xs-6 text-center">
                    <button id="btn-toc" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Table of Contents</strong></button>
                </div>
            </div>
        </div>
    </section>

    
    <div id="modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modal-header">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title-cookbook" id="modal-header"></h4>
                </div>
                <div class="modal-body"></div>
            </div>
        </div>
    </div>

<div class="container page-container "><div id="improve-slideout">
        <i class="fa fa-pencil icon-improve"></i>
        <a href="https://github.com/cakephp/docs/edit/3.0/en/appendices/3-2-migration-guide.rst" target="_blank">
            <div id="improve-slideout-inner"><h6>Improve This Doc <i class="fa fa-github git-improve"></i></h6></div>
        </a>
    </div><a id="back-to-contents" href="#page-contents"><i class="fa fa-arrow-circle-up icon-improve" title="Back to Contents"></i></a>

    
    <div class="row">
        <div class="col-sm-12 col-md-9 col-md-push-3"><div class="page-contents col-sm-5">
                <h3>Page Contents</h3>
                <ul>
<li><a class="reference internal" href="#">3.2 Migration Guide</a><ul>
<li><a class="reference internal" href="#minimum-php-5-5-required">Minimum PHP 5.5 Required</a></li>
<li><a class="reference internal" href="#deprecations">Deprecations</a><ul>
<li><a class="reference internal" href="#disabling-deprecation-warnings">Disabling Deprecation Warnings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#new-enhancements">New Enhancements</a><ul>
<li><a class="reference internal" href="#carbon-replaced-with-chronos">Carbon Replaced with Chronos</a></li>
<li><a class="reference internal" href="#new-date-object">New Date Object</a></li>
<li><a class="reference internal" href="#new-immutable-date-and-time-objects">New Immutable Date and Time Objects</a></li>
<li><a class="reference internal" href="#corsbuilder-added">CorsBuilder Added</a></li>
<li><a class="reference internal" href="#redirectroute-raises-an-exception-on-redirect">RedirectRoute raises an exception on redirect</a></li>
<li><a class="reference internal" href="#orm-improvements">ORM Improvements</a></li>
<li><a class="reference internal" href="#improved-validator-api">Improved Validator API</a></li>
<li><a class="reference internal" href="#console-improvements">Console Improvements</a></li>
<li><a class="reference internal" href="#stopexception-added">StopException Added</a></li>
<li><a class="reference internal" href="#helper-initialize-added">Helper initialize() added</a></li>
<li><a class="reference internal" href="#fatal-error-memory-limit-handling">Fatal Error Memory Limit Handling</a></li>
</ul>
</li>
<li><a class="reference internal" href="#migration-steps">Migration Steps</a><ul>
<li><a class="reference internal" href="#updating-settostringformat">Updating setToStringFormat()</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            </div><div class="document-body">
            
  <div class="section" id="migration-guide">
<h1>3.2 Migration Guide<a class="headerlink" href="#migration-guide" title="Permalink to this headline">¶</a></h1>
<p>CakePHP 3.2 is an API compatible upgrade from 3.1. This page outlines the
changes and improvements made in 3.2.</p>
<div class="section" id="minimum-php-5-5-required">
<h2>Minimum PHP 5.5 Required<a class="headerlink" href="#minimum-php-5-5-required" title="Permalink to this headline">¶</a></h2>
<p>CakePHP 3.2 requires at least PHP 5.5.9. By adopting PHP 5.5 we can provide
better Date and Time libraries and remove dependencies on password compatibility
libraries.</p>
</div>
<div class="section" id="deprecations">
<h2>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h2>
<p>As we continue to improve CakePHP, certain features are deprecated as they are
replaced with better solutions. Deprecated features will not be removed until
4.0:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Shell::error()</span></code> is deprecated because its name does not clearly indicate
that it both outputs a message and stops execution. Use <code class="docutils literal"><span class="pre">Shell::abort()</span></code>
instead.</li>
<li><code class="docutils literal"><span class="pre">Cake\Database\Expression\QueryExpression::type()</span></code> is deprecated. Use
<code class="docutils literal"><span class="pre">tieWith()</span></code> instead.</li>
<li><code class="docutils literal"><span class="pre">Cake\Database\Type\DateTimeType::$dateTimeClass</span></code> is deprecated.  Use
DateTimeType::useMutable() or DateTimeType::useImmutable() instead.</li>
<li><code class="docutils literal"><span class="pre">Cake\Database\Type\DateType::$dateTimeClass</span></code> is deprecated.  Use
<code class="docutils literal"><span class="pre">DateTimeType::useMutable()</span></code> or <code class="docutils literal"><span class="pre">DateType::useImmutable()</span></code> instead.</li>
<li><code class="docutils literal"><span class="pre">Cake\ORM\ResultSet::_calculateTypeMap()</span></code> is now unused and deprecated.</li>
<li><code class="docutils literal"><span class="pre">Cake\ORM\ResultSet::_castValues()</span></code> is now unused and deprecated.</li>
<li>The <code class="docutils literal"><span class="pre">action</span></code> key for <code class="docutils literal"><span class="pre">FormHelper::create()</span></code> has been deprecated. You
should use the <code class="docutils literal"><span class="pre">url</span></code> key directly.</li>
</ul>
<div class="section" id="disabling-deprecation-warnings">
<h3>Disabling Deprecation Warnings<a class="headerlink" href="#disabling-deprecation-warnings" title="Permalink to this headline">¶</a></h3>
<p>Upon upgrading you may encounter several deprecation warnings. These warnings
are emitted by methods, options and functionality that will be removed in
CakePHP 4.x, but will continue to exist throughout the lifetime of 3.x. While we
recommend addressing deprecation issues as they are encountered, that is not
always possible. If you&#8217;d like to defer fixing deprecation notices, you can
disable them in your <strong>config/app.php</strong>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="s1">&#39;Error&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">&#39;errorLevel&#39;</span> <span class="o">=&gt;</span> <span class="k">E_ALL</span> <span class="o">&amp;</span> <span class="o">~</span><span class="nx">E_DEPRECATED</span> <span class="o">&amp;</span> <span class="o">~</span><span class="nx">E_USER_DEPRECATED</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>The above error level will suppress deprecation warnings from CakePHP.</p>
</div>
</div>
<div class="section" id="new-enhancements">
<h2>New Enhancements<a class="headerlink" href="#new-enhancements" title="Permalink to this headline">¶</a></h2>
<div class="section" id="carbon-replaced-with-chronos">
<h3>Carbon Replaced with Chronos<a class="headerlink" href="#carbon-replaced-with-chronos" title="Permalink to this headline">¶</a></h3>
<p>The Carbon library has been replaced with <a class="reference internal" href="../chronos.html"><span class="doc">cakephp/chronos</span></a>.
This new library is a fork of Carbon with no additional dependencies. It also
offer a calendar date object, and immutable versions of both date and datetime
objects.</p>
</div>
<div class="section" id="new-date-object">
<h3>New Date Object<a class="headerlink" href="#new-date-object" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">Date</span></code> class allows you to cleanly map <code class="docutils literal"><span class="pre">DATE</span></code> columns into PHP objects.
Date instances will always fix their time to <code class="docutils literal"><span class="pre">00:00:00</span> <span class="pre">UTC</span></code>. By default the
ORM creates instances of <code class="docutils literal"><span class="pre">Date</span></code> when mapping <code class="docutils literal"><span class="pre">DATE</span></code> columns now.</p>
</div>
<div class="section" id="new-immutable-date-and-time-objects">
<h3>New Immutable Date and Time Objects<a class="headerlink" href="#new-immutable-date-and-time-objects" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">FrozenTime</span></code>, and <code class="docutils literal"><span class="pre">FrozenDate</span></code> classes were added. These classes offer
the same API as the <code class="docutils literal"><span class="pre">Time</span></code> object has. The frozen classes provide immutable
variants of <code class="docutils literal"><span class="pre">Time</span></code> and <code class="docutils literal"><span class="pre">Date</span></code>.  By using immutable objects, you can prevent
accidental mutations. Instead of in-place modifications, modifier methods return
<em>new</em> instances:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Cake\I18n\FrozenTime</span><span class="p">;</span>

<span class="nv">$time</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FrozenTime</span><span class="p">(</span><span class="s1">&#39;2016-01-01 12:23:32&#39;</span><span class="p">);</span>
<span class="nv">$newTime</span> <span class="o">=</span> <span class="nv">$time</span><span class="o">-&gt;</span><span class="na">modify</span><span class="p">(</span><span class="s1">&#39;+1 day&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>In the above code <code class="docutils literal"><span class="pre">$time</span></code> and <code class="docutils literal"><span class="pre">$newTime</span></code> are different objects. The
<code class="docutils literal"><span class="pre">$time</span></code> object retains its original value, while <code class="docutils literal"><span class="pre">$newTime</span></code> has the modified
value. See the <a class="reference internal" href="../core-libraries/time.html#immutable-time"><span class="std std-ref">Immutable Dates and Times</span></a> section for more information. As of 3.2,
the ORM can map date/datetime columns into immutable objects. See the
<a class="reference internal" href="../orm/database-basics.html#immutable-datetime-mapping"><span class="std std-ref">Enabling Immutable DateTime Objects</span></a> section for more information.</p>
</div>
<div class="section" id="corsbuilder-added">
<h3>CorsBuilder Added<a class="headerlink" href="#corsbuilder-added" title="Permalink to this headline">¶</a></h3>
<p>In order to make setting headers related to Cross Origin Requests (CORS) easier,
a new <code class="docutils literal"><span class="pre">CorsBuilder</span></code> has been added. This class lets you define CORS related
headers with a fluent interface. See <a class="reference internal" href="../controllers/request-response.html#cors-headers"><span class="std std-ref">Setting Cross Origin Request Headers (CORS)</span></a> for more information.</p>
</div>
<div class="section" id="redirectroute-raises-an-exception-on-redirect">
<h3>RedirectRoute raises an exception on redirect<a class="headerlink" href="#redirectroute-raises-an-exception-on-redirect" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">Router::redirect()</span></code> now raises <code class="docutils literal"><span class="pre">Cake\Network\Routing\RedirectException</span></code>
when a redirect condition is reached. This exception is caught by the routing
filter and converted into a response. This replaces calls to
<code class="docutils literal"><span class="pre">response-&gt;send()</span></code> and allows dispatcher filters to interact with redirect
responses.</p>
</div>
<div class="section" id="orm-improvements">
<h3>ORM Improvements<a class="headerlink" href="#orm-improvements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Containing the same association multiple times now works as expected, and the
query builder functions are now stacked.</li>
<li>Function expressions now correctly cast their results. This means that
expressions like <code class="docutils literal"><span class="pre">$query-&gt;func()-&gt;current_date()</span></code> will return datetime
instances.</li>
<li>Field data that fails validation can now be accessed in entities via the
<code class="docutils literal"><span class="pre">invalid()</span></code> method.</li>
<li>Entity accessor method lookups are now cached and perform better.</li>
</ul>
</div>
<div class="section" id="improved-validator-api">
<h3>Improved Validator API<a class="headerlink" href="#improved-validator-api" title="Permalink to this headline">¶</a></h3>
<p>The Validator object has a number of new methods that make building validators
less verbose. For example adding validation rules to a username field can now
look like:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">email</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">ascii</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">lengthBetween</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">]);</span>
</pre></div>
</div>
</div>
<div class="section" id="console-improvements">
<h3>Console Improvements<a class="headerlink" href="#console-improvements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Shell::info()</span></code>, <code class="docutils literal"><span class="pre">Shell::warn()</span></code> and <code class="docutils literal"><span class="pre">Shell::success()</span></code> were added.
These helper methods make using commonly used styling simpler.</li>
<li><code class="docutils literal"><span class="pre">Cake\Console\Exception\StopException</span></code> was added.</li>
<li><code class="docutils literal"><span class="pre">Shell::abort()</span></code> was added to replace <code class="docutils literal"><span class="pre">error()</span></code>.</li>
</ul>
</div>
<div class="section" id="stopexception-added">
<h3>StopException Added<a class="headerlink" href="#stopexception-added" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">Shell::_stop()</span></code> and <code class="docutils literal"><span class="pre">Shell::error()</span></code> no longer call <code class="docutils literal"><span class="pre">exit()</span></code>. Instead
they raise <code class="docutils literal"><span class="pre">Cake\Console\Exception\StopException</span></code>. If your shells/tasks are
catching <code class="docutils literal"><span class="pre">\Exception</span></code> where these methods would have been called, those catch
blocks will need to be updated so they don&#8217;t catch the <code class="docutils literal"><span class="pre">StopException</span></code>. By not
calling <code class="docutils literal"><span class="pre">exit()</span></code> testing shells should be easier and require fewer mocks.</p>
</div>
<div class="section" id="helper-initialize-added">
<h3>Helper initialize() added<a class="headerlink" href="#helper-initialize-added" title="Permalink to this headline">¶</a></h3>
<p>Helpers can now implement an <code class="docutils literal"><span class="pre">initialize(array</span> <span class="pre">$config)</span></code> hook method like
other class types.</p>
</div>
<div class="section" id="fatal-error-memory-limit-handling">
<h3>Fatal Error Memory Limit Handling<a class="headerlink" href="#fatal-error-memory-limit-handling" title="Permalink to this headline">¶</a></h3>
<p>A new configuration option <code class="docutils literal"><span class="pre">Error.extraFatalErrorMemory</span></code> can be set to the
number of megabytes to increase the memory limit by when a fatal error is
encountered. This allows breathing room to complete logging or error handling.</p>
</div>
</div>
<div class="section" id="migration-steps">
<h2>Migration Steps<a class="headerlink" href="#migration-steps" title="Permalink to this headline">¶</a></h2>
<div class="section" id="updating-settostringformat">
<h3>Updating setToStringFormat()<a class="headerlink" href="#updating-settostringformat" title="Permalink to this headline">¶</a></h3>
<p>Before CakePHP 3.2 using Time::setToStringFormat() was working on Date Objects
as well. After upgrading you will need to add Date::setToStringFormat() in
addition to see the formatted Date again.</p>
</div>
</div>
</div>


            </div>
        </div>

        
        <div class="col-md-3 col-md-pull-9 hidden-xs hidden-sm" lang="en">
            <aside class="sidebar">
                <div class="mb30 row">
<div id="sidebar-navigation" class="hidden-xs">
	<p class="caption"><span class="caption-text">Preface</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">CakePHP at a Glance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quick Start Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="3-x-migration-guide.html">3.x Migration Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="3-5-migration-guide.html">3.5 Migration Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="3-4-migration-guide.html">3.4 Migration Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="3-3-migration-guide.html">3.3 Migration Guide</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">3.2 Migration Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="3-1-migration-guide.html">3.1 Migration Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="3-0-migration-guide.html">3.0 Migration Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="orm-migration.html">New ORM Upgrade Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials-and-examples.html">Tutorials &amp; Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/routing.html">Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/request-response.html">Request &amp; Response Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/middleware.html">Middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers.html">Controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views.html">Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="../orm.html">Database Access &amp; ORM</a></li>
</ul>
<p class="caption"><span class="caption-text">Using CakePHP</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../controllers/components/authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bake.html">Bake Console</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-libraries/caching.html">Caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../console-and-shells.html">Console Tools, Shells &amp; Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-libraries/email.html">Email</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/errors.html">Error &amp; Exception Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-libraries/events.html">Events System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-libraries/internationalization-and-localization.html">Internationalization &amp; Localization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-libraries/logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-libraries/form.html">Modelless Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/components/pagination.html">Pagination</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/rest.html">REST</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/sessions.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-libraries/validation.html">Validation</a></li>
</ul>
<p class="caption"><span class="caption-text">Utility Classes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../core-libraries/app.html">App Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-libraries/collections.html">Collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-libraries/file-folder.html">Folder &amp; File</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-libraries/hash.html">Hash</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-libraries/httpclient.html">Http Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-libraries/inflector.html">Inflector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-libraries/number.html">Number</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-libraries/registry-objects.html">Registry Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-libraries/text.html">Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-libraries/time.html">Date &amp; Time</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-libraries/xml.html">Xml</a></li>
</ul>
<p class="caption"><span class="caption-text">Plugins</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../chronos.html">Chronos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../debug-kit.html">Debug Kit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migrations.html">Migrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../elasticsearch.html">ElasticSearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade-tool.html">Upgrade Tool</a></li>
</ul>
<p class="caption"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../core-libraries/global-constants-and-functions.html">Constants &amp; Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices.html">Appendices</a></li>
</ul>

</div>

                </div>
            </aside>
            <aside class="sidebar">
                <div class="mb30 row">
                </div>
            </aside>
        </div>
    </div>
</div>

<section id="socials" class="back-3">
    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-5  social text-center">
                <div class="col-sm-3 col-xs-3">
                    <div id="fb-root"></div>
                        <script>(function(d, s, id) {
                          var js, fjs = d.getElementsByTagName(s)[0];
                          if (d.getElementById(id)) return;
                          js = d.createElement(s); js.id = id;
                          js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
                          fjs.parentNode.insertBefore(js, fjs);
                        }(document, 'script', 'facebook-jssdk'));
                        </script>
                        <div id="fb-root-face" class="fb-like" data-href="https://www.facebook.com/CakePHP/" data-layout="button_count" data-action="like" data-show-faces="true" data-share="false"></div>
                </div>

                <div class="col-sm-3 col-xs-3">
                    <iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=star&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
                </div>

                <div class="col-sm-3 col-xs-3">
                    <iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=fork&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
                </div>

                <div class="col-sm-3 col-xs-3">
                    <a href="https://twitter.com/CakePHP" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false">Follow @CakePHP</a>
                    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                </div>
            </div>

            <div class="col-xs-12 col-sm-12 col-md-7 social-footer text-center ">
                <a href="https://twitter.com/cakephp" data-toggle="tooltip" title="Twitter"><i class="fa icon-social fa-twitter"></i>
                <a href="https://www.facebook.com/groups/cake.community" data-toggle="tooltip" title="Facebook"><i class="fa icon-social fa-facebook"></i></a>
                <a href="https://goo.gl/mSC0s" data-toggle="tooltip" title="Google Plus"><i class="fa icon-social  fa-google-plus"></i></a>
                <a href="https://www.youtube.com/user/CakePHP" data-toggle="tooltip" title="Youtube"><i class="fa icon-social fa-youtube-play"></i></a>
                <a href="https://github.com/cakephp" data-toggle="tooltip" title="Github"><i class="fa icon-social fa-git"></i></a>
                <a href="https://cakesf.herokuapp.com/" target="_blank" title="Slack" data-toggle="tooltip"><i class="fa fa-slack icon-social"></i></a>
                <a href="https://stackoverflow.com/tags/cakephp" data-toggle="tooltip" title="Stack Overflow"><i class="fa icon-social fa-stack-overflow"></i></a>
                <a href="https://webchat.freenode.net/?channels=cakephp" data-toggle="tooltip" title="IRC" class="icon-irc">#IRC</a>
            </div>
        </div>
    </div>
</section>

<footer id="footer" class="footer-wrapper">
    <div class="container">

        <div class="row col-p30">
            <div class="col-sm-12 col-md-3">
                <div class="footer-widget t-footer">
                    <div class="col-md-12">
                        <a href="https://www.openhub.net/p/cakephp">
                            <img src="../_static/open-hub.png">
                        </a>
                        <div class="mt10">
                            <a href="https://www.rackspace.com/">
                                <img src="../_static/rackspace.png">
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-12 col-md-9">
                <div class="col-md-3 col-sm-6 business-solution">
                    <ul class="footer-menu">
                        <li class="menu-title">
    <a href="https://cakephp.org/business-solutions"><i class="fa fa-menu-title fa-briefcase"></i>Business Solutions</a>
</li>
<li class="menu-title mt30">
    <a href="https://cakephp.org/showcase"><i class="fa fa-menu-title fa-desktop"></i>Showcase</a>
</li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <ul class="footer-menu">
                        
<li class="menu-title">
	<i class="fa fa-menu-title fa-book"></i>Documentation
</li>

<li><a href="https://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Book</a></li>
<li><a href="https://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="https://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="https://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="https://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <ul class="footer-menu">
                        
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="https://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="https://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="https://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="https://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="https://github.com/FriendsOfCake/awesome-cakephp"><i class="fa fa-menu fa-chevron-right"></i>Featured Resources</a></li>
<li><a href="https://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="https://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="https://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <ul class="footer-menu">
                        
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="https://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="https://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="https://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="https://www.cakedc.com/"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 text-center mt30">
                <p class="copyright">
                            &copy; Copyright 2017, Cake Software Foundation, Inc.
                        Last updated on Aug 30, 2017.
                        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.5.
                </p>
            </div>
        </div>
    </div>
</footer>

<div id="inline-search-results"></div>


</div>

<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-743287-3']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
  </body>
</html>
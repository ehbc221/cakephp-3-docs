

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="Views" lang="en" name="title" />
<meta content="view logic,csv file,response elements,code elements,default extension,json,flash object,remote application,twig,subclass,ajax,reply,soap,functionality,cakephp,audience,xml,mvc" lang="en" name="keywords" />

    <title>Views - 3.x</title>
    <link href="_static/favicon.png" type="image/png" rel="icon" />

    
    <link rel="stylesheet" href="_static/css/app.css" type="text/css" />
    
    <script type="text/javascript" src="_static/app.js"></script>

    <link rel="alternate" hreflang="pt_BR" href="../pt/views.html" /><link rel="alternate" hreflang="es" href="../es/views.html" /><link rel="alternate" hreflang="ja" href="../ja/views.html" /><link rel="alternate" hreflang="fr" href="../fr/views.html" /><link rel="alternate" hreflang="zh" href="../zh/views.html" /><link rel="alternate" hreflang="tr" href="../tr/views.html" /><link rel="alternate" hreflang="ru" href="../ru/views.html" />

    <link rel="search" type="application/opensearchdescription+xml" title="Search within CakePHP Cookbook 3.5 documentation" href="_static/opensearchdescription-book-3-x.xml">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="top" title="CakePHP Cookbook 3.5 documentation" href="index.html" />
    <link rel="next" title="View Cells" href="views/cells.html" />
    <link rel="prev" title="Request Handling" href="controllers/components/request-handling.html" />

    <script type="text/javascript">
    window.lang = "en";
    </script>
  </head>
  <body>

<div id="container">
    
    <header class="nav-down">
        <div class="container-fluid hidden-xs hidden-sm">
            <div class="row">
                <div class="col-sm-3 col-md-3">
                    <a class="logo-cake" href="https://cakephp.org">
                        <img src="_static/logo-cake.png" alt="CakePHP" />
                    </a>
                </div>

                <div class="col-sm-9 col-md-9">
                    <nav class="navbar-right">
                        <ul class="menu">
                            <li class="first">
                                <a href="#"><i class="fa fa-menu fa-chevron-down"></i>Documentation</a>
                                <ul class="submenu">
                                    
<li><a href="https://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Book</a></li>
<li><a href="https://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="https://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="https://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="https://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
                                </ul>
                            </li>

                            <li><a href="https://cakephp.org/business-solutions">Business Solutions</a></li>
                            <li><a href="https://cakephp.org/writers">Get Paid To Write</a></li>
                            <li><a href="https://cakephp.org/pages/team">Team</a></li>

                            <li>
                                <a href="#"><i class="fa fa-menu fa-chevron-down"></i>Community</a>
                                <div class="megamenu full">
                                    <div class="row">
                                        <div class="col-6 pl30">
                                            <ul class="megamenu-list">
                                                
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="https://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="https://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="https://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="https://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="https://github.com/FriendsOfCake/awesome-cakephp"><i class="fa fa-menu fa-chevron-right"></i>Featured Resources</a></li>
<li><a href="https://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="https://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="https://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
                                            </ul>
                                        </div>
                                        <div class="col-6 pl30">
                                            <ul class="megamenu-list">
                                                
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="https://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="https://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="https://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="https://www.cakedc.com/"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>

        
        <div class="container-fluid hidden-md hidden-lg">
            <div class="row">
                <div class="col-sm-6 col-xs-6">
                    <a class="logo-cake" href="https://cakephp.org">
                        <img src="_static/logo-cake.png" alt="CakePHP" />
                    </a>
                </div>

                <div class="col-sm-6 col-xs-6">
                    <div class="navbar-right">
                        <button id="btn-menu" class="btn-menu" data-toggle="modal" data-target="#modal">
                            <i class="fa fa-bars toggle-modal"></i>
                        </button>
                    </div>
                    <div id="wrap">
                        <form class="search" action="search.html" method="get">
                            <input name="q" type="search" placeholder="What are you looking for?">
                            <input id="search_submit" value="Search" type="submit">
                        </form>
                    </div>
                </div>
            </div>
        </div>

        
        <section id="nav-cook" class="hidden-xs hidden-sm">
            <div class="container-fluid ">
                <div class="row ">
                    <div class="col-md-12 back-book">
                        <div class="col-md-5 text-center t-cook-nav p0 hidden-sm hidden-xs">
                            <h2>
                                <a href="contents.html">
                                    <span class="glyph_range icon-submenu icon-submenu-cook">B</span>
                                    CakePHP 3.5 Red Velvet <strong>Cookbook</strong>
                                </a>
                            </h2>
                        </div>

                        <div class="col-md-4 hidden-sm">
                            <form class="search" action="search.html" method="get">
                                <input type="hidden" name="check_keywords" value="yes" />
                                <input type="hidden" name="area" value="default" />

                                <div class="col-md-10 p0">
                                    <input class="form-control form-cook" autocomplete="off" type="search" name="q" size="18" placeholder='Cookbook Search' />
                                </div>
                                <div class="col-md-2 p0 search-cook">
                                    <button type="submit">
                                        <span class="glyph_range icon-submenu icon-submenu-cook">A</span>
                                    </button>
                                </div>
                            </form>
                        </div>

                        
                        <div class="col-md-3">
                            <div class="col-md-6 p0">
                                <div class="col-md-7 t-language p0">
                                    <h6>Language:</h6>
                                </div>
                                <div class="col-md-5 p0">
                                    <ul class="nav navbar-nav">
                                        <li class="dropdown">
                                            <a class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown"
                                                    role="button" aria-haspopup="true" aria-expanded="false" href="#">
                                                        en
                                                        <i class="fa fa-menu-en fa-chevron-down"></i>
                                                    </a>
                                            <ul class="dropdown-menu">
                                            
                                                <li></li>
                                            
                                                <li><a href="../pt/views.html">pt</a></li>
                                            
                                                <li><a href="../es/views.html">es</a></li>
                                            
                                                <li><a href="../ja/views.html">ja</a></li>
                                            
                                                <li><a href="../fr/views.html">fr</a></li>
                                            
                                                <li><a href="../zh/views.html">zh</a></li>
                                            
                                                <li><a href="../tr/views.html">tr</a></li>
                                            
                                                <li><a href="../ru/views.html">ru</a></li>
                                            
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <div class="col-md-6 p0">
                                <div class="col-md-7 t-language p0">
                                    <h6>Version:</h6>
                                </div>
                                <div class="col-md-5 p0">
                                    <ul class="nav navbar-nav">
                                        <li class="dropdown">
                                            <a href="#" class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">3.x <i class="fa fa-menu-en fa-chevron-down"></i></a>
                                            <ul class="dropdown-menu">
                                                <li><a href="https://book.cakephp.org/3.0/en">3.x Book</a></li>
                                                <li><a href="https://book.cakephp.org/2.0/en">2.x Book</a></li>
                                                <li><a href="https://book.cakephp.org/1.3/en/">1.3 Book</a></li>
                                                <li><a href="https://book.cakephp.org/1.2/en/">1.2 Book</a></li>
                                                <li><a href="https://book.cakephp.org/1.1/en">1.1 Book</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            
        </section>
    </header>

    
    <section class="nav-btn visible-sm visible-xs">
        <div class="container">
            <div class="row">
                <div class="col-sm-6 col-xs-6 text-center">
                    <button id="btn-nav" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Nav</strong></button>
                </div>

                <div class="col-sm-6 col-xs-6 text-center">
                    <button id="btn-toc" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Table of Contents</strong></button>
                </div>
            </div>
        </div>
    </section>

    
    <div id="modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modal-header">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title-cookbook" id="modal-header"></h4>
                </div>
                <div class="modal-body"></div>
            </div>
        </div>
    </div>

<div class="container page-container "><div id="improve-slideout">
        <i class="fa fa-pencil icon-improve"></i>
        <a href="https://github.com/cakephp/docs/edit/3.0/en/views.rst" target="_blank">
            <div id="improve-slideout-inner"><h6>Improve This Doc <i class="fa fa-github git-improve"></i></h6></div>
        </a>
    </div><a id="back-to-contents" href="#page-contents"><i class="fa fa-arrow-circle-up icon-improve" title="Back to Contents"></i></a>

    
    <div class="row">
        <div class="col-sm-12 col-md-9 col-md-push-3"><div class="page-contents col-sm-5">
                <h3>Page Contents</h3>
                <ul>
<li><a class="reference internal" href="#">Views</a><ul>
<li><a class="reference internal" href="#the-app-view">The App View</a></li>
<li><a class="reference internal" href="#view-templates">View Templates</a><ul>
<li><a class="reference internal" href="#alternative-echos">Alternative Echos</a></li>
<li><a class="reference internal" href="#alternative-control-structures">Alternative Control Structures</a></li>
<li><a class="reference internal" href="#view-variables">View Variables</a></li>
<li><a class="reference internal" href="#setting-view-variables">Setting View Variables</a></li>
<li><a class="reference internal" href="#extending-views">Extending Views</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-view-blocks">Using View Blocks</a><ul>
<li><a class="reference internal" href="#displaying-blocks">Displaying Blocks</a></li>
<li><a class="reference internal" href="#using-blocks-for-script-and-css-files">Using Blocks for Script and CSS Files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#layouts">Layouts</a><ul>
<li><a class="reference internal" href="#using-layouts-from-plugins">Using Layouts from Plugins</a></li>
</ul>
</li>
<li><a class="reference internal" href="#elements">Elements</a><ul>
<li><a class="reference internal" href="#passing-variables-into-an-element">Passing Variables into an Element</a></li>
<li><a class="reference internal" href="#caching-elements">Caching Elements</a></li>
<li><a class="reference internal" href="#requesting-elements-from-a-plugin">Requesting Elements from a Plugin</a></li>
<li><a class="reference internal" href="#requesting-elements-from-the-app">Requesting Elements from the App</a></li>
<li><a class="reference internal" href="#routing-prefix-and-elements">Routing prefix and Elements</a></li>
<li><a class="reference internal" href="#caching-sections-of-your-view">Caching Sections of Your View</a></li>
</ul>
</li>
<li><a class="reference internal" href="#view-events">View Events</a><ul>
<li><a class="reference internal" href="#event-list">Event List</a></li>
</ul>
</li>
<li><a class="reference internal" href="#creating-your-own-view-classes">Creating Your Own View Classes</a></li>
<li><a class="reference internal" href="#more-about-views">More About Views</a></li>
</ul>
</li>
</ul>

            </div><div class="document-body">
            
  <div class="section" id="namespace-Cake\View">
<span id="views"></span><h1>Views<a class="headerlink" href="#namespace-Cake\View" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="Cake\View\View">
<em class="property">class </em><code class="descclassname">Cake\View\</code><code class="descname">View</code><a class="headerlink" href="#Cake\View\View" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Views are the <strong>V</strong> in MVC. Views are responsible for generating the specific
output required for the request. Often this is in the form of HTML, XML, or
JSON, but streaming files and creating PDF&#8217;s that users can download are also
responsibilities of the View Layer.</p>
<p>CakePHP comes with a few built-in View classes for handling the most common
rendering scenarios:</p>
<ul class="simple">
<li>To create XML or JSON webservices you can use the <a class="reference internal" href="views/json-and-xml-views.html"><span class="doc">JSON and XML views</span></a>.</li>
<li>To serve protected files, or dynamically generated files, you can use
<a class="reference internal" href="controllers/request-response.html#cake-response-file"><span class="std std-ref">Sending Files</span></a>.</li>
<li>To create multiple themed views, you can use <a class="reference internal" href="views/themes.html"><span class="doc">Themes</span></a>.</li>
</ul>
<div class="section" id="the-app-view">
<span id="app-view"></span><h2>The App View<a class="headerlink" href="#the-app-view" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">AppView</span></code> is your application’s default View class. <code class="docutils literal"><span class="pre">AppView</span></code> itself extends
the <code class="docutils literal"><span class="pre">Cake\View\View</span></code> class included in CakePHP and is defined in
<strong>src/View/AppView.php</strong> as follows:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
<span class="k">namespace</span> <span class="nx">App\View</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Cake\View\View</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">AppView</span> <span class="k">extends</span> <span class="nx">View</span>
<span class="p">{</span>
<span class="p">}</span>
</pre></div>
</div>
<p>You can use your <code class="docutils literal"><span class="pre">AppView</span></code> to load helpers that will be used for every view
rendered in your application. CakePHP provides an <code class="docutils literal"><span class="pre">initialize()</span></code> method that
is invoked at the end of a View’s constructor for this kind of use:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
<span class="k">namespace</span> <span class="nx">App\View</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Cake\View\View</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">AppView</span> <span class="k">extends</span> <span class="nx">View</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">initialize</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// Always enable the MyUtils Helper</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">loadHelper</span><span class="p">(</span><span class="s1">&#39;MyUtils&#39;</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="view-templates">
<span id="id1"></span><h2>View Templates<a class="headerlink" href="#view-templates" title="Permalink to this headline">¶</a></h2>
<p>The view layer of CakePHP is how you speak to your users. Most of the time your
views will be rendering HTML/XHTML documents to browsers, but you might also
need to reply to a remote application via JSON, or output a CSV file for a user.</p>
<p>CakePHP template files have a default extension of <strong>.ctp</strong> (CakePHP Template)
and utilize the <a class="reference external" href="http://php.net/manual/en/control-structures.alternative-syntax.php">alternative PHP syntax</a>
for control structures and output. These files contain the logic necessary to
prepare the data received from the controller into a presentation format that is
ready for your audience.</p>
<div class="section" id="alternative-echos">
<h3>Alternative Echos<a class="headerlink" href="#alternative-echos" title="Permalink to this headline">¶</a></h3>
<p>Echo, or print a variable in your template:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$variable</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>Using Short Tag support:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="o">&lt;?=</span> <span class="nv">$variable</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="alternative-control-structures">
<h3>Alternative Control Structures<a class="headerlink" href="#alternative-control-structures" title="Permalink to this headline">¶</a></h3>
<p>Control structures, like <code class="docutils literal"><span class="pre">if</span></code>, <code class="docutils literal"><span class="pre">for</span></code>, <code class="docutils literal"><span class="pre">foreach</span></code>, <code class="docutils literal"><span class="pre">switch</span></code>, and <code class="docutils literal"><span class="pre">while</span></code>
can be written in a simplified format. Notice that there are no braces. Instead,
the end brace for the <code class="docutils literal"><span class="pre">foreach</span></code> is replaced with <code class="docutils literal"><span class="pre">endforeach</span></code>. Each of the
control structures listed below has a similar closing syntax: <code class="docutils literal"><span class="pre">endif</span></code>,
<code class="docutils literal"><span class="pre">endfor</span></code>, <code class="docutils literal"><span class="pre">endforeach</span></code>, and <code class="docutils literal"><span class="pre">endwhile</span></code>. Also notice that instead of using
a <code class="docutils literal"><span class="pre">semicolon</span></code> after each structure (except the last one), there is a
<code class="docutils literal"><span class="pre">colon</span></code>.</p>
<p>The following is an example using <code class="docutils literal"><span class="pre">foreach</span></code>:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">&lt;ul&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$todo</span> <span class="k">as</span> <span class="nv">$item</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">  &lt;li&gt;</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$item</span> <span class="cp">?&gt;</span><span class="x">&lt;/li&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endforeach</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/ul&gt;</span>
</pre></div>
</div>
<p>Another example, using if/elseif/else. Notice the colons:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$username</span> <span class="o">===</span> <span class="s1">&#39;sally&#39;</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">   &lt;h3&gt;Hi Sally&lt;/h3&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">elseif</span> <span class="p">(</span><span class="nv">$username</span> <span class="o">===</span> <span class="s1">&#39;joe&#39;</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">   &lt;h3&gt;Hi Joe&lt;/h3&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">else</span><span class="o">:</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">   &lt;h3&gt;Hi unknown user&lt;/h3&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endif</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>If you&#8217;d prefer using a templating language like
<a class="reference external" href="http://twig.sensiolabs.org">Twig</a>, a subclass of View will bridge your
templating language and CakePHP.</p>
<p>Template files are stored in <strong>src/Template/</strong>, in a folder named after the
controller that uses the files, and named after the action it corresponds to.
For example, the view file for the Products controller&#8217;s &#8220;view()&#8221; action, would
normally be found in <strong>src/Template/Products/view.ctp</strong>.</p>
<p>The view layer in CakePHP can be made up of a number of different parts. Each
part has different uses, and will be covered in this chapter:</p>
<ul class="simple">
<li><strong>views</strong>: Templates are the part of the page that is unique to the action
being run. They form the meat of your application&#8217;s response.</li>
<li><strong>elements</strong>: small, reusable bits of view code. Elements are usually rendered
inside views.</li>
<li><strong>layouts</strong>: template files that contain presentational code that wraps many
interfaces in your application. Most views are rendered inside a layout.</li>
<li><strong>helpers</strong>: these classes encapsulate view logic that is needed in many
places in the view layer. Among other things, helpers in CakePHP can help you
build forms, build AJAX functionality, paginate model data, or serve RSS
feeds.</li>
<li><strong>cells</strong>: these classes provide miniature controller-like features for
creating self contained UI components. See the <a class="reference internal" href="views/cells.html"><span class="doc">View Cells</span></a>
documentation for more information.</li>
</ul>
</div>
<div class="section" id="view-variables">
<h3>View Variables<a class="headerlink" href="#view-variables" title="Permalink to this headline">¶</a></h3>
<p>Any variables you set in your controller with <code class="docutils literal"><span class="pre">set()</span></code> will be available in
both the view and the layout your action renders. In addition, any set variables
will also be available in any element. If you need to pass additional variables
from the view to the layout you can either call <code class="docutils literal"><span class="pre">set()</span></code> in the view template,
or use a <a class="reference internal" href="#view-blocks"><span class="std std-ref">Using View Blocks</span></a>.</p>
<p>You should remember to <strong>always</strong> escape any user data before outputting it as
CakePHP does not automatically escape output. You can escape user content with
the <code class="docutils literal"><span class="pre">h()</span></code> function:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="o">&lt;?=</span> <span class="nx">h</span><span class="p">(</span><span class="nv">$user</span><span class="o">-&gt;</span><span class="na">bio</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="setting-view-variables">
<h3>Setting View Variables<a class="headerlink" href="#setting-view-variables" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="Cake\View\View::set">
<code class="descclassname">Cake\View\View::</code><code class="descname">set</code><span class="sig-paren">(</span><em>string $var</em>, <em>mixed $value</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\View\View::set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Views have a <code class="docutils literal"><span class="pre">set()</span></code> method that is analogous to the <code class="docutils literal"><span class="pre">set()</span></code> found in
Controller objects. Using set() from your view file will add the variables to
the layout and elements that will be rendered later. See
<a class="reference internal" href="controllers.html#setting-view-variables"><span class="std std-ref">Setting View Variables</span></a> for more information on using <code class="docutils literal"><span class="pre">set()</span></code>.</p>
<p>In your view file you can do:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;activeMenuButton&#39;</span><span class="p">,</span> <span class="s1">&#39;posts&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Then, in your layout, the <code class="docutils literal"><span class="pre">$activeMenuButton</span></code> variable will be available and
contain the value &#8216;posts&#8217;.</p>
</div>
<div class="section" id="extending-views">
<span id="id2"></span><h3>Extending Views<a class="headerlink" href="#extending-views" title="Permalink to this headline">¶</a></h3>
<p>View extending allows you to wrap one view in another. Combining this with
<a class="reference internal" href="#view-blocks"><span class="std std-ref">view blocks</span></a> gives you a powerful way to keep your views
<a class="reference internal" href="appendices/glossary.html#term-dry"><span class="xref std std-term">DRY</span></a>. For example, your application has a sidebar that needs to change
depending on the specific view being rendered. By extending a common view file,
you can avoid repeating the common markup for your sidebar, and only define the
parts that change:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">&lt;!-- src/Template/Common/view.ctp --&gt;</span>
<span class="x">&lt;h1&gt;</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">&lt;/h1&gt;</span>
<span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">&lt;div class=&quot;actions&quot;&gt;</span>
<span class="x">    &lt;h3&gt;Related actions&lt;/h3&gt;</span>
<span class="x">    &lt;ul&gt;</span>
<span class="x">    </span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;sidebar&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    &lt;/ul&gt;</span>
<span class="x">&lt;/div&gt;</span>
</pre></div>
</div>
<p>The above view file could be used as a parent view. It expects that the view
extending it will define the <code class="docutils literal"><span class="pre">sidebar</span></code> and <code class="docutils literal"><span class="pre">title</span></code> blocks. The <code class="docutils literal"><span class="pre">content</span></code>
block is a special block that CakePHP creates. It will contain all the
uncaptured content from the extending view. Assuming our view file has a
<code class="docutils literal"><span class="pre">$post</span></code> variable with the data about our post, the view could look like:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">&lt;!-- src/Template/Posts/view.ctp --&gt;</span>
<span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">extend</span><span class="p">(</span><span class="s1">&#39;/Common/view&#39;</span><span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assign</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="nv">$post</span><span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">start</span><span class="p">(</span><span class="s1">&#39;sidebar&#39;</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;li&gt;</span>
<span class="cp">&lt;?php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Html</span><span class="o">-&gt;</span><span class="na">link</span><span class="p">(</span><span class="s1">&#39;edit&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;edit&#39;</span><span class="p">,</span>
    <span class="nv">$post</span><span class="o">-&gt;</span><span class="na">id</span>
<span class="p">]);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/li&gt;</span>
<span class="cp">&lt;?php</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">end</span><span class="p">();</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">// The remaining content will be available as the &#39;content&#39; block</span>
<span class="x">// In the parent view.</span>
<span class="cp">&lt;?</span><span class="o">=</span> <span class="nx">h</span><span class="p">(</span><span class="nv">$post</span><span class="o">-&gt;</span><span class="na">body</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>The post view above shows how you can extend a view, and populate a set of
blocks. Any content not already in a defined block will be captured and put into
a special block named <code class="docutils literal"><span class="pre">content</span></code>. When a view contains a call to <code class="docutils literal"><span class="pre">extend()</span></code>,
execution continues to the bottom of the current view file. Once it is complete,
the extended view will be rendered. Calling <code class="docutils literal"><span class="pre">extend()</span></code> more than once in a
view file will override the parent view that will be processed next:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">extend</span><span class="p">(</span><span class="s1">&#39;/Common/view&#39;</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">extend</span><span class="p">(</span><span class="s1">&#39;/Common/index&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>The above will result in <strong>/Common/index.ctp</strong> being rendered as the parent view
to the current view.</p>
<p>You can nest extended views as many times as necessary. Each view can extend
another view if desired. Each parent view will get the previous view&#8217;s content
as the <code class="docutils literal"><span class="pre">content</span></code> block.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You should avoid using <code class="docutils literal"><span class="pre">content</span></code> as a block name in your application.
CakePHP uses this for uncaptured content in extended views.</p>
</div>
<p>You can get the list of all populated blocks using the <code class="docutils literal"><span class="pre">blocks()</span></code> method:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$list</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">blocks</span><span class="p">();</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="using-view-blocks">
<span id="view-blocks"></span><h2>Using View Blocks<a class="headerlink" href="#using-view-blocks" title="Permalink to this headline">¶</a></h2>
<p>View blocks provide a flexible API that allows you to define slots or blocks in
your views/layouts that will be defined elsewhere. For example, blocks are ideal
for implementing things such as sidebars, or regions to load assets at the
bottom/top of the layout. Blocks can be defined in two ways: either as a
capturing block, or by direct assignment. The <code class="docutils literal"><span class="pre">start()</span></code>, <code class="docutils literal"><span class="pre">append()</span></code>,
<code class="docutils literal"><span class="pre">prepend()</span></code>, <code class="docutils literal"><span class="pre">assign()</span></code>, <code class="docutils literal"><span class="pre">fetch()</span></code>, and <code class="docutils literal"><span class="pre">end()</span></code> methods allow you to
work with capturing blocks:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Create the sidebar block.</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">start</span><span class="p">(</span><span class="s1">&#39;sidebar&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;sidebar/recent_topics&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;sidebar/recent_comments&#39;</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">end</span><span class="p">();</span>

<span class="c1">// Append into the sidebar later on.</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">start</span><span class="p">(</span><span class="s1">&#39;sidebar&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;sidebar&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;sidebar/popular_topics&#39;</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">end</span><span class="p">();</span>
</pre></div>
</div>
<p>You can also append into a block using <code class="docutils literal"><span class="pre">append()</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">append</span><span class="p">(</span><span class="s1">&#39;sidebar&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;sidebar/popular_topics&#39;</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">end</span><span class="p">();</span>

<span class="c1">// The same as the above.</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">append</span><span class="p">(</span><span class="s1">&#39;sidebar&#39;</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;sidebar/popular_topics&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>If you need to clear or overwrite a block there are a couple of alternatives.
The <code class="docutils literal"><span class="pre">reset()</span></code> method will clear or overwrite a block at any time. The
<code class="docutils literal"><span class="pre">assign()</span></code> method with an empty content string can also be used to clear the
specified block.:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Clear the previous content from the sidebar block.</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">reset</span><span class="p">(</span><span class="s1">&#39;sidebar&#39;</span><span class="p">);</span>

<span class="c1">// Assigning an empty string will also clear the sidebar block.</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assign</span><span class="p">(</span><span class="s1">&#39;sidebar&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.2: </span>View::reset() was added in 3.2</p>
</div>
<p>Assigning a block&#8217;s content is often useful when you want to convert a view
variable into a block. For example, you may want to use a block for the page
title, and sometimes assign the title as a view variable in the controller:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// In view file or layout above $this-&gt;fetch(&#39;title&#39;)</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assign</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="nv">$title</span><span class="p">);</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">prepend()</span></code> method allows you to prepend content to an existing block:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Prepend to sidebar</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">prepend</span><span class="p">(</span><span class="s1">&#39;sidebar&#39;</span><span class="p">,</span> <span class="s1">&#39;this content goes on top of sidebar&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You should avoid using <code class="docutils literal"><span class="pre">content</span></code> as a block name. This is used by CakePHP
internally for extended views, and view content in the layout.</p>
</div>
<div class="section" id="displaying-blocks">
<h3>Displaying Blocks<a class="headerlink" href="#displaying-blocks" title="Permalink to this headline">¶</a></h3>
<p>You can display blocks using the <code class="docutils literal"><span class="pre">fetch()</span></code> method. <code class="docutils literal"><span class="pre">fetch()</span></code> will output a
block, returning &#8216;&#8217; if a block does not exist:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="o">&lt;?=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;sidebar&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>You can also use fetch to conditionally show content that should surround a
block should it exist. This is helpful in layouts, or extended views where you
want to conditionally show headings or other markup:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">// In src/Template/Layout/default.ctp</span>
<span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;menu&#39;</span><span class="p">))</span><span class="o">:</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;div class=&quot;menu&quot;&gt;</span>
<span class="x">    &lt;h3&gt;Menu options&lt;/h3&gt;</span>
<span class="x">    </span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;menu&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/div&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endif</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>You can also provide a default value for a block if it does not exist.
This allows you to add placeholder content when a block does not exist.
You can provide a default value using the second argument:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">&lt;div class=&quot;shopping-cart&quot;&gt;</span>
<span class="x">    &lt;h3&gt;Your Cart&lt;/h3&gt;</span>
<span class="x">    </span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;cart&#39;</span><span class="p">,</span> <span class="s1">&#39;Your cart is empty&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/div&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="using-blocks-for-script-and-css-files">
<h3>Using Blocks for Script and CSS Files<a class="headerlink" href="#using-blocks-for-script-and-css-files" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">HtmlHelper</span></code> ties into view blocks, and its <code class="docutils literal"><span class="pre">script()</span></code>, <code class="docutils literal"><span class="pre">css()</span></code>, and
<code class="docutils literal"><span class="pre">meta()</span></code> methods each update a block with the same name when used with the
<code class="docutils literal"><span class="pre">block</span> <span class="pre">=</span> <span class="pre">true</span></code> option:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
<span class="c1">// In your view file</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Html</span><span class="o">-&gt;</span><span class="na">script</span><span class="p">(</span><span class="s1">&#39;carousel&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;block&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">]);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Html</span><span class="o">-&gt;</span><span class="na">css</span><span class="p">(</span><span class="s1">&#39;carousel&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;block&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">]);</span>
<span class="cp">?&gt;</span><span class="x"></span>

<span class="x">// In your layout file.</span>
<span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">&lt;html lang=&quot;en&quot;&gt;</span>
<span class="x">    &lt;head&gt;</span>
<span class="x">    &lt;title&gt;</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">&lt;/title&gt;</span>
<span class="x">    </span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    </span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    &lt;/head&gt;</span>
<span class="x">    // Rest of the layout follows</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="views/helpers/html.html#Cake\View\Helper\HtmlHelper" title="Cake\View\Helper\HtmlHelper"><code class="xref php php-meth docutils literal"><span class="pre">Cake\View\Helper\HtmlHelper</span></code></a> also allows you to control which
block the scripts and CSS go to:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// In your view</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Html</span><span class="o">-&gt;</span><span class="na">script</span><span class="p">(</span><span class="s1">&#39;carousel&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;block&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;scriptBottom&#39;</span><span class="p">]);</span>

<span class="c1">// In your layout</span>
<span class="o">&lt;?=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;scriptBottom&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="layouts">
<span id="view-layouts"></span><h2>Layouts<a class="headerlink" href="#layouts" title="Permalink to this headline">¶</a></h2>
<p>A layout contains presentation code that wraps around a view. Anything you want
to see in all of your views should be placed in a layout.</p>
<p>CakePHP&#8217;s default layout is located at <strong>src/Template/Layout/default.ctp</strong>.
If you want to change the overall look of your application, then this is the
right place to start, because controller-rendered view code is placed inside of
the default layout when the page is rendered.</p>
<p>Other layout files should be placed in <strong>src/Template/Layout</strong>. When you create
a layout, you need to tell CakePHP where to place the output of your views. To
do so, make sure your layout includes a place for <code class="docutils literal"><span class="pre">$this-&gt;fetch('content')</span></code>
Here&#8217;s an example of what a default layout might look like:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">&lt;html lang=&quot;en&quot;&gt;</span>
<span class="x">&lt;head&gt;</span>
<span class="x">&lt;title&gt;</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nx">h</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">))</span> <span class="cp">?&gt;</span><span class="x">&lt;/title&gt;</span>
<span class="x">&lt;link rel=&quot;shortcut icon&quot; href=&quot;favicon.ico&quot; type=&quot;image/x-icon&quot;&gt;</span>
<span class="x">&lt;!-- Include external files and scripts here (See HTML helper for more info.) --&gt;</span>
<span class="cp">&lt;?php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;meta&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/head&gt;</span>
<span class="x">&lt;body&gt;</span>

<span class="x">&lt;!-- If you&#39;d like some sort of menu to</span>
<span class="x">show up on all of your views, include it here --&gt;</span>
<span class="x">&lt;div id=&quot;header&quot;&gt;</span>
<span class="x">    &lt;div id=&quot;menu&quot;&gt;...&lt;/div&gt;</span>
<span class="x">&lt;/div&gt;</span>

<span class="x">&lt;!-- Here&#39;s where I want my views to be displayed --&gt;</span>
<span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">&lt;!-- Add a footer to each displayed page --&gt;</span>
<span class="x">&lt;div id=&quot;footer&quot;&gt;...&lt;/div&gt;</span>

<span class="x">&lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">script</span></code>, <code class="docutils literal"><span class="pre">css</span></code> and <code class="docutils literal"><span class="pre">meta</span></code> blocks contain any content defined in the
views using the built-in HTML helper. Useful for including JavaScript and CSS
files from views.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When using <code class="docutils literal"><span class="pre">HtmlHelper::css()</span></code> or <code class="docutils literal"><span class="pre">HtmlHelper::script()</span></code> in template
files, specify <code class="docutils literal"><span class="pre">'block'</span> <span class="pre">=&gt;</span> <span class="pre">true</span></code> to place the HTML source in a block with
the same name. (See API for more details on usage).</p>
</div>
<p>The <code class="docutils literal"><span class="pre">content</span></code> block contains the contents of the rendered view.</p>
<p>You can set the <code class="docutils literal"><span class="pre">title</span></code> block content from inside your view file:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assign</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;View Active Users&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>You can create as many layouts as you wish: just place them in the
<strong>src/Template/Layout</strong> directory, and switch between them inside of your
controller actions using the controller or view&#8217;s <code class="docutils literal"><span class="pre">$layout</span></code> property:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// From a controller</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">view</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// Set the layout.</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">viewBuilder</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setLayout</span><span class="p">(</span><span class="s1">&#39;admin&#39;</span><span class="p">);</span>

    <span class="c1">// Before 3.4</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">viewBuilder</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">layout</span><span class="p">(</span><span class="s1">&#39;admin&#39;</span><span class="p">);</span>

    <span class="c1">// Before 3.1</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">layout</span> <span class="o">=</span> <span class="s1">&#39;admin&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// From a view file</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">layout</span> <span class="o">=</span> <span class="s1">&#39;loggedin&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>For example, if a section of my site included a smaller ad banner space, I might
create a new layout with the smaller advertising space and specify it as the
layout for all controllers&#8217; actions using something like:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">namespace</span> <span class="nx">App\Controller</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">UsersController</span> <span class="k">extends</span> <span class="nx">AppController</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">viewActive</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;View Active Users&#39;</span><span class="p">);</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">viewBuilder</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setLayout</span><span class="p">(</span><span class="s1">&#39;default_small_ad&#39;</span><span class="p">);</span>

        <span class="c1">// or the following before 3.4</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">viewBuilder</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">layout</span><span class="p">(</span><span class="s1">&#39;default_small_ad&#39;</span><span class="p">);</span>

        <span class="c1">// or the following before 3.1</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">layout</span> <span class="o">=</span> <span class="s1">&#39;default_small_ad&#39;</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">viewImage</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">viewBuilder</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setLayout</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">);</span>

        <span class="c1">// Output user image</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Besides a default layout CakePHP&#8217;s official skeleton app also has an &#8216;ajax&#8217;
layout. The Ajax layout is handy for crafting AJAX responses - it&#8217;s an empty
layout. (Most AJAX calls only require a bit of markup in return, rather than a
fully-rendered interface.)</p>
<p>The skeleton app also has a default layout to help generate RSS.</p>
<div class="section" id="using-layouts-from-plugins">
<h3>Using Layouts from Plugins<a class="headerlink" href="#using-layouts-from-plugins" title="Permalink to this headline">¶</a></h3>
<p>If you want to use a layout that exists in a plugin, you can use <a class="reference internal" href="appendices/glossary.html#term-plugin-syntax"><span class="xref std std-term">plugin
syntax</span></a>. For example, to use the contact layout from the Contacts plugin:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">namespace</span> <span class="nx">App\Controller</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">UsersController</span> <span class="k">extends</span> <span class="nx">AppController</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">view_active</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">viewBuilder</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">layout</span><span class="p">(</span><span class="s1">&#39;Contacts.contact&#39;</span><span class="p">);</span>
        <span class="c1">// or the following before 3.1</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">layout</span> <span class="o">=</span> <span class="s1">&#39;Contacts.contact&#39;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="elements">
<span id="view-elements"></span><h2>Elements<a class="headerlink" href="#elements" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="Cake\View\View::element">
<code class="descclassname">Cake\View\View::</code><code class="descname">element</code><span class="sig-paren">(</span><em>string $elementPath</em>, <em>array $data</em>, <em>array $options = []</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\View\View::element" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Many applications have small blocks of presentation code that need to be
repeated from page to page, sometimes in different places in the layout. CakePHP
can help you repeat parts of your website that need to be reused. These reusable
parts are called Elements. Ads, help boxes, navigational controls, extra menus,
login forms, and callouts are often implemented in CakePHP as elements. An
element is basically a mini-view that can be included in other views, in
layouts, and even within other elements. Elements can be used to make a view
more readable, placing the rendering of repeating elements in its own file. They
can also help you re-use content fragments in your application.</p>
<p>Elements live in the <strong>src/Template/Element/</strong> folder, and have the .ctp
filename extension. They are output using the element method of the view:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;helpbox&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="section" id="passing-variables-into-an-element">
<h3>Passing Variables into an Element<a class="headerlink" href="#passing-variables-into-an-element" title="Permalink to this headline">¶</a></h3>
<p>You can pass data to an element through the element&#8217;s second argument:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;helpbox&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s2">&quot;helptext&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Oh, this text is very helpful.&quot;</span>
<span class="p">]);</span>
</pre></div>
</div>
<p>Inside the element file, all the passed variables are available as members of
the parameter array (in the same way that <code class="docutils literal"><span class="pre">Controller::set()</span></code> in the
controller works with template files). In the above example, the
<strong>src/Template/Element/helpbox.ctp</strong> file can use the <code class="docutils literal"><span class="pre">$helptext</span></code> variable:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Inside src/Template/Element/helpbox.ctp</span>
<span class="k">echo</span> <span class="nv">$helptext</span><span class="p">;</span> <span class="c1">// Outputs &quot;Oh, this text is very helpful.&quot;</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">View::element()</span></code> method also supports options for the element.
The options supported are &#8216;cache&#8217; and &#8216;callbacks&#8217;. An example:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;helpbox&#39;</span><span class="p">,</span> <span class="p">[</span>
        <span class="s2">&quot;helptext&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;This is passed to the element as </span><span class="si">$helptext</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;foobar&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;This is passed to the element as </span><span class="si">$foobar</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="p">[</span>
        <span class="c1">// uses the &quot;long_view&quot; cache configuration</span>
        <span class="s2">&quot;cache&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;long_view&quot;</span><span class="p">,</span>
        <span class="c1">// set to true to have before/afterRender called for the element</span>
        <span class="s2">&quot;callbacks&quot;</span> <span class="o">=&gt;</span> <span class="k">true</span>
    <span class="p">]</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Element caching is facilitated through the <code class="docutils literal"><span class="pre">Cache</span></code> class. You can configure
elements to be stored in any Cache configuration you&#8217;ve set up. This gives you a
great amount of flexibility to decide where and for how long elements are
stored. To cache different versions of the same element in an application,
provide a unique cache key value using the following format:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;helpbox&#39;</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span>
        <span class="s2">&quot;cache&quot;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;config&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;short&#39;</span><span class="p">,</span> <span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;unique value&#39;</span><span class="p">]</span>
    <span class="p">]</span>
<span class="p">);</span>
</pre></div>
</div>
<p>If you need more logic in your element, such as dynamic data from a datasource,
consider using a View Cell instead of an element. Find out more <a class="reference internal" href="views/cells.html"><span class="doc">about View
Cells</span></a>.</p>
</div>
<div class="section" id="caching-elements">
<h3>Caching Elements<a class="headerlink" href="#caching-elements" title="Permalink to this headline">¶</a></h3>
<p>You can take advantage of CakePHP view caching if you supply a cache parameter.
If set to <code class="docutils literal"><span class="pre">true</span></code>, it will cache the element in the &#8216;default&#8217; Cache
configuration. Otherwise, you can set which cache configuration should be used.
See <a class="reference internal" href="core-libraries/caching.html"><span class="doc">Caching</span></a> for more information on configuring
<code class="docutils literal"><span class="pre">Cache</span></code>. A simple example of caching an element would be:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;helpbox&#39;</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span><span class="s1">&#39;cache&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">]);</span>
</pre></div>
</div>
<p>If you render the same element more than once in a view and have caching
enabled, be sure to set the &#8216;key&#8217; parameter to a different name each time. This
will prevent each successive call from overwriting the previous element() call&#8217;s
cached result. For example:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span>
    <span class="s1">&#39;helpbox&#39;</span><span class="p">,</span>
    <span class="p">[</span><span class="s1">&#39;var&#39;</span> <span class="o">=&gt;</span> <span class="nv">$var</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;cache&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;first_use&#39;</span><span class="p">,</span> <span class="s1">&#39;config&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;view_long&#39;</span><span class="p">]]</span>
<span class="p">);</span>

<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span>
    <span class="s1">&#39;helpbox&#39;</span><span class="p">,</span>
    <span class="p">[</span><span class="s1">&#39;var&#39;</span> <span class="o">=&gt;</span> <span class="nv">$differenVar</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;cache&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;second_use&#39;</span><span class="p">,</span> <span class="s1">&#39;config&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;view_long&#39;</span><span class="p">]]</span>
<span class="p">);</span>
</pre></div>
</div>
<p>The above will ensure that both element results are cached separately. If you
want all element caching to use the same cache configuration, you can avoid some
repetition by setting <code class="docutils literal"><span class="pre">View::$elementCache</span></code> to the cache configuration you
want to use. CakePHP will use this configuration when none is given.</p>
</div>
<div class="section" id="requesting-elements-from-a-plugin">
<h3>Requesting Elements from a Plugin<a class="headerlink" href="#requesting-elements-from-a-plugin" title="Permalink to this headline">¶</a></h3>
<p>If you are using a plugin and wish to use elements from within the plugin, just
use the familiar <a class="reference internal" href="appendices/glossary.html#term-plugin-syntax"><span class="xref std std-term">plugin syntax</span></a>. If the view is being rendered for a
plugin controller/action, the plugin name will automatically be prefixed onto
all elements used, unless another plugin name is present.
If the element doesn&#8217;t exist in the plugin, it will look in the main APP
folder:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;Contacts.helpbox&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>If your view is a part of a plugin, you can omit the plugin name. For example,
if you are in the <code class="docutils literal"><span class="pre">ContactsController</span></code> of the Contacts plugin, the following:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;helpbox&#39;</span><span class="p">);</span>
<span class="c1">// and</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;Contacts.helpbox&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>are equivalent and will result in the same element being rendered.</p>
<p>For elements inside subfolder of a plugin
(e.g., <strong>plugins/Contacts/Template/Element/sidebar/helpbox.ctp</strong>), use the
following:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;Contacts.sidebar/helpbox&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="requesting-elements-from-the-app">
<h3>Requesting Elements from the App<a class="headerlink" href="#requesting-elements-from-the-app" title="Permalink to this headline">¶</a></h3>
<p>If you are within a plugin&#8217;s template file and want to render
an element residing in your main application rather than this
or another plugin, use the following:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;some_global_element&#39;</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span><span class="s1">&#39;plugin&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">]);</span>
<span class="c1">// or...</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;some_global_element&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;localVar&#39;</span> <span class="o">=&gt;</span> <span class="nv">$someData</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;plugin&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">]);</span>
</pre></div>
</div>
</div>
<div class="section" id="routing-prefix-and-elements">
<h3>Routing prefix and Elements<a class="headerlink" href="#routing-prefix-and-elements" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.0.1.</span></p>
</div>
<p>If you have a Routing prefix configured, the Element path resolution can switch
to a prefix location, as Layouts and action View do.
Assuming you have a prefix &#8220;Admin&#8221; configured and you call:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;my_element&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>The element first be looked for in <strong>src/Template/Admin/Element/</strong>. If such a
file does not exist, it will be looked for in the default location.</p>
</div>
<div class="section" id="caching-sections-of-your-view">
<h3>Caching Sections of Your View<a class="headerlink" href="#caching-sections-of-your-view" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="Cake\View\View::cache">
<code class="descclassname">Cake\View\View::</code><code class="descname">cache</code><span class="sig-paren">(</span><em>callable $block</em>, <em>array $options = []</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\View\View::cache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Sometimes generating a section of your view output can be expensive because of
rendered <a class="reference internal" href="views/cells.html"><span class="doc">View Cells</span></a> or expensive helper operations. To help make your
application run faster CakePHP provides a way to cache view sections:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Assuming some local variables</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache</span><span class="p">(</span><span class="k">function</span> <span class="p">()</span> <span class="k">use</span> <span class="p">(</span><span class="nv">$user</span><span class="p">,</span> <span class="nv">$article</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cell</span><span class="p">(</span><span class="s1">&#39;UserProfile&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nv">$user</span><span class="p">]);</span>
    <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cell</span><span class="p">(</span><span class="s1">&#39;ArticleFull&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nv">$article</span><span class="p">]);</span>
<span class="p">},</span> <span class="p">[</span><span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;my_view_key&#39;</span><span class="p">]);</span>
</pre></div>
</div>
<p>By default cached view content will go into the <code class="docutils literal"><span class="pre">View::$elementCache</span></code> cache
config, but you can use the <code class="docutils literal"><span class="pre">config</span></code> option to change this.</p>
</div>
</div>
<div class="section" id="view-events">
<span id="id3"></span><h2>View Events<a class="headerlink" href="#view-events" title="Permalink to this headline">¶</a></h2>
<p>Like Controller, view trigger several events/callbacks that you can use to
insert logic around the rendering life-cycle:</p>
<div class="section" id="event-list">
<h3>Event List<a class="headerlink" href="#event-list" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">View.beforeRender</span></code></li>
<li><code class="docutils literal"><span class="pre">View.beforeRenderFile</span></code></li>
<li><code class="docutils literal"><span class="pre">View.afterRenderFile</span></code></li>
<li><code class="docutils literal"><span class="pre">View.afterRender</span></code></li>
<li><code class="docutils literal"><span class="pre">View.beforeLayout</span></code></li>
<li><code class="docutils literal"><span class="pre">View.afterLayout</span></code></li>
</ul>
<p>You can attach application <a class="reference internal" href="core-libraries/events.html"><span class="doc">event listeners</span></a> to
these events or use <a class="reference internal" href="views/helpers.html#helper-api"><span class="std std-ref">Helper Callbacks</span></a>.</p>
</div>
</div>
<div class="section" id="creating-your-own-view-classes">
<h2>Creating Your Own View Classes<a class="headerlink" href="#creating-your-own-view-classes" title="Permalink to this headline">¶</a></h2>
<p>You may need to create custom view classes to enable new types of data views, or
add additional custom view-rendering logic to your application. Like most
components of CakePHP, view classes have a few conventions:</p>
<ul class="simple">
<li>View class files should be put in <strong>src/View</strong>. For example:
<strong>src/View/PdfView.php</strong></li>
<li>View classes should be suffixed with <code class="docutils literal"><span class="pre">View</span></code>. For example: <code class="docutils literal"><span class="pre">PdfView</span></code>.</li>
<li>When referencing view class names you should omit the <code class="docutils literal"><span class="pre">View</span></code> suffix. For
example: <code class="docutils literal"><span class="pre">$this-&gt;viewBuilder()-&gt;className('Pdf');</span></code>.</li>
</ul>
<p>You&#8217;ll also want to extend <code class="docutils literal"><span class="pre">View</span></code> to ensure things work correctly:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// In src/View/PdfView.php</span>
<span class="k">namespace</span> <span class="nx">App\View</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Cake\View\View</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">PdfView</span> <span class="k">extends</span> <span class="nx">View</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">render</span><span class="p">(</span><span class="nv">$view</span> <span class="o">=</span> <span class="k">null</span><span class="p">,</span> <span class="nv">$layout</span> <span class="o">=</span> <span class="k">null</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// Custom logic here.</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Replacing the render method lets you take full control over how your content is
rendered.</p>
</div>
<div class="section" id="more-about-views">
<h2>More About Views<a class="headerlink" href="#more-about-views" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="views/cells.html">View Cells</a></li>
<li class="toctree-l1"><a class="reference internal" href="views/themes.html">Themes</a></li>
<li class="toctree-l1"><a class="reference internal" href="views/json-and-xml-views.html">JSON and XML views</a></li>
<li class="toctree-l1"><a class="reference internal" href="views/helpers.html">Helpers</a></li>
</ul>
</div>
</div>
</div>


            </div>
        </div>

        
        <div class="col-md-3 col-md-pull-9 hidden-xs hidden-sm" lang="en">
            <aside class="sidebar">
                <div class="mb30 row">
<div id="sidebar-navigation" class="hidden-xs">
	<p class="caption"><span class="caption-text">Preface</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">CakePHP at a Glance</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendices/3-x-migration-guide.html">3.x Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials-and-examples.html">Tutorials &amp; Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/routing.html">Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="controllers/request-response.html">Request &amp; Response Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="controllers/middleware.html">Middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="controllers.html">Controllers</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Views</a><ul>
<li class="toctree-l2"><a class="reference internal" href="views/cells.html">View Cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="views/themes.html">Themes</a></li>
<li class="toctree-l2"><a class="reference internal" href="views/json-and-xml-views.html">JSON and XML views</a></li>
<li class="toctree-l2"><a class="reference internal" href="views/helpers.html">Helpers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="orm.html">Database Access &amp; ORM</a></li>
</ul>
<p class="caption"><span class="caption-text">Using CakePHP</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="controllers/components/authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="bake.html">Bake Console</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/caching.html">Caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="console-and-shells.html">Console Tools, Shells &amp; Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="deployment.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/email.html">Email</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/errors.html">Error &amp; Exception Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/events.html">Events System</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/internationalization-and-localization.html">Internationalization &amp; Localization</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/form.html">Modelless Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="controllers/components/pagination.html">Pagination</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/rest.html">REST</a></li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/sessions.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/validation.html">Validation</a></li>
</ul>
<p class="caption"><span class="caption-text">Utility Classes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/app.html">App Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/collections.html">Collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/file-folder.html">Folder &amp; File</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/hash.html">Hash</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/httpclient.html">Http Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/inflector.html">Inflector</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/number.html">Number</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/registry-objects.html">Registry Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/text.html">Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/time.html">Date &amp; Time</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/xml.html">Xml</a></li>
</ul>
<p class="caption"><span class="caption-text">Plugins</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="chronos.html">Chronos</a></li>
<li class="toctree-l1"><a class="reference internal" href="debug-kit.html">Debug Kit</a></li>
<li class="toctree-l1"><a class="reference internal" href="migrations.html">Migrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="elasticsearch.html">ElasticSearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrade-tool.html">Upgrade Tool</a></li>
</ul>
<p class="caption"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="core-libraries/global-constants-and-functions.html">Constants &amp; Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendices.html">Appendices</a></li>
</ul>

</div>

                </div>
            </aside>
            <aside class="sidebar">
                <div class="mb30 row">
                </div>
            </aside>
        </div>
    </div>
</div>

<section id="socials" class="back-3">
    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-5  social text-center">
                <div class="col-sm-3 col-xs-3">
                    <div id="fb-root"></div>
                        <script>(function(d, s, id) {
                          var js, fjs = d.getElementsByTagName(s)[0];
                          if (d.getElementById(id)) return;
                          js = d.createElement(s); js.id = id;
                          js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
                          fjs.parentNode.insertBefore(js, fjs);
                        }(document, 'script', 'facebook-jssdk'));
                        </script>
                        <div id="fb-root-face" class="fb-like" data-href="https://www.facebook.com/CakePHP/" data-layout="button_count" data-action="like" data-show-faces="true" data-share="false"></div>
                </div>

                <div class="col-sm-3 col-xs-3">
                    <iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=star&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
                </div>

                <div class="col-sm-3 col-xs-3">
                    <iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=fork&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
                </div>

                <div class="col-sm-3 col-xs-3">
                    <a href="https://twitter.com/CakePHP" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false">Follow @CakePHP</a>
                    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                </div>
            </div>

            <div class="col-xs-12 col-sm-12 col-md-7 social-footer text-center ">
                <a href="https://twitter.com/cakephp" data-toggle="tooltip" title="Twitter"><i class="fa icon-social fa-twitter"></i>
                <a href="https://www.facebook.com/groups/cake.community" data-toggle="tooltip" title="Facebook"><i class="fa icon-social fa-facebook"></i></a>
                <a href="https://goo.gl/mSC0s" data-toggle="tooltip" title="Google Plus"><i class="fa icon-social  fa-google-plus"></i></a>
                <a href="https://www.youtube.com/user/CakePHP" data-toggle="tooltip" title="Youtube"><i class="fa icon-social fa-youtube-play"></i></a>
                <a href="https://github.com/cakephp" data-toggle="tooltip" title="Github"><i class="fa icon-social fa-git"></i></a>
                <a href="https://cakesf.herokuapp.com/" target="_blank" title="Slack" data-toggle="tooltip"><i class="fa fa-slack icon-social"></i></a>
                <a href="https://stackoverflow.com/tags/cakephp" data-toggle="tooltip" title="Stack Overflow"><i class="fa icon-social fa-stack-overflow"></i></a>
                <a href="https://webchat.freenode.net/?channels=cakephp" data-toggle="tooltip" title="IRC" class="icon-irc">#IRC</a>
            </div>
        </div>
    </div>
</section>

<footer id="footer" class="footer-wrapper">
    <div class="container">

        <div class="row col-p30">
            <div class="col-sm-12 col-md-3">
                <div class="footer-widget t-footer">
                    <div class="col-md-12">
                        <a href="https://www.openhub.net/p/cakephp">
                            <img src="_static/open-hub.png">
                        </a>
                        <div class="mt10">
                            <a href="https://www.rackspace.com/">
                                <img src="_static/rackspace.png">
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-12 col-md-9">
                <div class="col-md-3 col-sm-6 business-solution">
                    <ul class="footer-menu">
                        <li class="menu-title">
    <a href="https://cakephp.org/business-solutions"><i class="fa fa-menu-title fa-briefcase"></i>Business Solutions</a>
</li>
<li class="menu-title mt30">
    <a href="https://cakephp.org/showcase"><i class="fa fa-menu-title fa-desktop"></i>Showcase</a>
</li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <ul class="footer-menu">
                        
<li class="menu-title">
	<i class="fa fa-menu-title fa-book"></i>Documentation
</li>

<li><a href="https://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Book</a></li>
<li><a href="https://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="https://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="https://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="https://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <ul class="footer-menu">
                        
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="https://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="https://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="https://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="https://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="https://github.com/FriendsOfCake/awesome-cakephp"><i class="fa fa-menu fa-chevron-right"></i>Featured Resources</a></li>
<li><a href="https://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="https://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="https://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <ul class="footer-menu">
                        
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="https://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="https://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="https://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="https://www.cakedc.com/"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 text-center mt30">
                <p class="copyright">
                            &copy; Copyright 2017, Cake Software Foundation, Inc.
                        Last updated on Aug 30, 2017.
                        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.5.
                </p>
            </div>
        </div>
    </div>
</footer>

<div id="inline-search-results"></div>


</div>

<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-743287-3']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
  </body>
</html>
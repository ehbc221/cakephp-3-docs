

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Validation - 3.x</title>
    <link href="../_static/favicon.png" type="image/png" rel="icon" />

    
    <link rel="stylesheet" href="../_static/css/app.css" type="text/css" />
    
    <script type="text/javascript" src="../_static/app.js"></script>

    <link rel="alternate" hreflang="en" href="../../en/core-libraries/validation.html" /><link rel="alternate" hreflang="pt_BR" href="../../pt/core-libraries/validation.html" /><link rel="alternate" hreflang="es" href="../../es/core-libraries/validation.html" /><link rel="alternate" hreflang="ja" href="../../ja/core-libraries/validation.html" /><link rel="alternate" hreflang="zh" href="../../zh/core-libraries/validation.html" /><link rel="alternate" hreflang="tr" href="../../tr/core-libraries/validation.html" /><link rel="alternate" hreflang="ru" href="../../ru/core-libraries/validation.html" />

    <link rel="search" type="application/opensearchdescription+xml" title="Search within documentation CakePHP Cookbook 3.5" href="../_static/opensearchdescription-book-3-x.xml">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="top" title="documentation CakePHP Cookbook 3.5" href="../index.html" />
    <link rel="next" title="Classe App" href="app.html" />
    <link rel="prev" title="Testing" href="../development/testing.html" />

    <script type="text/javascript">
    window.lang = "fr";
    </script>
  </head>
  <body>

<div id="container">
    
    <header class="nav-down">
        <div class="container-fluid hidden-xs hidden-sm">
            <div class="row">
                <div class="col-sm-3 col-md-3">
                    <a class="logo-cake" href="https://cakephp.org">
                        <img src="../_static/logo-cake.png" alt="CakePHP" />
                    </a>
                </div>

                <div class="col-sm-9 col-md-9">
                    <nav class="navbar-right">
                        <ul class="menu">
                            <li class="first">
                                <a href="#"><i class="fa fa-menu fa-chevron-down"></i>Documentation</a>
                                <ul class="submenu">
                                    
<li><a href="https://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Book</a></li>
<li><a href="https://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="https://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="https://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="https://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
                                </ul>
                            </li>

                            <li><a href="https://cakephp.org/business-solutions">Business Solutions</a></li>
                            <li><a href="https://cakephp.org/writers">Get Paid To Write</a></li>
                            <li><a href="https://cakephp.org/pages/team">Team</a></li>

                            <li>
                                <a href="#"><i class="fa fa-menu fa-chevron-down"></i>Community</a>
                                <div class="megamenu full">
                                    <div class="row">
                                        <div class="col-6 pl30">
                                            <ul class="megamenu-list">
                                                
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="https://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="https://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="https://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="https://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="https://github.com/FriendsOfCake/awesome-cakephp"><i class="fa fa-menu fa-chevron-right"></i>Featured Resources</a></li>
<li><a href="https://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="https://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="https://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
                                            </ul>
                                        </div>
                                        <div class="col-6 pl30">
                                            <ul class="megamenu-list">
                                                
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="https://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="https://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="https://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="https://www.cakedc.com/"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>

        
        <div class="container-fluid hidden-md hidden-lg">
            <div class="row">
                <div class="col-sm-6 col-xs-6">
                    <a class="logo-cake" href="https://cakephp.org">
                        <img src="../_static/logo-cake.png" alt="CakePHP" />
                    </a>
                </div>

                <div class="col-sm-6 col-xs-6">
                    <div class="navbar-right">
                        <button id="btn-menu" class="btn-menu" data-toggle="modal" data-target="#modal">
                            <i class="fa fa-bars toggle-modal"></i>
                        </button>
                    </div>
                    <div id="wrap">
                        <form class="search" action="../search.html" method="get">
                            <input name="q" type="search" placeholder="What are you looking for?">
                            <input id="search_submit" value="Recherche" type="submit">
                        </form>
                    </div>
                </div>
            </div>
        </div>

        
        <section id="nav-cook" class="hidden-xs hidden-sm">
            <div class="container-fluid ">
                <div class="row ">
                    <div class="col-md-12 back-book">
                        <div class="col-md-5 text-center t-cook-nav p0 hidden-sm hidden-xs">
                            <h2>
                                <a href="../contents.html">
                                    <span class="glyph_range icon-submenu icon-submenu-cook">B</span>
                                    CakePHP 3.5 Red Velvet <strong>Cookbook</strong>
                                </a>
                            </h2>
                        </div>

                        <div class="col-md-4 hidden-sm">
                            <form class="search" action="../search.html" method="get">
                                <input type="hidden" name="check_keywords" value="yes" />
                                <input type="hidden" name="area" value="default" />

                                <div class="col-md-10 p0">
                                    <input class="form-control form-cook" autocomplete="off" type="search" name="q" size="18" placeholder='Cookbook Search' />
                                </div>
                                <div class="col-md-2 p0 search-cook">
                                    <button type="submit">
                                        <span class="glyph_range icon-submenu icon-submenu-cook">A</span>
                                    </button>
                                </div>
                            </form>
                        </div>

                        
                        <div class="col-md-3">
                            <div class="col-md-6 p0">
                                <div class="col-md-7 t-language p0">
                                    <h6>Language:</h6>
                                </div>
                                <div class="col-md-5 p0">
                                    <ul class="nav navbar-nav">
                                        <li class="dropdown">
                                            <a class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown"
                                                    role="button" aria-haspopup="true" aria-expanded="false" href="#">
                                                        fr
                                                        <i class="fa fa-menu-en fa-chevron-down"></i>
                                                    </a>
                                            <ul class="dropdown-menu">
                                            
                                                <li><a href="../../en/core-libraries/validation.html">en</a></li>
                                            
                                                <li><a href="../../pt/core-libraries/validation.html">pt</a></li>
                                            
                                                <li><a href="../../es/core-libraries/validation.html">es</a></li>
                                            
                                                <li><a href="../../ja/core-libraries/validation.html">ja</a></li>
                                            
                                                <li></li>
                                            
                                                <li><a href="../../zh/core-libraries/validation.html">zh</a></li>
                                            
                                                <li><a href="../../tr/core-libraries/validation.html">tr</a></li>
                                            
                                                <li><a href="../../ru/core-libraries/validation.html">ru</a></li>
                                            
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <div class="col-md-6 p0">
                                <div class="col-md-7 t-language p0">
                                    <h6>Version:</h6>
                                </div>
                                <div class="col-md-5 p0">
                                    <ul class="nav navbar-nav">
                                        <li class="dropdown">
                                            <a href="#" class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">3.x <i class="fa fa-menu-en fa-chevron-down"></i></a>
                                            <ul class="dropdown-menu">
                                                <li><a href="https://book.cakephp.org/3.0/fr">3.x Book</a></li>
                                                <li><a href="https://book.cakephp.org/2.0/fr">2.x Book</a></li>
                                                <li><a href="https://book.cakephp.org/1.3/fr/">1.3 Book</a></li>
                                                <li><a href="https://book.cakephp.org/1.2/fr/">1.2 Book</a></li>
                                                <li><a href="https://book.cakephp.org/1.1/en">1.1 Book</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            
        </section>
    </header>

    
    <section class="nav-btn visible-sm visible-xs">
        <div class="container">
            <div class="row">
                <div class="col-sm-6 col-xs-6 text-center">
                    <button id="btn-nav" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Nav</strong></button>
                </div>

                <div class="col-sm-6 col-xs-6 text-center">
                    <button id="btn-toc" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Table of Contents</strong></button>
                </div>
            </div>
        </div>
    </section>

    
    <div id="modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modal-header">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title-cookbook" id="modal-header"></h4>
                </div>
                <div class="modal-body"></div>
            </div>
        </div>
    </div>

<div class="container page-container "><div id="improve-slideout">
        <i class="fa fa-pencil icon-improve"></i>
        <a href="https://github.com/cakephp/docs/edit/3.0/fr/core-libraries/validation.rst" target="_blank">
            <div id="improve-slideout-inner"><h6>Improve This Doc <i class="fa fa-github git-improve"></i></h6></div>
        </a>
    </div><a id="back-to-contents" href="#page-contents"><i class="fa fa-arrow-circle-up icon-improve" title="Back to Contents"></i></a>

    
    <div class="row">
        <div class="col-sm-12 col-md-9 col-md-push-3"><div class="page-contents col-sm-5">
                <h3>Page Contents</h3>
                <ul>
<li><a class="reference internal" href="#">Validation</a><ul>
<li><a class="reference internal" href="#creer-les-validators">Créer les Validators</a><ul>
<li><a class="reference internal" href="#valider-la-presence-d-un-champ">Valider la Présence d&#8217;un champ</a></li>
<li><a class="reference internal" href="#permettre-aux-champs-d-etre-vides">Permettre aux Champs d&#8217;être Vides</a></li>
<li><a class="reference internal" href="#marquer-les-regles-comme-etant-les-dernieres-a-etre-executees">Marquer les Règles comme étant les Dernières à être exécutées</a></li>
<li><a class="reference internal" href="#methodes-de-validation-moins-verbeuses">Méthodes de Validation Moins Verbeuses</a></li>
<li><a class="reference internal" href="#ajouter-des-providers-de-validation">Ajouter des Providers de Validation</a></li>
<li><a class="reference internal" href="#regles-de-validation-personnalisees">Règles de Validation Personnalisées</a></li>
<li><a class="reference internal" href="#validation-conditionnelle">Validation Conditionnelle</a></li>
<li><a class="reference internal" href="#imbriquer-des-validators">Imbriquer des Validators</a></li>
<li><a class="reference internal" href="#creer-des-validators-re-utilisables">Créer des Validators Ré-utilisables</a></li>
</ul>
</li>
<li><a class="reference internal" href="#valider-les-donnees">Valider les Données</a></li>
<li><a class="reference internal" href="#valider-les-entities">Valider les Entities</a></li>
<li><a class="reference internal" href="#regles-de-validation-du-coeur">Règles de Validation du Cœur</a></li>
</ul>
</li>
</ul>

            </div><div class="document-body">
            
  <div class="section" id="namespace-Cake\Validation">
<span id="validation"></span><h1>Validation<a class="headerlink" href="#namespace-Cake\Validation" title="Lien permanent vers ce titre">¶</a></h1>
<p>Le package de validation dans CakePHP fournit des fonctionnalités pour
construire des validators qui peuvent valider des tableaux arbitraires de
données avec simplicité. Vous pouvez trouver une <a class="reference external" href="https://api.cakephp.org/3.x/class-Cake.Validation.Validation.html">liste des règles de validation
dans l&#8217;API</a>.</p>
<div class="section" id="creer-les-validators">
<span id="creating-validators"></span><h2>Créer les Validators<a class="headerlink" href="#creer-les-validators" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="class">
<dt id="Cake\Validation\Validator">
<em class="property">class </em><code class="descclassname">Cake\Validation\</code><code class="descname">Validator</code><a class="headerlink" href="#Cake\Validation\Validator" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Les objets Validator définissent les valeurs qui s&#8217;appliquent à un ensemble de
champs. Les objets Validator contiennent un mapping entre les champs et les
ensembles de validation. A son tour l&#8217;ensemble de validation contient une
collection de règles qui s&#8217;appliquent au champ auquel elles sont attachées.
Créer un validator est simple:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Cake\Validation\Validator</span><span class="p">;</span>

<span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">();</span>
</pre></div>
</div>
<p>Une fois créé, vous pouvez commencer à définir des ensembles de règle pour les
champs que vous souhaitez valider:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$validator</span>
    <span class="o">-&gt;</span><span class="na">requirePresence</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">notEmpty</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;Please fill this field&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="p">[</span>
        <span class="s1">&#39;length&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="s1">&#39;rule&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;minLength&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
            <span class="s1">&#39;message&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Titles need to be at least 10 characters long&#39;</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">])</span>
    <span class="o">-&gt;</span><span class="na">allowEmpty</span><span class="p">(</span><span class="s1">&#39;published&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;published&#39;</span><span class="p">,</span> <span class="s1">&#39;boolean&#39;</span><span class="p">,</span> <span class="p">[</span>
        <span class="s1">&#39;rule&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;boolean&#39;</span>
    <span class="p">])</span>
    <span class="o">-&gt;</span><span class="na">requirePresence</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">,</span> <span class="s1">&#39;length&#39;</span><span class="p">,</span> <span class="p">[</span>
        <span class="s1">&#39;rule&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;minLength&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span>
        <span class="s1">&#39;message&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Articles must have a substantial body.&#39;</span>
    <span class="p">]);</span>
</pre></div>
</div>
<p>Comme vu dans l&#8217;exemple ci-dessus, les validators sont construits avec une
interface facile qui vous permet de définir les règles pour chaque champ que
vous souhaitez valider.</p>
<p>Il y a quelques méthodes appelées dans l&#8217;exemple ci-dessus, alors regardons
les différentes fonctionnalités. La méthode <code class="docutils literal"><span class="pre">add()</span></code> vous permet d&#8217;ajouter
les nouvelles règles au validator. Vous pouvez soit ajouter des règles
individuellement, soit dans en groupe comme vu ci-dessus.</p>
<div class="section" id="valider-la-presence-d-un-champ">
<h3>Valider la Présence d&#8217;un champ<a class="headerlink" href="#valider-la-presence-d-un-champ" title="Lien permanent vers ce titre">¶</a></h3>
<p>La méthode <code class="docutils literal"><span class="pre">requirePresence()</span></code> oblige le champ à être présent dans tout
tableau de validation. Si le champ est absent, la validation va échouer. La
méthode <code class="docutils literal"><span class="pre">requirePresence()</span></code> a 4 modes:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">true</span></code> La présence du champ est toujours requise.</li>
<li><code class="docutils literal"><span class="pre">false</span></code> La présence du champ n&#8217;est pas requise.</li>
<li><code class="docutils literal"><span class="pre">create</span></code> La présence du champ est requise lorsque vous validez une
opération <strong>create</strong>.</li>
<li><code class="docutils literal"><span class="pre">update</span></code> La présence du champ est requise lorsque vous validez une
opération <strong>update</strong>.</li>
</ul>
<p>Par défaut <code class="docutils literal"><span class="pre">true</span></code> est utilisée. La présence de la clé est vérifiée pour
l&#8217;utilisation de <code class="docutils literal"><span class="pre">array_key_exists()</span></code> donc les valeurs null vont être
comptabilisées comme étant présentes. Vous pouvez définir le mode en utilisant
le deuxième paramètre:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">requirePresence</span><span class="p">(</span><span class="s1">&#39;author_id&#39;</span><span class="p">,</span> <span class="s1">&#39;create&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>If you have multiple fields that are required, you can define them as a list:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Define multiple fields for create</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">requirePresence</span><span class="p">([</span><span class="s1">&#39;author_id&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">],</span> <span class="s1">&#39;create&#39;</span><span class="p">);</span>

<span class="c1">// Define multiple fields for mixed modes</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">requirePresence</span><span class="p">([</span>
    <span class="s1">&#39;author_id&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;mode&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;create&#39;</span><span class="p">,</span>
        <span class="s1">&#39;message&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;An author is required.&#39;</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">&#39;published&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;mode&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;update&#39;</span><span class="p">,</span>
        <span class="s1">&#39;message&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;The published state is required.&#39;</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">]);</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.3.0: </span><code class="docutils literal"><span class="pre">requirePresence()</span></code> accepts an array of fields as of 3.3.0</p>
</div>
</div>
<div class="section" id="permettre-aux-champs-d-etre-vides">
<h3>Permettre aux Champs d&#8217;être Vides<a class="headerlink" href="#permettre-aux-champs-d-etre-vides" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les méthodes <code class="docutils literal"><span class="pre">allowEmpty()</span></code> et <code class="docutils literal"><span class="pre">notEmpty()</span></code> vous permettent de contrôler
les champs autorisés à être &#8216;vide&#8217;. En utilisant la méthode <code class="docutils literal"><span class="pre">notEmpty()</span></code>, le
champ donné sera noté comme invalide quand il est vide. Vous pouvez utiliser
<code class="docutils literal"><span class="pre">allowEmpty()</span></code> pour permettre à un champ d&#8217;être vide. Les deux méthodes
<code class="docutils literal"><span class="pre">allowEmpty()</span></code> et <code class="docutils literal"><span class="pre">notEmpty()</span></code> ont un paramètre mode qui vous permet
de contrôler quand un champ peut ou ne peut pas être vide:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">true</span></code> Le champ peut être vide.</li>
<li><code class="docutils literal"><span class="pre">false</span></code> Le champ ne peut pas être vide.</li>
<li><code class="docutils literal"><span class="pre">create</span></code> La présence du champ est nécessaire mais il peut être vide lors
de la validation d&#8217;une opération <strong>create</strong>.</li>
<li><code class="docutils literal"><span class="pre">update</span></code> La présence du champ est nécessaire mais il peut être vide lors
de la validation d&#8217;une opération <strong>update</strong>.</li>
</ul>
<p>Les valeurs <code class="docutils literal"><span class="pre">''</span></code>, <code class="docutils literal"><span class="pre">null</span></code> et <code class="docutils literal"><span class="pre">[]</span></code> (tableau vide) vont entraîner des
erreurs de validation quand les champs n&#8217;ont pas l&#8217;autorisation d&#8217;être vide.
Quand les champs ont l&#8217;autorisation d&#8217;être vide, les valeurs <code class="docutils literal"><span class="pre">''</span></code>, <code class="docutils literal"><span class="pre">null</span></code>,
<code class="docutils literal"><span class="pre">false</span></code>, <code class="docutils literal"><span class="pre">[]</span></code>, <code class="docutils literal"><span class="pre">0</span></code>, <code class="docutils literal"><span class="pre">'0'</span></code> sont acceptées.</p>
<p>Un exemple de ces méthodes est le suivant:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">allowEmpty</span><span class="p">(</span><span class="s1">&#39;published&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">notEmpty</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;Le titre ne peut être vide&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">notEmpty</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">,</span> <span class="s1">&#39;Le body ne peut être vide&#39;</span><span class="p">,</span> <span class="s1">&#39;create&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">allowEmpty</span><span class="p">(</span><span class="s1">&#39;header_image&#39;</span><span class="p">,</span> <span class="s1">&#39;update&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="marquer-les-regles-comme-etant-les-dernieres-a-etre-executees">
<h3>Marquer les Règles comme étant les Dernières à être exécutées<a class="headerlink" href="#marquer-les-regles-comme-etant-les-dernieres-a-etre-executees" title="Lien permanent vers ce titre">¶</a></h3>
<p>Quand les champs ont plusieurs règles, chaque règle de validation sera exécutée
même si la précédente a échouée. Cela vous permet de recueillir autant d&#8217;erreurs
de validation que vous le pouvez en un seul passage. Si toutefois, vous voulez
stopper l&#8217;exécution après qu&#8217;une règle spécifique a échoué, vous pouvez définir
l&#8217;option <code class="docutils literal"><span class="pre">last</span></code> à <code class="docutils literal"><span class="pre">true</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">();</span>
<span class="nv">$validator</span>
    <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">,</span> <span class="p">[</span>
        <span class="s1">&#39;minLength&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="s1">&#39;rule&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;minLength&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
            <span class="s1">&#39;last&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
            <span class="s1">&#39;message&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Comments must have a substantial body.&#39;</span>
        <span class="p">],</span>
        <span class="s1">&#39;maxLength&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="s1">&#39;rule&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;maxLength&#39;</span><span class="p">,</span> <span class="mi">250</span><span class="p">],</span>
            <span class="s1">&#39;message&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Comments cannot be too long.&#39;</span>
        <span class="p">]</span>
    <span class="p">]);</span>
</pre></div>
</div>
<p>Dans l&#8217;exemple ci-dessus, si la règle minLength (longueur minimale) échoue,
la règle maxLength ne sera pas exécutée.</p>
</div>
<div class="section" id="methodes-de-validation-moins-verbeuses">
<h3>Méthodes de Validation Moins Verbeuses<a class="headerlink" href="#methodes-de-validation-moins-verbeuses" title="Lien permanent vers ce titre">¶</a></h3>
<p>Depuis la version 3.2, l&#8217;objet Validator accepte de nombreuses nouvelles
méthodes qui rendent la construction de validateurs moins verbeux. Par exemple,
ajouter des règles de validation à un champ username peut maintenant ressembler
à ceci:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">();</span>
<span class="nv">$validator</span>
    <span class="o">-&gt;</span><span class="na">email</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">ascii</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">lengthBetween</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">]);</span>
</pre></div>
</div>
</div>
<div class="section" id="ajouter-des-providers-de-validation">
<h3>Ajouter des Providers de Validation<a class="headerlink" href="#ajouter-des-providers-de-validation" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les classes <code class="docutils literal"><span class="pre">Validator</span></code>, <code class="docutils literal"><span class="pre">ValidationSet</span></code> et <code class="docutils literal"><span class="pre">ValidationRule</span></code> ne
fournissent elles-mêmes aucune méthode de validation. Les règles de validation
viennent de &#8216;providers&#8217;. Vous pouvez lier tout nombre de providers à un objet
Validator. Les instances de Validator sont automatiquement fournies avec une
configuration de provider à &#8216;default&#8217;. Le provider par défaut est mappé à la
classe <code class="xref php php-class docutils literal"><span class="pre">Validation\Validation</span></code>. Cela facilite l&#8217;utilisation
des méthodes de cette classe en règles de validation. Lors de l&#8217;utilisation
conjointe de Validators et de l&#8217;ORM, des providers supplémentaires sont
configurés pour la table et les objets entity. Vous pouvez utiliser la méthode
<code class="docutils literal"><span class="pre">setProvider()</span></code> pour ajouter un provider supplémentaire que votre application
a besoin d&#8217;utiliser:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">();</span>

<span class="c1">// Utilise une instance de l&#39;object.</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">setProvider</span><span class="p">(</span><span class="s1">&#39;custom&#39;</span><span class="p">,</span> <span class="nv">$myObject</span><span class="p">);</span>

<span class="c1">// Utilise un nom de classe. Les méthodes doivent être static.</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">setProvider</span><span class="p">(</span><span class="s1">&#39;custom&#39;</span><span class="p">,</span> <span class="s1">&#39;App\Model\Validation&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Les providers de Validation peuvent être des objets, ou des noms de classe. Si
un nom de classe est utilisé, les méthodes doivent être static. Pour utiliser
un provider autre que &#8216;default&#8217;, assurez-vous de définir la clé <code class="docutils literal"><span class="pre">setProvider()</span></code>
dans votre règle:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Utilise une règle à partir du provider de la table</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;custom&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;rule&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;customTableMethod&#39;</span><span class="p">,</span>
    <span class="s1">&#39;provider&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;table&#39;</span>
<span class="p">]);</span>
</pre></div>
</div>
<p>Si vous souhaitez ajouter un <code class="docutils literal"><span class="pre">provider</span></code> à tous les objets <code class="docutils literal"><span class="pre">Validator</span></code> créés
plus tard, vous pouvez utiliser la méthode <code class="docutils literal"><span class="pre">addDefaultProvider()</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Cake\Validation\Validator</span><span class="p">;</span>

<span class="c1">// En utilisant une instance d&#39;objet.</span>
<span class="nx">Validator</span><span class="o">::</span><span class="na">addDefaultProvider</span><span class="p">(</span><span class="s1">&#39;custom&#39;</span><span class="p">,</span> <span class="nv">$myObject</span><span class="p">);</span>

<span class="c1">// En utilisant un nom de classe. Les méthodes devront être static.</span>
<span class="nx">Validator</span><span class="o">::</span><span class="na">addDefaultProvider</span><span class="p">(</span><span class="s1">&#39;custom&#39;</span><span class="p">,</span> <span class="s1">&#39;App\Model\Validation&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Les DefaultProviders doivent être ajoutés avant que l&#8217;objet <code class="docutils literal"><span class="pre">Validator</span></code> ne
soit créé. Par conséquent <strong>config/bootstrap.php</strong> est le meilleur endroit
pour définir vos providers par défaut.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.5.0.</span></p>
</div>
<p>Vous pouvez utiliser le <a class="reference external" href="https://github.com/cakephp/localized">plugin Localized</a> pour fournir des providers basés sur
les pays. Avec ce plugin, vous pourrez valider les champs de models selon un
pays, par exemple:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">namespace</span> <span class="nx">App\Model\Table</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Cake\ORM\Table</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Cake\Validation\Validator</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">PostsTable</span> <span class="k">extends</span> <span class="nx">Table</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">validationDefault</span><span class="p">(</span><span class="nx">Validator</span> <span class="nv">$validator</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// Ajoute le provider au validator</span>
        <span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">setProvider</span><span class="p">(</span><span class="s1">&#39;fr&#39;</span><span class="p">,</span> <span class="s1">&#39;Localized\Validation\FrValidation&#39;</span><span class="p">);</span>
        <span class="c1">// utilise le provider dans une règle de validation de champ</span>
        <span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;phoneField&#39;</span><span class="p">,</span> <span class="s1">&#39;myCustomRuleNameForPhone&#39;</span><span class="p">,</span> <span class="p">[</span>
            <span class="s1">&#39;rule&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;phone&#39;</span><span class="p">,</span>
            <span class="s1">&#39;provider&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;fr&#39;</span>
        <span class="p">]);</span>

        <span class="k">return</span> <span class="nv">$validator</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Le plugin localized utilise le code ISO à 2 lettres des pays pour la validation,
par exemple en, fr, de.</p>
<p>Il y a quelques méthodes qui sont communes à toutes les classes, définies par
<a class="reference external" href="https://github.com/cakephp/localized/blob/master/src/Validation/ValidationInterface.php">l&#8217;interface ValidationInterface</a>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">phone</span><span class="p">()</span> <span class="nx">pour</span> <span class="nx">vérifier</span> <span class="nx">un</span> <span class="nx">numéro</span> <span class="nx">de</span> <span class="nx">téléphone</span>
<span class="nx">postal</span><span class="p">()</span> <span class="nx">pour</span> <span class="nx">vérifier</span> <span class="nx">un</span> <span class="nx">code</span> <span class="nx">postal</span>
<span class="nx">personId</span><span class="p">()</span> <span class="nx">pour</span> <span class="nx">vérifier</span> <span class="nx">un</span> <span class="nx">ID</span> <span class="nx">d</span><span class="s1">&#39;une personne d&#39;</span><span class="nx">un</span> <span class="nx">pays</span>
</pre></div>
</div>
</div>
<div class="section" id="regles-de-validation-personnalisees">
<h3>Règles de Validation Personnalisées<a class="headerlink" href="#regles-de-validation-personnalisees" title="Lien permanent vers ce titre">¶</a></h3>
<p>En plus de l&#8217;utilisation des méthodes venant des providers, vous pouvez aussi
utiliser toute fonction appellable inclue de façon anonyme en règle de
validation:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Utilise une fonction globale</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;custom&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;rule&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;validate_title&#39;</span><span class="p">,</span>
    <span class="s1">&#39;message&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;The title is not valid&#39;</span>
<span class="p">]);</span>

<span class="c1">// Utilise un tableau appelable qui n&#39;est pas un provider</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;custom&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;rule&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="nv">$this</span><span class="p">,</span> <span class="s1">&#39;method&#39;</span><span class="p">],</span>
    <span class="s1">&#39;message&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;The title is not valid&#39;</span>
<span class="p">]);</span>

<span class="c1">// Utilise une closure</span>
<span class="nv">$extra</span> <span class="o">=</span> <span class="s1">&#39;Some additional value needed inside the closure&#39;</span><span class="p">;</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;custom&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;rule&#39;</span> <span class="o">=&gt;</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$value</span><span class="p">,</span> <span class="nv">$context</span><span class="p">)</span> <span class="k">use</span> <span class="p">(</span><span class="nv">$extra</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Logique personnalisée qui retourne true/false</span>
    <span class="p">},</span>
    <span class="s1">&#39;message&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;The title is not valid&#39;</span>
<span class="p">]);</span>

<span class="c1">// Utilisez une règle à partir d&#39;un provider personnalisé</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;custom&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;rule&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;customRule&#39;</span><span class="p">,</span>
    <span class="s1">&#39;provider&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;custom&#39;</span><span class="p">,</span>
    <span class="s1">&#39;message&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;The title is not unique enough&#39;</span>
<span class="p">]);</span>
</pre></div>
</div>
<p>Les Closures ou les méthodes appelables vont recevoir 2 arguments lors de leur
appel. Le premier va être la valeur pour le champ étant validé. Le second est
un tableau contextuel contenant des données liées au processus de validation:</p>
<ul class="simple">
<li><strong>data</strong>: Les données originelles passées à la méthode de validation, utile
si vous planifiez de créer les règles comparant les valeurs.</li>
<li><strong>providers</strong>: La liste complète de règle des objets provider, utile si vous
avez besoin de créer des règles complexes en appelant plusieurs providers.</li>
<li><strong>newRecord</strong>: Selon si l&#8217;appel de la validation est pour un nouvel
enregistrement ou pour un enregistrement existant.</li>
</ul>
<p>Si vous devez passer des données supplémentaires à vos méthodes de validation
comme pour les ids des users, vous pouvez utiliser un provider dynamique
personnalisé dans votre controller:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Examples</span><span class="o">-&gt;</span><span class="na">validator</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">provider</span><span class="p">(</span><span class="s1">&#39;passed&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;count&#39;</span> <span class="o">=&gt;</span> <span class="nv">$countFromController</span><span class="p">,</span>
    <span class="s1">&#39;userid&#39;</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Auth</span><span class="o">-&gt;</span><span class="na">user</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">)</span>
<span class="p">]);</span>
</pre></div>
</div>
<p>Ensuite assurez-vous que votre méthode de validation ait le deuxième paramètre
de contexte:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">public</span> <span class="k">function</span> <span class="nf">customValidationMethod</span><span class="p">(</span><span class="nv">$check</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$context</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$userid</span> <span class="o">=</span> <span class="nv">$context</span><span class="p">[</span><span class="s1">&#39;providers&#39;</span><span class="p">][</span><span class="s1">&#39;passed&#39;</span><span class="p">][</span><span class="s1">&#39;userid&#39;</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="validation-conditionnelle">
<h3>Validation Conditionnelle<a class="headerlink" href="#validation-conditionnelle" title="Lien permanent vers ce titre">¶</a></h3>
<p>Lors de la définition des règles de validation, vous pouvez utiliser la clé
<code class="docutils literal"><span class="pre">on</span></code> pour définir quand une règle de validation doit être appliquée. Si
elle est laissée non définie, la règle va toujours être appliquée. Les autres
valeurs valides sont <code class="docutils literal"><span class="pre">create</span></code> et <code class="docutils literal"><span class="pre">update</span></code>. L&#8217;utilisation d&#8217;une de ces
valeurs va faire que la règle va s&#8217;appliquer seulement pour les opérations
create ou update.</p>
<p>En plus, vous pouvez fournir une fonction appelable qui va déterminer si oui
ou non, une règle particulière doit être appliquée:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;picture&#39;</span><span class="p">,</span> <span class="s1">&#39;file&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;rule&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;mimeType&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;image/jpeg&#39;</span><span class="p">,</span> <span class="s1">&#39;image/png&#39;</span><span class="p">]],</span>
    <span class="s1">&#39;on&#39;</span> <span class="o">=&gt;</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$context</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$context</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;show_profile_picture&#39;</span><span class="p">]);</span>
    <span class="p">}</span>
<span class="p">]);</span>
</pre></div>
</div>
<p>Vous pouvez accéder aux autres données soumises depuis le formulaire via le
tableau <code class="docutils literal"><span class="pre">$context['data']</span></code>.
L&#8217;exemple ci-dessus va rendre la règle pour &#8216;picture&#8217; optionnelle selon si la
valeur pour <code class="docutils literal"><span class="pre">show_profile_picture</span></code> est vide. Vous pouvez également utiliser
la règle de validation <code class="docutils literal"><span class="pre">uploadedFile</span></code> pour créer des inputs optionnelles
d&#8217;upload de fichiers:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;picture&#39;</span><span class="p">,</span> <span class="s1">&#39;file&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;rule&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;uploadedFile&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;optional&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">]],</span>
<span class="p">]);</span>
</pre></div>
</div>
<p>Les méthodes de validation <code class="docutils literal"><span class="pre">allowEmpty()</span></code>, <code class="docutils literal"><span class="pre">notEmpty()</span></code> et
<code class="docutils literal"><span class="pre">requirePresence()</span></code> prennent également une fonction appelable en dernier
argument, ce qui determine si oui ou non la règle doit être appliquée. Par
exemple on peut autoriser parfois à un champ à être vide:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">allowEmpty</span><span class="p">(</span><span class="s1">&#39;tax&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">!</span><span class="nv">$context</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;is_taxable&#39;</span><span class="p">];</span>
<span class="p">});</span>
</pre></div>
</div>
<p>De la même façon, on peut vouloir qu&#8217;un champ soit peuplé quand certaines
conditions sont vérifiées:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">notEmpty</span><span class="p">(</span><span class="s1">&#39;email_frequency&#39;</span><span class="p">,</span> <span class="s1">&#39;This field is required&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$context</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;wants_newsletter&#39;</span><span class="p">]);</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Dans l&#8217;exemple ci-dessus, le champ <code class="docutils literal"><span class="pre">email_frequency</span></code> ne peut être laissé vide
si l&#8217;utilisateur veut recevoir la newsletter.</p>
<p>De plus il est aussi possible de demander à ce qu&#8217;un champ soit présent sous
certaines conditions seulement:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">requirePresence</span><span class="p">(</span><span class="s1">&#39;full_name&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$context</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;action&#39;</span><span class="p">]))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$context</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;action&#39;</span><span class="p">]</span> <span class="o">===</span> <span class="s1">&#39;subscribe&#39;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
<span class="p">});</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">requirePresence</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Ceci demanderait à ce que le champ <code class="docutils literal"><span class="pre">full_name</span></code> soit présent seulement dans le
cas où l&#8217;utilisateur veut créer une inscription, alors que le champ <code class="docutils literal"><span class="pre">email</span></code>
est toujours requis puisqu&#8217;il serait aussi demandée lors de l&#8217;annulation d&#8217;une
inscription.</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.1.1: </span>La possibilité de faire un callable pour <code class="docutils literal"><span class="pre">requirePresence()</span></code> a été ajoutée
dans 3.1.1.</p>
</div>
</div>
<div class="section" id="imbriquer-des-validators">
<h3>Imbriquer des Validators<a class="headerlink" href="#imbriquer-des-validators" title="Lien permanent vers ce titre">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.0.5.</span></p>
</div>
<p>Lorsque vous validez des <a class="reference internal" href="form.html"><span class="doc">Formulaires Sans Models</span></a> avec des données
imbriquées, ou lorsque vous travaillez avec des modèles qui contiennent des
données de type tableau, il est nécessaire de valider les données imbriquées
dont vous disposez. CakePHP permet d&#8217;ajouter des validators sur des attributs
spécifiques. Par exemple, imaginez que vous travailliez avec une base de données
non relationnelle et que vous ayez besoin d&#8217;enregistrer un article et ses
commentaires:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$data</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Meilleur article&#39;</span><span class="p">,</span>
    <span class="s1">&#39;comments&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="p">[</span><span class="s1">&#39;comment&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">]</span>
    <span class="p">]</span>
<span class="p">];</span>
</pre></div>
</div>
<p>Pour valider les commentaires, vous utiliseriez un validator imbriqué:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">();</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;not-blank&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;rule&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;notBlank&#39;</span><span class="p">]);</span>

<span class="nv">$commentValidator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">();</span>
<span class="nv">$commentValidator</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;comment&#39;</span><span class="p">,</span> <span class="s1">&#39;not-blank&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;rule&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;notBlank&#39;</span><span class="p">]);</span>

<span class="c1">// Connecte les validators imbriqués.</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">addNestedMany</span><span class="p">(</span><span class="s1">&#39;comments&#39;</span><span class="p">,</span> <span class="nv">$commentValidator</span><span class="p">);</span>

<span class="c1">// Récupère toutes erreurs y compris celles des validators imbriqués.</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">errors</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
</pre></div>
</div>
<p>Vous pouvez créer des &#8216;relations&#8217; 1:1 avec <code class="docutils literal"><span class="pre">addNested()</span></code> et  des &#8216;relations&#8217;
1:N avec <code class="docutils literal"><span class="pre">addNestedMany()</span></code>. Avec ces deux méthodes, les erreurs des
validators contribuerons aux erreurs du validator parent et influeront sur le
résultat final.</p>
</div>
<div class="section" id="creer-des-validators-re-utilisables">
<span id="reusable-validators"></span><h3>Créer des Validators Ré-utilisables<a class="headerlink" href="#creer-des-validators-re-utilisables" title="Lien permanent vers ce titre">¶</a></h3>
<p>Bien que définir des validators inline, là où ils sont utilisés, permet de
donner un bon exemple de code, cela ne conduit pas à avoir des applications
facilement maintenable. A la place, vous devriez créer des sous-classes de
<code class="docutils literal"><span class="pre">Validator</span></code> pour votre logique de validation réutilisable:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Dans src/Model/Validation/ContactValidator.php</span>
<span class="k">namespace</span> <span class="nx">App\Model\Validation</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Cake\Validation\Validator</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">ContactValidator</span> <span class="k">extends</span> <span class="nx">Validator</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">parent</span><span class="o">::</span><span class="na">__construct</span><span class="p">();</span>
        <span class="c1">// Add validation rules here.</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="valider-les-donnees">
<h2>Valider les Données<a class="headerlink" href="#valider-les-donnees" title="Lien permanent vers ce titre">¶</a></h2>
<p>Maintenant que vous avez créé un validator et que vous lui avez ajouté les
règles que vous souhaitiez, vous pouvez commencer à l&#8217;utiliser pour valider les
données. Les Validators sont capables de valider un tableau de données. Par
exemple, si vous voulez valider un formulaire de contact avant de créer et
d&#8217;envoyer un email, vous pouvez faire ce qui suit:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Cake\Validation\Validator</span><span class="p">;</span>

<span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">();</span>
<span class="nv">$validator</span>
    <span class="o">-&gt;</span><span class="na">requirePresence</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="s1">&#39;validFormat&#39;</span><span class="p">,</span> <span class="p">[</span>
        <span class="s1">&#39;rule&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;email&#39;</span><span class="p">,</span>
        <span class="s1">&#39;message&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;E-mail must be valid&#39;</span>
    <span class="p">])</span>
    <span class="o">-&gt;</span><span class="na">requirePresence</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">allowEmpty</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;We need your name.&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">requirePresence</span><span class="p">(</span><span class="s1">&#39;comment&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">allowEmpty</span><span class="p">(</span><span class="s1">&#39;comment&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;You need to give a comment.&#39;</span><span class="p">);</span>

<span class="nv">$errors</span> <span class="o">=</span> <span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">errors</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">getData</span><span class="p">());</span>
<span class="k">if</span> <span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$errors</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// Envoi d&#39;un email.</span>
<span class="p">}</span>
</pre></div>
</div>
<p>La méthode <code class="docutils literal"><span class="pre">errors()</span></code> va retourner un tableau non-vide quand il y a des échecs
de validation. Le tableau retourné d&#8217;erreurs sera structuré comme ceci:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$errors</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;email&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;E-mail doit être valide&#39;</span><span class="p">]</span>
<span class="p">];</span>
</pre></div>
</div>
<p>Si vous avez plusieurs erreurs pour un seul champ, un tableau de messages
d&#8217;erreur va être retourné par champ. Par défaut la méthode <code class="docutils literal"><span class="pre">errors()</span></code> applique
les règles pour le mode &#8216;create&#8217; mode. Si vous voulez appliquer les règles
&#8216;update&#8217; vous pouvez faire ce qui suit:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$errors</span> <span class="o">=</span> <span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">errors</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">getData</span><span class="p">(),</span> <span class="k">false</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$errors</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// Envoi d&#39;un email.</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Si vous avez besoin de valider les entities, vous devez utiliser les
méthodes comme
<code class="xref php php-meth docutils literal"><span class="pre">ORM\Table::newEntity()</span></code>,
<code class="xref php php-meth docutils literal"><span class="pre">ORM\Table::newEntities()</span></code>,
<code class="xref php php-meth docutils literal"><span class="pre">ORM\Table::patchEntity()</span></code>,
<code class="xref php php-meth docutils literal"><span class="pre">ORM\Table::patchEntities()</span></code> or
<a class="reference internal" href="../orm/saving-data.html#Cake\ORM\Table::save" title="Cake\ORM\Table::save"><code class="xref php php-meth docutils literal"><span class="pre">ORM\Table::save()</span></code></a> puisqu&#8217;elles ont été créées pour cela.</p>
</div>
</div>
<div class="section" id="valider-les-entities">
<h2>Valider les Entities<a class="headerlink" href="#valider-les-entities" title="Lien permanent vers ce titre">¶</a></h2>
<p>Alors que les entities sont validées quand elles sont sauvegardées, vous pouvez
aussi vouloir valider les entities avant d&#8217;essayer de faire toute sauvegarde.
La validation des entities avant la sauvegarde est faite automatiquement quand
on utilise <code class="docutils literal"><span class="pre">newEntity()</span></code>, <code class="docutils literal"><span class="pre">newEntities()</span></code>, <code class="docutils literal"><span class="pre">patchEntity()</span></code> ou
<code class="docutils literal"><span class="pre">patchEntities()</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Dans la classe ArticlesController</span>
<span class="nv">$article</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Articles</span><span class="o">-&gt;</span><span class="na">newEntity</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">getData</span><span class="p">());</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$article</span><span class="o">-&gt;</span><span class="na">errors</span><span class="p">())</span> <span class="p">{</span>
    <span class="c1">// Afficher les messages d&#39;erreur ici.</span>
<span class="p">}</span>
</pre></div>
</div>
<p>De la même manière, quand vous avez besoin de pré-valider plusieurs entities
en une fois, vous pouvez utiliser la méthode <code class="docutils literal"><span class="pre">newEntities()</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Dans la classe ArticlesController</span>
<span class="nv">$entities</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Articles</span><span class="o">-&gt;</span><span class="na">newEntities</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">getData</span><span class="p">());</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$entities</span> <span class="k">as</span> <span class="nv">$entity</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$entity</span><span class="o">-&gt;</span><span class="na">errors</span><span class="p">())</span> <span class="p">{</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Articles</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">(</span><span class="nv">$entity</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Les méthodes <code class="docutils literal"><span class="pre">newEntity()</span></code>, <code class="docutils literal"><span class="pre">patchEntity()</span></code>, <code class="docutils literal"><span class="pre">newEntities()</span></code> et
<code class="docutils literal"><span class="pre">patchEntities()</span></code> vous permettent de spécifier les associations à valider, et
les ensembles de validation à appliquer en utilisant le paramètre <code class="docutils literal"><span class="pre">options</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$valid</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Articles</span><span class="o">-&gt;</span><span class="na">newEntity</span><span class="p">(</span><span class="nv">$article</span><span class="p">,</span> <span class="p">[</span>
  <span class="s1">&#39;associated&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">&#39;Comments&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
      <span class="s1">&#39;associated&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;User&#39;</span><span class="p">],</span>
      <span class="s1">&#39;validate&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;special&#39;</span><span class="p">,</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]);</span>
</pre></div>
</div>
<p>La validation est habituellement utilisée pour les formulaires ou les interfaces
utilisateur, et ainsi elle n&#8217;est pas limitée seulement à la validation des
colonnes dans le schéma de la table. Cependant maintenir l&#8217;intégrité des données
selon d&#8217;où elles viennent est important. Pour résoudre ce problème, CakePHP
dispose d&#8217;un deuxième niveau de validation qui est appelé &#8220;règles
d&#8217;application&#8221;. Vous pouvez en savoir plus en consultant la section
<a class="reference internal" href="../orm/validation.html#application-rules"><span class="std std-ref">Appliquer les Règles d&#8217;Application</span></a>.</p>
</div>
<div class="section" id="regles-de-validation-du-coeur">
<h2>Règles de Validation du Cœur<a class="headerlink" href="#regles-de-validation-du-coeur" title="Lien permanent vers ce titre">¶</a></h2>
<p>CakePHP fournit une suite basique de méthodes de validation dans la classe
<code class="docutils literal"><span class="pre">Validation</span></code>. La classe Validation contient un ensemble de méthodes static qui
fournissent des validators pour plusieurs situations de validation habituelles.</p>
<p>La <a class="reference external" href="https://api.cakephp.org/3.x/class-Cake.Validation.Validation.html">documentation de l&#8217;API</a> pour la
classe <code class="docutils literal"><span class="pre">Validation</span></code> fournit une bonne liste de règles de validation qui sont
disponibles, et leur utilisation basique.</p>
<p>Certaines des méthodes de validation acceptent des paramètres supplémentaires
pour définir des conditions limites ou des options valides. Vous pouvez fournir
ces conditions limite et options comme suit:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">();</span>
<span class="nv">$validator</span>
    <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;minLength&#39;</span><span class="p">,</span> <span class="p">[</span>
        <span class="s1">&#39;rule&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;minLength&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
    <span class="p">])</span>
    <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;rating&#39;</span><span class="p">,</span> <span class="s1">&#39;validValue&#39;</span><span class="p">,</span> <span class="p">[</span>
        <span class="s1">&#39;rule&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;range&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
    <span class="p">]);</span>
</pre></div>
</div>
<p>Les règles du Cœur qui prennent des paramètres supplémentaires doivent avoir un
tableau pour la clé <code class="docutils literal"><span class="pre">rule</span></code> qui contient la règle comme premier élément, et les
paramètres supplémentaires en paramètres restants.</p>
</div>
</div>


            </div>
        </div>

        
        <div class="col-md-3 col-md-pull-9 hidden-xs hidden-sm" lang="fr">
            <aside class="sidebar">
                <div class="mb30 row">
<div id="sidebar-navigation" class="hidden-xs">
	<p class="caption"><span class="caption-text">Préface</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">CakePHP en un Coup d&#8217;Oeil</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Guide de Démarrage Rapide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices/3-x-migration-guide.html">3.x Guide de Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials-and-examples.html">Tutoriels et exemples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contribuer</a></li>
</ul>
<p class="caption"><span class="caption-text">Pour Commencer</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/routing.html">Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/request-response.html">Les Objets Request &amp; Response</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/middleware.html">Middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers.html">Controllers (Contrôleurs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views.html">Views (Vues)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../orm.html">Accès Base de Données &amp; ORM</a></li>
</ul>
<p class="caption"><span class="caption-text">Généralités</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../controllers/components/authentication.html">Authentification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bake.html">Console Bake</a></li>
<li class="toctree-l1"><a class="reference internal" href="caching.html">La mise en cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../console-and-shells.html">Outils de Console, Shells, &amp; Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/debugging.html">Debugger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment.html">Déploiement</a></li>
<li class="toctree-l1"><a class="reference internal" href="email.html">Email</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/errors.html">Gestion des Erreurs &amp; Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="events.html">Événements système</a></li>
<li class="toctree-l1"><a class="reference internal" href="internationalization-and-localization.html">Internationalisation &amp; Localisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Journalisation (logging)</a></li>
<li class="toctree-l1"><a class="reference internal" href="form.html">Formulaires Sans Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/components/pagination.html">Pagination</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/rest.html">REST</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">Sécurité</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/sessions.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/testing.html">Testing</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Validation</a></li>
</ul>
<p class="caption"><span class="caption-text">Utilitaires</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="app.html">Classe App</a></li>
<li class="toctree-l1"><a class="reference internal" href="collections.html">Collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="file-folder.html">Folder &amp; File</a></li>
<li class="toctree-l1"><a class="reference internal" href="hash.html">Hash</a></li>
<li class="toctree-l1"><a class="reference internal" href="httpclient.html">Client Http</a></li>
<li class="toctree-l1"><a class="reference internal" href="inflector.html">Inflector</a></li>
<li class="toctree-l1"><a class="reference internal" href="number.html">Number</a></li>
<li class="toctree-l1"><a class="reference internal" href="registry-objects.html">Objets Registry</a></li>
<li class="toctree-l1"><a class="reference internal" href="text.html">Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="time.html">Date &amp; Time</a></li>
<li class="toctree-l1"><a class="reference internal" href="xml.html">Xml</a></li>
</ul>
<p class="caption"><span class="caption-text">Divers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="global-constants-and-functions.html">Globales &amp; Fonctions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chronos.html">Chronos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../debug-kit.html">Debug Kit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migrations.html">Migrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../elasticsearch.html">ElasticSearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade-tool.html">Outil d&#8217;Upgrade</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices.html">Annexes</a></li>
</ul>

</div>

                </div>
            </aside>
            <aside class="sidebar">
                <div class="mb30 row">
                </div>
            </aside>
        </div>
    </div>
</div>

<section id="socials" class="back-3">
    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-5  social text-center">
                <div class="col-sm-3 col-xs-3">
                    <div id="fb-root"></div>
                        <script>(function(d, s, id) {
                          var js, fjs = d.getElementsByTagName(s)[0];
                          if (d.getElementById(id)) return;
                          js = d.createElement(s); js.id = id;
                          js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
                          fjs.parentNode.insertBefore(js, fjs);
                        }(document, 'script', 'facebook-jssdk'));
                        </script>
                        <div id="fb-root-face" class="fb-like" data-href="https://www.facebook.com/CakePHP/" data-layout="button_count" data-action="like" data-show-faces="true" data-share="false"></div>
                </div>

                <div class="col-sm-3 col-xs-3">
                    <iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=star&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
                </div>

                <div class="col-sm-3 col-xs-3">
                    <iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=fork&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
                </div>

                <div class="col-sm-3 col-xs-3">
                    <a href="https://twitter.com/CakePHP" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false">Follow @CakePHP</a>
                    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                </div>
            </div>

            <div class="col-xs-12 col-sm-12 col-md-7 social-footer text-center ">
                <a href="https://twitter.com/cakephp" data-toggle="tooltip" title="Twitter"><i class="fa icon-social fa-twitter"></i>
                <a href="https://www.facebook.com/groups/cake.community" data-toggle="tooltip" title="Facebook"><i class="fa icon-social fa-facebook"></i></a>
                <a href="https://goo.gl/mSC0s" data-toggle="tooltip" title="Google Plus"><i class="fa icon-social  fa-google-plus"></i></a>
                <a href="https://www.youtube.com/user/CakePHP" data-toggle="tooltip" title="Youtube"><i class="fa icon-social fa-youtube-play"></i></a>
                <a href="https://github.com/cakephp" data-toggle="tooltip" title="Github"><i class="fa icon-social fa-git"></i></a>
                <a href="https://cakesf.herokuapp.com/" target="_blank" title="Slack" data-toggle="tooltip"><i class="fa fa-slack icon-social"></i></a>
                <a href="https://stackoverflow.com/tags/cakephp" data-toggle="tooltip" title="Stack Overflow"><i class="fa icon-social fa-stack-overflow"></i></a>
                <a href="https://webchat.freenode.net/?channels=cakephp" data-toggle="tooltip" title="IRC" class="icon-irc">#IRC</a>
            </div>
        </div>
    </div>
</section>

<footer id="footer" class="footer-wrapper">
    <div class="container">

        <div class="row col-p30">
            <div class="col-sm-12 col-md-3">
                <div class="footer-widget t-footer">
                    <div class="col-md-12">
                        <a href="https://www.openhub.net/p/cakephp">
                            <img src="../_static/open-hub.png">
                        </a>
                        <div class="mt10">
                            <a href="https://www.rackspace.com/">
                                <img src="../_static/rackspace.png">
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-12 col-md-9">
                <div class="col-md-3 col-sm-6 business-solution">
                    <ul class="footer-menu">
                        <li class="menu-title">
    <a href="https://cakephp.org/business-solutions"><i class="fa fa-menu-title fa-briefcase"></i>Business Solutions</a>
</li>
<li class="menu-title mt30">
    <a href="https://cakephp.org/showcase"><i class="fa fa-menu-title fa-desktop"></i>Showcase</a>
</li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <ul class="footer-menu">
                        
<li class="menu-title">
	<i class="fa fa-menu-title fa-book"></i>Documentation
</li>

<li><a href="https://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Book</a></li>
<li><a href="https://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="https://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="https://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="https://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <ul class="footer-menu">
                        
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="https://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="https://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="https://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="https://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="https://github.com/FriendsOfCake/awesome-cakephp"><i class="fa fa-menu fa-chevron-right"></i>Featured Resources</a></li>
<li><a href="https://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="https://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="https://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <ul class="footer-menu">
                        
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="https://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="https://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="https://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="https://www.cakedc.com/"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 text-center mt30">
                <p class="copyright">
                            &copy; Copyright 2017, Cake Software Foundation, Inc.
                        Mis à jour le août 30, 2017.
                        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.5.
                </p>
            </div>
        </div>
    </div>
</footer>

<div id="inline-search-results"></div>


</div>

<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-743287-3']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
  </body>
</html>


<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="Collections" lang="fr" name="title" />
<meta content="collections, cakephp, append, sort, compile, contains, countBy, each, every, extract, filter, first, firstMatch, groupBy, indexBy, jsonSerialize, map, match, max, min, reduce, reject, sample, shuffle, some, random, sortBy, take, toArray, insert, sumOf, stopWhen, unfold, through" lang="fr" name="keywords" />

    <title>Collections - 3.x</title>
    <link href="../_static/favicon.png" type="image/png" rel="icon" />

    
    <link rel="stylesheet" href="../_static/css/app.css" type="text/css" />
    
    <script type="text/javascript" src="../_static/app.js"></script>

    <link rel="alternate" hreflang="en" href="../../en/core-libraries/collections.html" /><link rel="alternate" hreflang="pt_BR" href="../../pt/core-libraries/collections.html" /><link rel="alternate" hreflang="es" href="../../es/core-libraries/collections.html" /><link rel="alternate" hreflang="ja" href="../../ja/core-libraries/collections.html" /><link rel="alternate" hreflang="zh" href="../../zh/core-libraries/collections.html" /><link rel="alternate" hreflang="tr" href="../../tr/core-libraries/collections.html" /><link rel="alternate" hreflang="ru" href="../../ru/core-libraries/collections.html" />

    <link rel="search" type="application/opensearchdescription+xml" title="Search within documentation CakePHP Cookbook 3.5" href="../_static/opensearchdescription-book-3-x.xml">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="top" title="documentation CakePHP Cookbook 3.5" href="../index.html" />
    <link rel="next" title="Folder &amp; File" href="file-folder.html" />
    <link rel="prev" title="Classe App" href="app.html" />

    <script type="text/javascript">
    window.lang = "fr";
    </script>
  </head>
  <body>

<div id="container">
    
    <header class="nav-down">
        <div class="container-fluid hidden-xs hidden-sm">
            <div class="row">
                <div class="col-sm-3 col-md-3">
                    <a class="logo-cake" href="https://cakephp.org">
                        <img src="../_static/logo-cake.png" alt="CakePHP" />
                    </a>
                </div>

                <div class="col-sm-9 col-md-9">
                    <nav class="navbar-right">
                        <ul class="menu">
                            <li class="first">
                                <a href="#"><i class="fa fa-menu fa-chevron-down"></i>Documentation</a>
                                <ul class="submenu">
                                    
<li><a href="https://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Book</a></li>
<li><a href="https://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="https://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="https://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="https://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
                                </ul>
                            </li>

                            <li><a href="https://cakephp.org/business-solutions">Business Solutions</a></li>
                            <li><a href="https://cakephp.org/writers">Get Paid To Write</a></li>
                            <li><a href="https://cakephp.org/pages/team">Team</a></li>

                            <li>
                                <a href="#"><i class="fa fa-menu fa-chevron-down"></i>Community</a>
                                <div class="megamenu full">
                                    <div class="row">
                                        <div class="col-6 pl30">
                                            <ul class="megamenu-list">
                                                
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="https://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="https://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="https://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="https://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="https://github.com/FriendsOfCake/awesome-cakephp"><i class="fa fa-menu fa-chevron-right"></i>Featured Resources</a></li>
<li><a href="https://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="https://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="https://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
                                            </ul>
                                        </div>
                                        <div class="col-6 pl30">
                                            <ul class="megamenu-list">
                                                
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="https://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="https://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="https://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="https://www.cakedc.com/"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>

        
        <div class="container-fluid hidden-md hidden-lg">
            <div class="row">
                <div class="col-sm-6 col-xs-6">
                    <a class="logo-cake" href="https://cakephp.org">
                        <img src="../_static/logo-cake.png" alt="CakePHP" />
                    </a>
                </div>

                <div class="col-sm-6 col-xs-6">
                    <div class="navbar-right">
                        <button id="btn-menu" class="btn-menu" data-toggle="modal" data-target="#modal">
                            <i class="fa fa-bars toggle-modal"></i>
                        </button>
                    </div>
                    <div id="wrap">
                        <form class="search" action="../search.html" method="get">
                            <input name="q" type="search" placeholder="What are you looking for?">
                            <input id="search_submit" value="Recherche" type="submit">
                        </form>
                    </div>
                </div>
            </div>
        </div>

        
        <section id="nav-cook" class="hidden-xs hidden-sm">
            <div class="container-fluid ">
                <div class="row ">
                    <div class="col-md-12 back-book">
                        <div class="col-md-5 text-center t-cook-nav p0 hidden-sm hidden-xs">
                            <h2>
                                <a href="../contents.html">
                                    <span class="glyph_range icon-submenu icon-submenu-cook">B</span>
                                    CakePHP 3.5 Red Velvet <strong>Cookbook</strong>
                                </a>
                            </h2>
                        </div>

                        <div class="col-md-4 hidden-sm">
                            <form class="search" action="../search.html" method="get">
                                <input type="hidden" name="check_keywords" value="yes" />
                                <input type="hidden" name="area" value="default" />

                                <div class="col-md-10 p0">
                                    <input class="form-control form-cook" autocomplete="off" type="search" name="q" size="18" placeholder='Cookbook Search' />
                                </div>
                                <div class="col-md-2 p0 search-cook">
                                    <button type="submit">
                                        <span class="glyph_range icon-submenu icon-submenu-cook">A</span>
                                    </button>
                                </div>
                            </form>
                        </div>

                        
                        <div class="col-md-3">
                            <div class="col-md-6 p0">
                                <div class="col-md-7 t-language p0">
                                    <h6>Language:</h6>
                                </div>
                                <div class="col-md-5 p0">
                                    <ul class="nav navbar-nav">
                                        <li class="dropdown">
                                            <a class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown"
                                                    role="button" aria-haspopup="true" aria-expanded="false" href="#">
                                                        fr
                                                        <i class="fa fa-menu-en fa-chevron-down"></i>
                                                    </a>
                                            <ul class="dropdown-menu">
                                            
                                                <li><a href="../../en/core-libraries/collections.html">en</a></li>
                                            
                                                <li><a href="../../pt/core-libraries/collections.html">pt</a></li>
                                            
                                                <li><a href="../../es/core-libraries/collections.html">es</a></li>
                                            
                                                <li><a href="../../ja/core-libraries/collections.html">ja</a></li>
                                            
                                                <li></li>
                                            
                                                <li><a href="../../zh/core-libraries/collections.html">zh</a></li>
                                            
                                                <li><a href="../../tr/core-libraries/collections.html">tr</a></li>
                                            
                                                <li><a href="../../ru/core-libraries/collections.html">ru</a></li>
                                            
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <div class="col-md-6 p0">
                                <div class="col-md-7 t-language p0">
                                    <h6>Version:</h6>
                                </div>
                                <div class="col-md-5 p0">
                                    <ul class="nav navbar-nav">
                                        <li class="dropdown">
                                            <a href="#" class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">3.x <i class="fa fa-menu-en fa-chevron-down"></i></a>
                                            <ul class="dropdown-menu">
                                                <li><a href="https://book.cakephp.org/3.0/fr">3.x Book</a></li>
                                                <li><a href="https://book.cakephp.org/2.0/fr">2.x Book</a></li>
                                                <li><a href="https://book.cakephp.org/1.3/fr/">1.3 Book</a></li>
                                                <li><a href="https://book.cakephp.org/1.2/fr/">1.2 Book</a></li>
                                                <li><a href="https://book.cakephp.org/1.1/en">1.1 Book</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            
        </section>
    </header>

    
    <section class="nav-btn visible-sm visible-xs">
        <div class="container">
            <div class="row">
                <div class="col-sm-6 col-xs-6 text-center">
                    <button id="btn-nav" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Nav</strong></button>
                </div>

                <div class="col-sm-6 col-xs-6 text-center">
                    <button id="btn-toc" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Table of Contents</strong></button>
                </div>
            </div>
        </div>
    </section>

    
    <div id="modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modal-header">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title-cookbook" id="modal-header"></h4>
                </div>
                <div class="modal-body"></div>
            </div>
        </div>
    </div>

<div class="container page-container "><div id="improve-slideout">
        <i class="fa fa-pencil icon-improve"></i>
        <a href="https://github.com/cakephp/docs/edit/3.0/fr/core-libraries/collections.rst" target="_blank">
            <div id="improve-slideout-inner"><h6>Improve This Doc <i class="fa fa-github git-improve"></i></h6></div>
        </a>
    </div><a id="back-to-contents" href="#page-contents"><i class="fa fa-arrow-circle-up icon-improve" title="Back to Contents"></i></a>

    
    <div class="row">
        <div class="col-sm-12 col-md-9 col-md-push-3"><div class="page-contents col-sm-5">
                <h3>Page Contents</h3>
                <ul>
<li><a class="reference internal" href="#">Collections</a><ul>
<li><a class="reference internal" href="#exemple-rapide">Exemple Rapide</a></li>
<li><a class="reference internal" href="#liste-des-methodes">Liste des Méthodes</a></li>
<li><a class="reference internal" href="#faire-une-iteration">Faire une Itération</a></li>
<li><a class="reference internal" href="#filtrer">Filtrer</a></li>
<li><a class="reference internal" href="#agregation">Agrégation</a><ul>
<li><a class="reference internal" href="#grouper-et-compter">Grouper et Compter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#trier">Trier</a></li>
<li><a class="reference internal" href="#utiliser-des-donnees-en-arbre">Utiliser des Données en Arbre</a></li>
<li><a class="reference internal" href="#autres-methodes">Autres Méthodes</a><ul>
<li><a class="reference internal" href="#retrait-d-elements">Retrait d&#8217;Eléments</a></li>
<li><a class="reference internal" href="#agrandir-les-collections">Agrandir les Collections</a></li>
<li><a class="reference internal" href="#modification-d-elements">Modification d&#8217;Eléments</a></li>
<li><a class="reference internal" href="#creer-des-methodes-de-collection-reutilisables">Créer des Méthodes de Collection Réutilisables</a></li>
<li><a class="reference internal" href="#optimiser-les-collections">Optimiser les Collections</a></li>
<li><a class="reference internal" href="#rendre-les-collections-rembobinables">Rendre les Collections Rembobinables</a></li>
<li><a class="reference internal" href="#clonage-de-collection">Clonage de Collection</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            </div><div class="document-body">
            
  <div class="section" id="namespace-Cake\Collection">
<span id="collections"></span><h1>Collections<a class="headerlink" href="#namespace-Cake\Collection" title="Lien permanent vers ce titre">¶</a></h1>
<dl class="class">
<dt id="Cake\Collection\Collection">
<em class="property">class </em><code class="descclassname">Cake\Collection\</code><code class="descname">Collection</code><a class="headerlink" href="#Cake\Collection\Collection" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Les classes collection fournissent un ensemble d&#8217;outils pour manipuler les
tableaux ou les objets <code class="docutils literal"><span class="pre">Traversable</span></code>. Si vous avez déjà utilisé
underscore.js, vous avez une idée de ce que vous pouvez attendre des classes
collection.</p>
<p>Les instances Collection sont immutables, modifier une collection va plutôt
générer une nouvelle collection. Cela rend le travail avec les objets collection
plus prévisible puisque les opérations sont sans effets collatéraux.</p>
<div class="section" id="exemple-rapide">
<h2>Exemple Rapide<a class="headerlink" href="#exemple-rapide" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les Collections peuvent être créées en utilisant un tableau ou un objet
Traversable. Vous allez aussi interagir avec les collections à chaque fois que
vous faites une interaction avec l&#8217;ORM de CakePHP. Une utilisation simple de
Collection serait:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Cake\Collection\Collection</span><span class="p">;</span>

<span class="nv">$items</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">];</span>
<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$items</span><span class="p">);</span>

<span class="c1">// Crée une nouvelle collection contenant des éléments</span>
<span class="c1">// avec une valeur supérieure à un.</span>
<span class="nv">$overOne</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$value</span><span class="p">,</span> <span class="nv">$key</span><span class="p">,</span> <span class="nv">$iterator</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$value</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Vous pouvez aussi utiliser la fonction <code class="docutils literal"><span class="pre">collection()</span></code> à la place de <code class="docutils literal"><span class="pre">new</span>
<span class="pre">Collection()</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$items</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">];</span>

<span class="c1">// Les deux créent une instance de Collection.</span>
<span class="nv">$collectionA</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$items</span><span class="p">);</span>
<span class="nv">$collectionB</span> <span class="o">=</span> <span class="nx">collection</span><span class="p">(</span><span class="nv">$items</span><span class="p">);</span>
</pre></div>
</div>
<p>Le bénéfice de cette méthode est qu&#8217;il est plus facile de chaîner par rapport à
<code class="docutils literal"><span class="pre">(new</span> <span class="pre">Collection($items))</span></code>.</p>
<p><code class="xref php php-trait docutils literal"><span class="pre">Collection\CollectionTrait</span></code> vous permet également
d&#8217;intégrer des fonctionnalités semblables aux Collections pour tout objet
<code class="docutils literal"><span class="pre">Traversable</span></code> de votre application.</p>
</div>
<div class="section" id="liste-des-methodes">
<h2>Liste des Méthodes<a class="headerlink" href="#liste-des-methodes" title="Lien permanent vers ce titre">¶</a></h2>
<table border="1" class="docutils internal-toc">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#Cake\Collection\Collection::append" title="Cake\Collection\Collection::append"><code class="xref php php-meth docutils literal"><span class="pre">append</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::avg" title="Cake\Collection\Collection::avg"><code class="xref php php-meth docutils literal"><span class="pre">avg</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::buffered" title="Cake\Collection\Collection::buffered"><code class="xref php php-meth docutils literal"><span class="pre">buffered</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::chunk" title="Cake\Collection\Collection::chunk"><code class="xref php php-meth docutils literal"><span class="pre">chunk</span></code></a></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Cake\Collection\Collection::chunkWithKeys" title="Cake\Collection\Collection::chunkWithKeys"><code class="xref php php-meth docutils literal"><span class="pre">chunkWithKeys</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::combine" title="Cake\Collection\Collection::combine"><code class="xref php php-meth docutils literal"><span class="pre">combine</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::compile" title="Cake\Collection\Collection::compile"><code class="xref php php-meth docutils literal"><span class="pre">compile</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::contains" title="Cake\Collection\Collection::contains"><code class="xref php php-meth docutils literal"><span class="pre">contains</span></code></a></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Cake\Collection\Collection::countBy" title="Cake\Collection\Collection::countBy"><code class="xref php php-meth docutils literal"><span class="pre">countBy</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::each" title="Cake\Collection\Collection::each"><code class="xref php php-meth docutils literal"><span class="pre">each</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::every" title="Cake\Collection\Collection::every"><code class="xref php php-meth docutils literal"><span class="pre">every</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::extract" title="Cake\Collection\Collection::extract"><code class="xref php php-meth docutils literal"><span class="pre">extract</span></code></a></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Cake\Collection\Collection::filter" title="Cake\Collection\Collection::filter"><code class="xref php php-meth docutils literal"><span class="pre">filter</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::first" title="Cake\Collection\Collection::first"><code class="xref php php-meth docutils literal"><span class="pre">first</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::groupBy" title="Cake\Collection\Collection::groupBy"><code class="xref php php-meth docutils literal"><span class="pre">groupBy</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::indexBy" title="Cake\Collection\Collection::indexBy"><code class="xref php php-meth docutils literal"><span class="pre">indexBy</span></code></a></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Cake\Collection\Collection::insert" title="Cake\Collection\Collection::insert"><code class="xref php php-meth docutils literal"><span class="pre">insert</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::isEmpty" title="Cake\Collection\Collection::isEmpty"><code class="xref php php-meth docutils literal"><span class="pre">isEmpty</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::last" title="Cake\Collection\Collection::last"><code class="xref php php-meth docutils literal"><span class="pre">last</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::listNested" title="Cake\Collection\Collection::listNested"><code class="xref php php-meth docutils literal"><span class="pre">listNested</span></code></a></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Cake\Collection\Collection::map" title="Cake\Collection\Collection::map"><code class="xref php php-meth docutils literal"><span class="pre">map</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::match" title="Cake\Collection\Collection::match"><code class="xref php php-meth docutils literal"><span class="pre">match</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::max" title="Cake\Collection\Collection::max"><code class="xref php php-meth docutils literal"><span class="pre">max</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::median" title="Cake\Collection\Collection::median"><code class="xref php php-meth docutils literal"><span class="pre">median</span></code></a></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Cake\Collection\Collection::min" title="Cake\Collection\Collection::min"><code class="xref php php-meth docutils literal"><span class="pre">min</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::nest" title="Cake\Collection\Collection::nest"><code class="xref php php-meth docutils literal"><span class="pre">nest</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::reduce" title="Cake\Collection\Collection::reduce"><code class="xref php php-meth docutils literal"><span class="pre">reduce</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::reject" title="Cake\Collection\Collection::reject"><code class="xref php php-meth docutils literal"><span class="pre">reject</span></code></a></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Cake\Collection\Collection::sample" title="Cake\Collection\Collection::sample"><code class="xref php php-meth docutils literal"><span class="pre">sample</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::shuffle" title="Cake\Collection\Collection::shuffle"><code class="xref php php-meth docutils literal"><span class="pre">shuffle</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::skip" title="Cake\Collection\Collection::skip"><code class="xref php php-meth docutils literal"><span class="pre">skip</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::some" title="Cake\Collection\Collection::some"><code class="xref php php-meth docutils literal"><span class="pre">some</span></code></a></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Cake\Collection\Collection::sortBy" title="Cake\Collection\Collection::sortBy"><code class="xref php php-meth docutils literal"><span class="pre">sortBy</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::stopWhen" title="Cake\Collection\Collection::stopWhen"><code class="xref php php-meth docutils literal"><span class="pre">stopWhen</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::sumOf" title="Cake\Collection\Collection::sumOf"><code class="xref php php-meth docutils literal"><span class="pre">sumOf</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::take" title="Cake\Collection\Collection::take"><code class="xref php php-meth docutils literal"><span class="pre">take</span></code></a></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Cake\Collection\Collection::through" title="Cake\Collection\Collection::through"><code class="xref php php-meth docutils literal"><span class="pre">through</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::transpose" title="Cake\Collection\Collection::transpose"><code class="xref php php-meth docutils literal"><span class="pre">transpose</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::unfold" title="Cake\Collection\Collection::unfold"><code class="xref php php-meth docutils literal"><span class="pre">unfold</span></code></a></td>
<td><a class="reference internal" href="#Cake\Collection\Collection::zip" title="Cake\Collection\Collection::zip"><code class="xref php php-meth docutils literal"><span class="pre">zip</span></code></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="faire-une-iteration">
<h2>Faire une Itération<a class="headerlink" href="#faire-une-iteration" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="method">
<dt id="Cake\Collection\Collection::each">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">each</code><span class="sig-paren">(</span><em>callable $c</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::each" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Les Collections peuvent être itérées et/ou transformées en nouvelles
collections avec les méthodes <code class="docutils literal"><span class="pre">each()</span></code> et <code class="docutils literal"><span class="pre">map()</span></code>. La méthode <code class="docutils literal"><span class="pre">each()</span></code>
ne va pas créer une nouvelle collection, mais va vous permettre de modifier tout
objet dans la collection:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$items</span><span class="p">);</span>
<span class="nv">$collection</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">each</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$value</span><span class="p">,</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">&quot;Element </span><span class="si">$key</span><span class="s2">: </span><span class="si">$value</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Le retour de <code class="docutils literal"><span class="pre">each()</span></code> sera un objet collection. Each va itérer la collection
en appliquant immédiatement le callback pour chaque valeur de la collection.</p>
<dl class="method">
<dt id="Cake\Collection\Collection::map">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">map</code><span class="sig-paren">(</span><em>callable $c</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::map" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>La méthode <code class="docutils literal"><span class="pre">map()</span></code> va créer une nouvelle collection basée sur la sortie du
callback étant appliqué à chaque objet dans la collection originelle:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$items</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">];</span>
<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$items</span><span class="p">);</span>

<span class="nv">$new</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$value</span><span class="p">,</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$value</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// $result contient [&#39;a&#39; =&gt; 2, &#39;b&#39; =&gt; 4, &#39;c&#39; =&gt; 6];</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$new</span><span class="o">-&gt;</span><span class="na">toArray</span><span class="p">();</span>
</pre></div>
</div>
<p>La méthode <code class="docutils literal"><span class="pre">map()</span></code> va créer un nouvel itérateur, qui va créer automatiquement
les objets résultants quand ils sont itérés.</p>
<dl class="method">
<dt id="Cake\Collection\Collection::extract">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">extract</code><span class="sig-paren">(</span><em>$matcher</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::extract" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Une des utilisations les plus courantes de la fonction <code class="docutils literal"><span class="pre">map()</span></code> est
l&#8217;extraction d&#8217;une colonne unique d&#8217;une collection. Si vous souhaitez construire
une liste d&#8217;éléments contenant les valeurs pour une propriété en particulier,
vous pouvez utiliser la méthode <code class="docutils literal"><span class="pre">extract()</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$people</span><span class="p">);</span>
<span class="nv">$names</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">extract</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span>

<span class="c1">// $result contient [&#39;mark&#39;, &#39;jose&#39;, &#39;barbara&#39;];</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$names</span><span class="o">-&gt;</span><span class="na">toArray</span><span class="p">();</span>
</pre></div>
</div>
<p>Comme plusieurs autres fonctions dans la classe <code class="docutils literal"><span class="pre">Collection</span></code>, vous pouvez
spécifier un chemin séparé de points pour extraire les colonnes. Cet exemple va
retourner une collection contenant les noms d&#8217;auteurs à partir d&#8217;une liste
d&#8217;articles:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$articles</span><span class="p">);</span>
<span class="nv">$names</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">extract</span><span class="p">(</span><span class="s1">&#39;author.name&#39;</span><span class="p">);</span>

<span class="c1">// $result contient [&#39;Maria&#39;, &#39;Stacy&#39;, &#39;Larry&#39;];</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$names</span><span class="o">-&gt;</span><span class="na">toArray</span><span class="p">();</span>
</pre></div>
</div>
<p>Finalement, si la propriété que vous recherchez ne peut être exprimée en chemin,
vous pouvez utiliser une fonction de callback pour la retourner:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$articles</span><span class="p">);</span>
<span class="nv">$names</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">extract</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$article</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$article</span><span class="o">-&gt;</span><span class="na">author</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">.</span> <span class="s1">&#39;, &#39;</span> <span class="o">.</span> <span class="nv">$article</span><span class="o">-&gt;</span><span class="na">author</span><span class="o">-&gt;</span><span class="na">last_name</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Vous aurez souvent besoin d&#8217;extraire une clé commune présente dans plusieurs
tableaux ou objets qui sont imbriqués profondément dans d&#8217;autres structures.
Dans ces cas-là, vous pouvez utilisez le matcher <code class="docutils literal"><span class="pre">{*}</span></code> dans la clé du chemin.
Ce matcher est souvent utile quand vous faîtes correspondre des données
d&#8217;association HasMany et BelongsToMany:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$data</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span>
        <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;James&#39;</span><span class="p">,</span>
        <span class="s1">&#39;phone_numbers&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="p">[</span><span class="s1">&#39;number&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;number-1&#39;</span><span class="p">],</span>
            <span class="p">[</span><span class="s1">&#39;number&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;number-2&#39;</span><span class="p">],</span>
            <span class="p">[</span><span class="s1">&#39;number&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;number-3&#39;</span><span class="p">],</span>
        <span class="p">]</span>
    <span class="p">],</span>
    <span class="p">[</span>
        <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;James&#39;</span><span class="p">,</span>
        <span class="s1">&#39;phone_numbers&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="p">[</span><span class="s1">&#39;number&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;number-4&#39;</span><span class="p">],</span>
            <span class="p">[</span><span class="s1">&#39;number&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;number-5&#39;</span><span class="p">],</span>
        <span class="p">]</span>
    <span class="p">]</span>
<span class="p">];</span>

<span class="nv">$numbers</span> <span class="o">=</span> <span class="p">(</span><span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$data</span><span class="p">))</span><span class="o">-&gt;</span><span class="na">extract</span><span class="p">(</span><span class="s1">&#39;phone_numbers.{*}.number&#39;</span><span class="p">);</span>
<span class="nv">$numbers</span><span class="o">-&gt;</span><span class="na">toList</span><span class="p">();</span>
<span class="c1">// Retourne [&#39;number-1&#39;, &#39;number-2&#39;, &#39;number-3&#39;, &#39;number-4&#39;, &#39;number-5&#39;]</span>
</pre></div>
</div>
<p>Ce dernier exemple utilise <code class="docutils literal"><span class="pre">toList()</span></code> au contraire des autres exemples, ce qui
est important quand vous récupérez des résultats avec de possibles clés
dupliquées. En utilisant <code class="docutils literal"><span class="pre">toList()</span></code>, nous aurons la garantie de récupérer
toutes les valeurs même s&#8217;il y a des clés dupliquées.</p>
<dl class="method">
<dt id="Cake\Collection\Collection::combine">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">combine</code><span class="sig-paren">(</span><em>$keyPath</em>, <em>$valuePath</em>, <em>$groupPath = null</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::combine" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Les collections vous permettent de créer une nouvelle collection à partir des
clés et des valeurs d&#8217;une collection existante. Les chemins de clé et de valeur
peuvent être spécifiés avec la notation par point des chemins:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$items</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;parent&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;a&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;parent&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;baz&#39;</span><span class="p">,</span> <span class="s1">&#39;parent&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;a&#39;</span><span class="p">],</span>
<span class="p">];</span>
<span class="nv">$combined</span> <span class="o">=</span> <span class="p">(</span><span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$items</span><span class="p">))</span><span class="o">-&gt;</span><span class="na">combine</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">);</span>

<span class="c1">// Le résultat ressemble à ceci quand il est converti en tableau</span>
<span class="p">[</span>
    <span class="mi">1</span> <span class="o">=&gt;</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span>
    <span class="mi">2</span> <span class="o">=&gt;</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span>
    <span class="mi">3</span> <span class="o">=&gt;</span> <span class="s1">&#39;baz&#39;</span><span class="p">,</span>
<span class="p">];</span>
</pre></div>
</div>
<p>Vous pouvez aussi utiliser <code class="docutils literal"><span class="pre">groupPath</span></code> en option pour grouper les résultats
basés sur un chemin:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$combined</span> <span class="o">=</span> <span class="p">(</span><span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$items</span><span class="p">))</span><span class="o">-&gt;</span><span class="na">combine</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;parent&#39;</span><span class="p">);</span>

<span class="c1">// Le résultat ressemble à ceci quand il est converti en tableau</span>
<span class="p">[</span>
    <span class="s1">&#39;a&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">1</span> <span class="o">=&gt;</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="mi">3</span> <span class="o">=&gt;</span> <span class="s1">&#39;baz&#39;</span><span class="p">],</span>
    <span class="s1">&#39;b&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">2</span> <span class="o">=&gt;</span> <span class="s1">&#39;bar&#39;</span><span class="p">]</span>
<span class="p">];</span>
</pre></div>
</div>
<p>Finalement vous pouvez utiliser les <em>closures</em> pour construire les
chemins des clés/valeurs/groupes de façon dynamique, par exemple quand vous
travaillez avec les entities et les dates (convertis en instances <code class="docutils literal"><span class="pre">Cake/Time</span></code>
par l&#8217;ORM) vous pourriez grouper les résultats par date:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$combined</span> <span class="o">=</span> <span class="p">(</span><span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$entities</span><span class="p">))</span><span class="o">-&gt;</span><span class="na">combine</span><span class="p">(</span>
    <span class="s1">&#39;id&#39;</span><span class="p">,</span>
    <span class="k">function</span> <span class="p">(</span><span class="nv">$entity</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nv">$entity</span><span class="p">;</span> <span class="p">},</span>
    <span class="k">function</span> <span class="p">(</span><span class="nv">$entity</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nv">$entity</span><span class="o">-&gt;</span><span class="na">date</span><span class="o">-&gt;</span><span class="na">toDateString</span><span class="p">();</span> <span class="p">}</span>
<span class="p">);</span>

<span class="c1">// Le résultat va ressembler à ceci quand il sera converti en tableau</span>
<span class="p">[</span>
    <span class="s1">&#39;date string like 2015-05-01&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;entity1-&gt;id&#39;</span> <span class="o">=&gt;</span> <span class="nx">entity1</span><span class="p">,</span> <span class="s1">&#39;entity2-&gt;id&#39;</span> <span class="o">=&gt;</span> <span class="nx">entity2</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="s1">&#39;entityN-&gt;id&#39;</span> <span class="o">=&gt;</span> <span class="nx">entityN</span><span class="p">]</span>
    <span class="s1">&#39;date string like 2015-06-01&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;entity1-&gt;id&#39;</span> <span class="o">=&gt;</span> <span class="nx">entity1</span><span class="p">,</span> <span class="s1">&#39;entity2-&gt;id&#39;</span> <span class="o">=&gt;</span> <span class="nx">entity2</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="s1">&#39;entityN-&gt;id&#39;</span> <span class="o">=&gt;</span> <span class="nx">entityN</span><span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
<dl class="method">
<dt id="Cake\Collection\Collection::stopWhen">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">stopWhen</code><span class="sig-paren">(</span><em>callable $c</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::stopWhen" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Vous pouvez stopper l&#8217;itération à n&#8217;importe quel point en utilisant la méthode
<code class="docutils literal"><span class="pre">stopWhen()</span></code>. L&#8217;appeler dans une collection va en créer une qui va stopper le
retour des résultats si le callable passé retourne false pour l&#8217;un des
éléments:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$items</span><span class="p">);</span>

<span class="nv">$new</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">stopWhen</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$value</span><span class="p">,</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Stop on the first value bigger than 30</span>
    <span class="k">return</span> <span class="nv">$value</span> <span class="o">&gt;</span> <span class="mi">30</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// $result contient [10, 20];</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$new</span><span class="o">-&gt;</span><span class="na">toArray</span><span class="p">();</span>
</pre></div>
</div>
<dl class="method">
<dt id="Cake\Collection\Collection::unfold">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">unfold</code><span class="sig-paren">(</span><em>callable $c</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::unfold" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Parfois les items internes d&#8217;une collection vont contenir des tableaux ou des
itérateurs avec plus d&#8217;items. Si vous souhaitez aplatir la structure interne
pour itérer une fois tous les éléments, vous pouvez utiliser la méthode
<code class="docutils literal"><span class="pre">unfold()</span></code>. Cela va créer une nouvelle collection qui va produire l&#8217;élément
unique imbriqué dans la collection:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$items</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]];</span>
<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$items</span><span class="p">);</span>
<span class="nv">$new</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">unfold</span><span class="p">();</span>

<span class="c1">// $result contient [1, 2, 3, 4, 5];</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$new</span><span class="o">-&gt;</span><span class="na">toList</span><span class="p">();</span>
</pre></div>
</div>
<p>Quand vous passez un callable à <code class="docutils literal"><span class="pre">unfold()</span></code>, vous pouvez contrôler les éléments
qui vont être révélés à partir de chaque item dans la collection originale.
C&#8217;est utile pour retourner les données à partir des services paginés:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$pages</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">];</span>
<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$pages</span><span class="p">);</span>
<span class="nv">$items</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">unfold</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$page</span><span class="p">,</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Un service web imaginaire qui retourne une page de résultats</span>
    <span class="k">return</span> <span class="nx">MyService</span><span class="o">::</span><span class="na">fetchPage</span><span class="p">(</span><span class="nv">$page</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">toArray</span><span class="p">();</span>
<span class="p">});</span>

<span class="nv">$allPagesItems</span> <span class="o">=</span> <span class="nv">$items</span><span class="o">-&gt;</span><span class="na">toList</span><span class="p">();</span>
</pre></div>
</div>
<p>Si vous utilisez PHP 5.5+, vous pouvez utiliser le mot clé <code class="docutils literal"><span class="pre">yield</span></code> à l&#8217;intérieur
de <code class="docutils literal"><span class="pre">unfold()</span></code> pour renvoyer autant d&#8217;éléments pour chaque item dans la collection
que besoin:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$oddNumbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">];</span>
<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$oddNumbers</span><span class="p">);</span>
<span class="nv">$new</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">unfold</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$oddNumber</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">yield</span> <span class="nv">$oddNumber</span><span class="p">;</span>
    <span class="k">yield</span> <span class="nv">$oddNumber</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// $result contient [1, 2, 3, 4, 5, 6, 7, 8];</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$new</span><span class="o">-&gt;</span><span class="na">toList</span><span class="p">();</span>
</pre></div>
</div>
<dl class="method">
<dt id="Cake\Collection\Collection::chunk">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">chunk</code><span class="sig-paren">(</span><em>$chunkSize</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::chunk" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Quand vous gérez des grandes quantités d&#8217;items dans une collection, il peut
paraître sensé d&#8217;agir sur les éléments en lots plutôt qu&#8217;un par un. Pour séparer
une collection en plusieurs tableaux d&#8217;une certaine taille, vous pouvez utiliser
la fonction <code class="docutils literal"><span class="pre">chunk()</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">];</span>
<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$items</span><span class="p">);</span>
<span class="nv">$chunked</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">chunk</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="nv">$chunked</span><span class="o">-&gt;</span><span class="na">toList</span><span class="p">();</span> <span class="c1">// [[1, 2], [3, 4], [5, 6], [7, 8], [9, 10], [11]]</span>
</pre></div>
</div>
<p>La fonction <code class="docutils literal"><span class="pre">chunk</span></code> est particulièrement utile quand vous faîtes des
opérations en lots, par exemple avec les résultats d&#8217;une base de données:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$articles</span><span class="p">);</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$article</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Change une propriété de l&#39;article</span>
        <span class="nv">$article</span><span class="o">-&gt;</span><span class="na">property</span> <span class="o">=</span> <span class="s1">&#39;changed&#39;</span><span class="p">;</span>
    <span class="p">})</span>
    <span class="o">-&gt;</span><span class="na">chunk</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">each</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$batch</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">myBulkSave</span><span class="p">(</span><span class="nv">$batch</span><span class="p">);</span> <span class="c1">// Cette fonction sera appelée pour chaque lot</span>
    <span class="p">});</span>
</pre></div>
</div>
<dl class="method">
<dt id="Cake\Collection\Collection::chunkWithKeys">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">chunkWithKeys</code><span class="sig-paren">(</span><em>$chunkSize</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::chunkWithKeys" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Tout comme <a class="reference internal" href="#Cake\Collection\Collection::chunk" title="Cake\Collection\Collection::chunk"><code class="xref php php-meth docutils literal"><span class="pre">chunk()</span></code></a>, <code class="docutils literal"><span class="pre">chunkWithKeys()</span></code> vous permet de découper une
collection en plusieurs tableaux plus petits mais en préservant les clés. Ceci
est particulièrement utile quand vous avez besoin de découper des tableaux
associatifs:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">([</span>
    <span class="s1">&#39;a&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;b&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">&#39;c&#39;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s1">&#39;d&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="p">]);</span>
<span class="nv">$chunked</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">chunkWithKeys</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">toList</span><span class="p">();</span>
<span class="c1">// Va créer</span>
<span class="p">[</span>
    <span class="p">[</span><span class="s1">&#39;a&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;c&#39;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]]</span>
<span class="p">]</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.4.0: </span><code class="docutils literal"><span class="pre">chunkWithKeys()</span></code> a été ajoutée dans la version 3.4.0</p>
</div>
</div>
<div class="section" id="filtrer">
<h2>Filtrer<a class="headerlink" href="#filtrer" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="method">
<dt id="Cake\Collection\Collection::filter">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">filter</code><span class="sig-paren">(</span><em>callable $c</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::filter" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Les collections permettent de filtrer et de créer facilement les nouvelles
collections basées sur le résultat de fonctions callback. Vous pouvez utiliser
<code class="docutils literal"><span class="pre">filter()</span></code> pour créer une nouvelle collection d&#8217;éléments qui matchent un
critère callback:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$people</span><span class="p">);</span>
<span class="nv">$ladies</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$person</span><span class="p">,</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$person</span><span class="o">-&gt;</span><span class="na">gender</span> <span class="o">===</span> <span class="s1">&#39;female&#39;</span><span class="p">;</span>
<span class="p">});</span>
<span class="nv">$guys</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$person</span><span class="p">,</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$person</span><span class="o">-&gt;</span><span class="na">gender</span> <span class="o">===</span> <span class="s1">&#39;male&#39;</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
</div>
<dl class="method">
<dt id="Cake\Collection\Collection::reject">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">reject</code><span class="sig-paren">(</span><em>callable $c</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::reject" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>L&#8217;inverse de <code class="docutils literal"><span class="pre">filter()</span></code> est <code class="docutils literal"><span class="pre">reject()</span></code>. Cette méthode fait un filtre
négatif, retirant les éléments qui matchent la fonction filter:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$people</span><span class="p">);</span>
<span class="nv">$ladies</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">reject</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$person</span><span class="p">,</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$person</span><span class="o">-&gt;</span><span class="na">gender</span> <span class="o">===</span> <span class="s1">&#39;male&#39;</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
</div>
<dl class="method">
<dt id="Cake\Collection\Collection::every">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">every</code><span class="sig-paren">(</span><em>callable $c</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::every" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Vous pouvez faire des tests de vérité avec les fonctions filter. Pour voir si
chaque élément dans une collection matche un test, vous pouvez utiliser
<code class="docutils literal"><span class="pre">every()</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$people</span><span class="p">);</span>
<span class="nv">$allYoungPeople</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">every</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$person</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$person</span><span class="o">-&gt;</span><span class="na">age</span> <span class="o">&lt;</span> <span class="mi">21</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
</div>
<dl class="method">
<dt id="Cake\Collection\Collection::some">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">some</code><span class="sig-paren">(</span><em>callable $c</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::some" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Vous pouvez regarder si la collection contient au moins un élément matchant une
fonction filter en utilisant la méthode <code class="docutils literal"><span class="pre">some()</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$people</span><span class="p">);</span>
<span class="nv">$hasYoungPeople</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">some</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$person</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$person</span><span class="o">-&gt;</span><span class="na">age</span> <span class="o">&lt;</span> <span class="mi">21</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
</div>
<dl class="method">
<dt id="Cake\Collection\Collection::match">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">match</code><span class="sig-paren">(</span><em>array $conditions</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::match" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Si vous avez besoin d&#8217;extraire une nouvelle collection contenant seulement les
éléments qui contiennent un ensemble donné de propriétés, vous devez utiliser
la méthode <code class="docutils literal"><span class="pre">match()</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$comments</span><span class="p">);</span>
<span class="nv">$commentsFromMark</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">match</span><span class="p">([</span><span class="s1">&#39;user.name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Mark&#39;</span><span class="p">]);</span>
</pre></div>
</div>
<dl class="method">
<dt id="Cake\Collection\Collection::firstMatch">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">firstMatch</code><span class="sig-paren">(</span><em>array $conditions</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::firstMatch" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Le nom de la propriété peut être un chemin séparé par des points. Vous pouvez
traverser des entities imbriquées et matcher les valeurs qu&#8217;elles contiennent.
Quand vous avez besoin de seulement matcher le premier élément d&#8217;une collection,
vous pouvez utiliser <code class="docutils literal"><span class="pre">firstMatch()</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$comments</span><span class="p">);</span>
<span class="nv">$comment</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">firstMatch</span><span class="p">([</span>
    <span class="s1">&#39;user.name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Mark&#39;</span><span class="p">,</span>
    <span class="s1">&#39;active&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span>
<span class="p">]);</span>
</pre></div>
</div>
<p>Comme vous pouvez le voir ci-dessus, les méthodes <code class="docutils literal"><span class="pre">match()</span></code> et
<code class="docutils literal"><span class="pre">firstMatch()</span></code> vous permettent de fournir plusieurs conditions à matcher. De
plus, les conditions peuvent être utilisées sur des chemins différents, vous
permettant d&#8217;exprimer des conditions complexes à faire correspondre.</p>
</div>
<div class="section" id="agregation">
<h2>Agrégation<a class="headerlink" href="#agregation" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="method">
<dt id="Cake\Collection\Collection::reduce">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">reduce</code><span class="sig-paren">(</span><em>callable $c</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::reduce" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>La contrepartie de l&#8217;opération <code class="docutils literal"><span class="pre">map()</span></code> est habituellement un <code class="docutils literal"><span class="pre">reduce</span></code>. Cette
fonction va vous aider à construire un résultat unique à partir de tous les
éléments d&#8217;une collection:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$totalPrice</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">reduce</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$accumulated</span><span class="p">,</span> <span class="nv">$orderLine</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$accumulated</span> <span class="o">+</span> <span class="nv">$orderLine</span><span class="o">-&gt;</span><span class="na">price</span><span class="p">;</span>
<span class="p">},</span> <span class="mi">0</span><span class="p">);</span>
</pre></div>
</div>
<p>Dans l&#8217;exemple ci-dessus, <code class="docutils literal"><span class="pre">$totalPrice</span></code> va être la somme de tous les prix
uniques qui se trouvent dans la collection. Remarquez le deuxième argument
pour la fonction <code class="docutils literal"><span class="pre">reduce()</span></code>, il prend la valeur initiale pour l&#8217;opération
<code class="docutils literal"><span class="pre">reduce</span></code> que vous souhaitez faire:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$allTags</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">reduce</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$accumulated</span><span class="p">,</span> <span class="nv">$article</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">array_merge</span><span class="p">(</span><span class="nv">$accumulated</span><span class="p">,</span> <span class="nv">$article</span><span class="o">-&gt;</span><span class="na">tags</span><span class="p">);</span>
<span class="p">},</span> <span class="p">[]);</span>
</pre></div>
</div>
<dl class="method">
<dt id="Cake\Collection\Collection::min">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">min</code><span class="sig-paren">(</span><em>string|callable $callback</em>, <em>$type = SORT_NUMERIC</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::min" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Pour extraire la valeur minimum pour une collection basée sur une propriété,
utilisez juste la fonction <code class="docutils literal"><span class="pre">min()</span></code>. Celle-ci va retourner l&#8217;élément complet
à partir de la collection et pas seulement la plus petite valeur trouvée:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$people</span><span class="p">);</span>
<span class="nv">$youngest</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">min</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$youngest</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span>
</pre></div>
</div>
<p>Vous pouvez aussi exprimer la propriété à comparer en fournissant un chemin ou
une fonction callback:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$people</span><span class="p">);</span>
<span class="nv">$personYoungestChild</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">min</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$person</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$person</span><span class="o">-&gt;</span><span class="na">child</span><span class="o">-&gt;</span><span class="na">age</span><span class="p">;</span>
<span class="p">});</span>

<span class="nv">$personWithYoungestDad</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">min</span><span class="p">(</span><span class="s1">&#39;dad.age&#39;</span><span class="p">);</span>
</pre></div>
</div>
<dl class="method">
<dt id="Cake\Collection\Collection::max">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">max</code><span class="sig-paren">(</span><em>string|callable $callback</em>, <em>$type = SORT_NUMERIC</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::max" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>La même chose peut être appliquée à la fonction <code class="docutils literal"><span class="pre">max()</span></code>, qui retourne un
élément unique à partir de la collection ayant la valeur de propriété la plus
élevée:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$people</span><span class="p">);</span>
<span class="nv">$oldest</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">max</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">);</span>

<span class="nv">$personOldestChild</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">max</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$person</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$person</span><span class="o">-&gt;</span><span class="na">child</span><span class="o">-&gt;</span><span class="na">age</span><span class="p">;</span>
<span class="p">});</span>

<span class="nv">$personWithOldestDad</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">min</span><span class="p">(</span><span class="s1">&#39;dad.age&#39;</span><span class="p">);</span>
</pre></div>
</div>
<dl class="method">
<dt id="Cake\Collection\Collection::sumOf">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">sumOf</code><span class="sig-paren">(</span><em>string|callable $callback</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::sumOf" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Pour finir, la méthode <code class="docutils literal"><span class="pre">sumOf()</span></code> va retourner la somme d&#8217;une propriété de tous
les éléments:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$people</span><span class="p">);</span>
<span class="nv">$sumOfAges</span> <span class="o">=</span>  <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sumOf</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">);</span>

<span class="nv">$sumOfChildrenAges</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sumOf</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$person</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$person</span><span class="o">-&gt;</span><span class="na">child</span><span class="o">-&gt;</span><span class="na">age</span><span class="p">;</span>
<span class="p">});</span>

<span class="nv">$sumOfDadAges</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sumOf</span><span class="p">(</span><span class="s1">&#39;dad.age&#39;</span><span class="p">);</span>
</pre></div>
</div>
<dl class="method">
<dt id="Cake\Collection\Collection::avg">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">avg</code><span class="sig-paren">(</span><em>$matcher = null</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::avg" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Calcule la moyenne des éléments de la collection. Vous pouvez passer, en
option, un &#8220;path&#8221; à matcher ou une fonction pour extraire les valeurs pour
lesquelles vous souhaitez générer la moyenne:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$items</span> <span class="o">=</span> <span class="p">[</span>
   <span class="p">[</span><span class="s1">&#39;invoice&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;total&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">]],</span>
   <span class="p">[</span><span class="s1">&#39;invoice&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;total&#39;</span> <span class="o">=&gt;</span> <span class="mi">200</span><span class="p">]],</span>
<span class="p">];</span>

<span class="c1">// Moyenne : 150</span>
<span class="nv">$average</span> <span class="o">=</span> <span class="p">(</span><span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$items</span><span class="p">))</span><span class="o">-&gt;</span><span class="na">avg</span><span class="p">(</span><span class="s1">&#39;invoice.total&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.5.0.</span></p>
</div>
<dl class="method">
<dt id="Cake\Collection\Collection::median">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">median</code><span class="sig-paren">(</span><em>$matcher = null</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::median" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Calcule la valeur médianne d&#8217;un jeu d&#8217;élément. Vous pouvez passer, en
option, un &#8220;path&#8221; à matcher ou une fonction pour extraire les valeurs pour
lesquelles vous souhaitez calculer la valeur médianne:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$items</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">[</span><span class="s1">&#39;invoice&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;total&#39;</span> <span class="o">=&gt;</span> <span class="mi">400</span><span class="p">]],</span>
  <span class="p">[</span><span class="s1">&#39;invoice&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;total&#39;</span> <span class="o">=&gt;</span> <span class="mi">500</span><span class="p">]],</span>
  <span class="p">[</span><span class="s1">&#39;invoice&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;total&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">]],</span>
  <span class="p">[</span><span class="s1">&#39;invoice&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;total&#39;</span> <span class="o">=&gt;</span> <span class="mi">333</span><span class="p">]],</span>
  <span class="p">[</span><span class="s1">&#39;invoice&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;total&#39;</span> <span class="o">=&gt;</span> <span class="mi">200</span><span class="p">]],</span>
<span class="p">];</span>

<span class="c1">// Valeur médiane : 333</span>
<span class="nv">$median</span> <span class="o">=</span> <span class="p">(</span><span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$items</span><span class="p">))</span><span class="o">-&gt;</span><span class="na">median</span><span class="p">(</span><span class="s1">&#39;invoice.total&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.5.0.</span></p>
</div>
<div class="section" id="grouper-et-compter">
<h3>Grouper et Compter<a class="headerlink" href="#grouper-et-compter" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="method">
<dt id="Cake\Collection\Collection::groupBy">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">groupBy</code><span class="sig-paren">(</span><em>$callback</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::groupBy" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Les valeurs d&#8217;une collection peuvent être groupées avec des clés différentes
dans une nouvelle collection quand elles partagent la même valeur pour une
propriété:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$students</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Mark&#39;</span><span class="p">,</span> <span class="s1">&#39;grade&#39;</span> <span class="o">=&gt;</span> <span class="mi">9</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Andrew&#39;</span><span class="p">,</span> <span class="s1">&#39;grade&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Stacy&#39;</span><span class="p">,</span> <span class="s1">&#39;grade&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Barbara&#39;</span><span class="p">,</span> <span class="s1">&#39;grade&#39;</span> <span class="o">=&gt;</span> <span class="mi">9</span><span class="p">]</span>
<span class="p">];</span>
<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$students</span><span class="p">);</span>
<span class="nv">$studentsByGrade</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">groupBy</span><span class="p">(</span><span class="s1">&#39;grade&#39;</span><span class="p">);</span>

<span class="c1">// Le résultat ressemble à ceci quand il est converti en tableau:</span>
<span class="p">[</span>
  <span class="mi">10</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Andrew&#39;</span><span class="p">,</span> <span class="s1">&#39;grade&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Stacy&#39;</span><span class="p">,</span> <span class="s1">&#39;grade&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">]</span>
  <span class="p">],</span>
  <span class="mi">9</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Mark&#39;</span><span class="p">,</span> <span class="s1">&#39;grade&#39;</span> <span class="o">=&gt;</span> <span class="mi">9</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Barbara&#39;</span><span class="p">,</span> <span class="s1">&#39;grade&#39;</span> <span class="o">=&gt;</span> <span class="mi">9</span><span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Comme d&#8217;habitude, il est possible de fournir soit un chemin séparé de points
pour les propriétés imbriquées ou votre propre fonction de callback pour générer
les groupes dynamiquement:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$commentsByUserId</span> <span class="o">=</span> <span class="nv">$comments</span><span class="o">-&gt;</span><span class="na">groupBy</span><span class="p">(</span><span class="s1">&#39;user.id&#39;</span><span class="p">);</span>

<span class="nv">$classResults</span> <span class="o">=</span> <span class="nv">$students</span><span class="o">-&gt;</span><span class="na">groupBy</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$student</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$student</span><span class="o">-&gt;</span><span class="na">grade</span> <span class="o">&gt;</span> <span class="mi">6</span> <span class="o">?</span> <span class="s1">&#39;approved&#39;</span> <span class="o">:</span> <span class="s1">&#39;denied&#39;</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
</div>
<dl class="method">
<dt id="Cake\Collection\Collection::countBy">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">countBy</code><span class="sig-paren">(</span><em>$callback</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::countBy" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Si vous souhaitez seulement connaître le nombre d&#8217;occurrences par groupe, vous
pouvez le faire en utilisant la méthode <code class="docutils literal"><span class="pre">countBy()</span></code>. Elle prend les mêmes
arguments que <code class="docutils literal"><span class="pre">groupBy</span></code> donc cela devrait vous être déjà familier:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$classResults</span> <span class="o">=</span> <span class="nv">$students</span><span class="o">-&gt;</span><span class="na">countBy</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$student</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$student</span><span class="o">-&gt;</span><span class="na">grade</span> <span class="o">&gt;</span> <span class="mi">6</span> <span class="o">?</span> <span class="s1">&#39;approved&#39;</span> <span class="o">:</span> <span class="s1">&#39;denied&#39;</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Result could look like this when converted to array:</dt>
<dd>[&#8216;approved&#8217; =&gt; 70, &#8216;denied&#8217; =&gt; 20]</dd>
</dl>
<dl class="method">
<dt id="Cake\Collection\Collection::indexBy">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">indexBy</code><span class="sig-paren">(</span><em>$callback</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::indexBy" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Il y aura des cas où vous savez qu&#8217;un élément est unique pour la
propriété selon laquelle vous souhaitez faire un <code class="docutils literal"><span class="pre">groupBy()</span></code>. Si vous
souhaitez un unique résultat par groupe, vous pouvez utiliser la fonction
<code class="docutils literal"><span class="pre">indexBy()</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$usersById</span> <span class="o">=</span> <span class="nv">$users</span><span class="o">-&gt;</span><span class="na">indexBy</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">);</span>

<span class="c1">// Quand il est converti en tableau, le résultat pourrait ressembler à ceci</span>
<span class="p">[</span>
    <span class="mi">1</span> <span class="o">=&gt;</span> <span class="s1">&#39;markstory&#39;</span><span class="p">,</span>
    <span class="mi">3</span> <span class="o">=&gt;</span> <span class="s1">&#39;jose_zap&#39;</span><span class="p">,</span>
    <span class="mi">4</span> <span class="o">=&gt;</span> <span class="s1">&#39;jrbasso&#39;</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Comme avec la fonction <code class="docutils literal"><span class="pre">groupBy()</span></code>, vous pouvez aussi utiliser un chemin de
propriété ou un callback:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$articlesByAuthorId</span> <span class="o">=</span> <span class="nv">$articles</span><span class="o">-&gt;</span><span class="na">indexBy</span><span class="p">(</span><span class="s1">&#39;author.id&#39;</span><span class="p">);</span>

<span class="nv">$filesByHash</span> <span class="o">=</span> <span class="nv">$files</span><span class="o">-&gt;</span><span class="na">indexBy</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$file</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">md5</span><span class="p">(</span><span class="nv">$file</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
<dl class="method">
<dt id="Cake\Collection\Collection::zip">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">zip</code><span class="sig-paren">(</span><em>$elements</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::zip" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Les éléments de différentes collections peuvent être groupés ensemble en
utilisant la méthode <code class="docutils literal"><span class="pre">zip()</span></code>. Elle retournera une nouvelle collection
contenant un tableau regroupant les éléments de chaque collection qui sont
placés à la même position:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$odds</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>
<span class="nv">$pairs</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">]);</span>
<span class="nv">$combined</span> <span class="o">=</span> <span class="nv">$odds</span><span class="o">-&gt;</span><span class="na">zip</span><span class="p">(</span><span class="nv">$pairs</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">toList</span><span class="p">();</span> <span class="c1">// [[1, 2], [3, 4], [5, 6]]</span>
</pre></div>
</div>
<p>Vous pouvez également zipper des cllections multiples d&#8217;un coup:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$years</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">([</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">2014</span><span class="p">,</span> <span class="mi">2015</span><span class="p">,</span> <span class="mi">2016</span><span class="p">]);</span>
<span class="nv">$salaries</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">1500</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">2300</span><span class="p">];</span>
<span class="nv">$increments</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">300</span><span class="p">];</span>

<span class="nv">$rows</span> <span class="o">=</span> <span class="nv">$years</span><span class="o">-&gt;</span><span class="na">zip</span><span class="p">(</span><span class="nv">$salaries</span><span class="p">,</span> <span class="nv">$increments</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">toList</span><span class="p">();</span>
<span class="c1">// Retourne:</span>
<span class="p">[</span>
    <span class="p">[</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">2014</span><span class="p">,</span> <span class="mi">1500</span><span class="p">,</span> <span class="mi">500</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">500</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">2300</span><span class="p">,</span> <span class="mi">300</span><span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Comme vous avez pu le voir, la méthode <code class="docutils literal"><span class="pre">zip()</span></code> est très utile pour transposer
des tableaux multidimensionnels:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$data</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">2014</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;jan&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;feb&#39;</span> <span class="o">=&gt;</span> <span class="mi">200</span><span class="p">],</span>
    <span class="mi">2015</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;jan&#39;</span> <span class="o">=&gt;</span> <span class="mi">300</span><span class="p">,</span> <span class="s1">&#39;feb&#39;</span> <span class="o">=&gt;</span> <span class="mi">500</span><span class="p">],</span>
    <span class="mi">2016</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;jan&#39;</span> <span class="o">=&gt;</span> <span class="mi">400</span><span class="p">,</span> <span class="s1">&#39;feb&#39;</span> <span class="o">=&gt;</span> <span class="mi">600</span><span class="p">],</span>
<span class="p">]</span>

<span class="c1">// Récupérer les données de jan et fev ensemble</span>

<span class="nv">$firstYear</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nb">array_shift</span><span class="p">(</span><span class="nv">$data</span><span class="p">));</span>
<span class="nv">$firstYear</span><span class="o">-&gt;</span><span class="na">zip</span><span class="p">(</span><span class="nv">$data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nv">$data</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">toList</span><span class="p">();</span>

<span class="c1">// Ou $firstYear-&gt;zip(...$data) in PHP &gt;= 5.6</span>

<span class="c1">// Retourne</span>
<span class="p">[</span>
    <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">400</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">600</span><span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="trier">
<h2>Trier<a class="headerlink" href="#trier" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="method">
<dt id="Cake\Collection\Collection::sortBy">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">sortBy</code><span class="sig-paren">(</span><em>$callback</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::sortBy" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Les valeurs de collection peuvent être triées par ordre croissant ou
décroissant basé sur une colonne ou une fonction personnalisée. Pour créer une
nouvelle collection triée à partir de valeurs d&#8217;une autre, vous pouvez utiliser
<code class="docutils literal"><span class="pre">sortBy</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$people</span><span class="p">);</span>
<span class="nv">$sorted</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sortBy</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Comme vu ci-dessus, vous pouvez trier en passant le nom d&#8217;une colonne ou d&#8217;une
propriété qui est présente dans les valeurs de la collection. Vous pouvez aussi
spécifier un chemin de propriété à la place de la notation par point. L&#8217;exemple
suivant va trier les articles par leur nom d&#8217;auteur:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$articles</span><span class="p">);</span>
<span class="nv">$sorted</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sortBy</span><span class="p">(</span><span class="s1">&#39;author.name&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>La méthode <code class="docutils literal"><span class="pre">sortBy()</span></code> est assez flexible pour vous laisser spécifier une
fonction d&#8217;extracteur qui vous laisse sélectionner dynamiquement la valeur à
utiliser pour comparer deux valeurs différentes dans la collection:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$articles</span><span class="p">);</span>
<span class="nv">$sorted</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sortBy</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$article</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$article</span><span class="o">-&gt;</span><span class="na">author</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">.</span> <span class="s1">&#39;-&#39;</span> <span class="o">.</span> <span class="nv">$article</span><span class="o">-&gt;</span><span class="na">title</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Afin de spécifier la direction dans laquelle la collection doit être triée, vous
devez fournir soit <code class="docutils literal"><span class="pre">SORT_ASC</span></code> soit <code class="docutils literal"><span class="pre">SORT_DESC</span></code> en deuxième paramètre pour
trier respectivement par ordre croissant ou décroissant. Par défaut, les
collections sont triées par ordre décroissant:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$people</span><span class="p">);</span>
<span class="nv">$sorted</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sortBy</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="nx">SORT_ASC</span><span class="p">);</span>
</pre></div>
</div>
<p>Parfois vous devez spécifier le type de données que vous essayez de comparer
pour avoir des résultats cohérents. A cet effet, vous devez fournir
un troisième argument dans la fonction <code class="docutils literal"><span class="pre">sortBy()</span></code> avec une des constantes
suivantes:</p>
<ul class="simple">
<li><strong>SORT_NUMERIC</strong>: Pour comparer les nombres</li>
<li><strong>SORT_STRING</strong>: Pour comparer les valeurs de chaîne</li>
<li><strong>SORT_NATURAL</strong>: Pour trier une chaîne contenant des nombres que vous
souhaitez trier de façon naturelle. Par exemple, afficher &#8220;10&#8221; après &#8220;2&#8221;.</li>
<li><strong>SORT_LOCALE_STRING</strong>: Pour comparer les chaînes basées sur la locale
courante.</li>
</ul>
<p>Par défaut, <code class="docutils literal"><span class="pre">SORT_NUMERIC</span></code> est utilisée:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$articles</span><span class="p">);</span>
<span class="nv">$sorted</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sortBy</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="nx">SORT_ASC</span><span class="p">,</span> <span class="nx">SORT_NATURAL</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Avertissement</p>
<p class="last">Il est souvent coûteux d&#8217;itérer les collections triées plus d&#8217;une fois. Si
vous voulez le faire, pensez à convertir la collection en tableau ou
utilisez simplement la méthode <code class="docutils literal"><span class="pre">compile()</span></code> dessus.</p>
</div>
</div>
<div class="section" id="utiliser-des-donnees-en-arbre">
<h2>Utiliser des Données en Arbre<a class="headerlink" href="#utiliser-des-donnees-en-arbre" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="method">
<dt id="Cake\Collection\Collection::nest">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">nest</code><span class="sig-paren">(</span><em>$idPath</em>, <em>$parentPath</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::nest" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Toutes les données ne sont pas destinées à être représentées de façon linéaire.
Les collections facilitent la construction et l&#8217;aplatissement de structures
hiérarchiques ou imbriquées. Créer une structure imbriquée où les enfants sont
groupés selon une propriété identifier parente est facile avec la méthode
<code class="docutils literal"><span class="pre">nest()</span></code>.</p>
<p>Deux paramètres sont requis pour cette fonction. La première est la propriété
représentant l&#8217;identifier de l&#8217;item. Le second paramètre est le nom de la
propriété représentant l&#8217;identifier pour l&#8217;item parent:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$items</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">([</span>
    <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;parent_id&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Birds&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;parent_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Land Birds&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;parent_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Eagle&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;parent_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Seagull&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;parent_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Clown Fish&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;parent_id&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">],</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Fish&#39;</span><span class="p">],</span>
<span class="p">]);</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">nest</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;parent_id&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">toArray</span><span class="p">();</span>
<span class="c1">// Retourne</span>
<span class="p">[</span>
    <span class="p">[</span>
        <span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;parent_id&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span>
        <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Bird&#39;</span><span class="p">,</span>
        <span class="s1">&#39;children&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="p">[</span>
                <span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span>
                <span class="s1">&#39;parent_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Land Birds&#39;</span><span class="p">,</span>
                <span class="s1">&#39;children&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                    <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Eagle&#39;</span><span class="p">,</span> <span class="s1">&#39;parent_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">]</span>
                <span class="p">]</span>
            <span class="p">],</span>
            <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;parent_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Seagull&#39;</span><span class="p">,</span>  <span class="s1">&#39;children&#39;</span> <span class="o">=&gt;</span> <span class="p">[]],</span>
        <span class="p">]</span>
    <span class="p">],</span>
    <span class="p">[</span>
        <span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">,</span>
        <span class="s1">&#39;parent_id&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span>
        <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Fish&#39;</span><span class="p">,</span>
        <span class="s1">&#39;children&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;parent_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Clown Fish&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span> <span class="o">=&gt;</span> <span class="p">[]],</span>
        <span class="p">]</span>
    <span class="p">]</span>
<span class="p">];</span>
</pre></div>
</div>
<p>Les éléments enfants sont imbriqués dans la propriété <code class="docutils literal"><span class="pre">children</span></code> à l&#8217;intérieur
de chacun des items dans la collection. Cette représentation de type de données
aide à rendre les menus ou à traverser les éléments vers le haut à un certain
niveau dans l&#8217;arbre.</p>
<dl class="method">
<dt id="Cake\Collection\Collection::listNested">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">listNested</code><span class="sig-paren">(</span><em>$dir = 'desc'</em>, <em>$nestingKey = 'children'</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::listNested" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>L&#8217;inverse de <code class="docutils literal"><span class="pre">nest()</span></code> est <code class="docutils literal"><span class="pre">listNested()</span></code>. Cette méthode vous permet
d&#8217;aplatir une structure en arbre en structure linéaire. Elle prend deux
paramètres, le premier est le mode de traversement (asc, desc ou leaves), et
le deuxième est le nom de la propriété contenant les enfants pour chaque élément
dans la collection.</p>
<p>Considérons la collection imbriquée intégrée dans l&#8217;exemple précédent, nous
pouvons l&#8217;aplatir:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$nested</span><span class="o">-&gt;</span><span class="na">listNested</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">toList</span><span class="p">();</span>

<span class="c1">// Retourne</span>
<span class="p">[</span>
    <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;parent_id&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Birds&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="o">...</span><span class="p">]],</span>
    <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;parent_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Land Birds&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;parent_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Eagle&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;parent_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Seagull&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;parent_id&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Fish&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="o">...</span><span class="p">]],</span>
    <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;parent_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Clown Fish&#39;</span><span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Par défaut, l&#8217;arbre est traversé de la racine vers les feuilles. Vous pouvez
également demander à retourner seulement les éléments feuilles de l&#8217;arbre:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$nested</span><span class="o">-&gt;</span><span class="na">listNested</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">toArray</span><span class="p">();</span>

<span class="c1">// Retourne</span>
<span class="p">[</span>
    <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;parent_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Eagle&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;parent_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Seagull&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;parent_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Clown Fish&#39;</span><span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Once you have converted a tree into a nested list, you can use the <code class="docutils literal"><span class="pre">printer()</span></code>
method to configure how the list output should be formatted:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$nested</span><span class="o">-&gt;</span><span class="na">listNested</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">printer</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;--&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">toArray</span><span class="p">();</span>

<span class="c1">// Returns</span>
<span class="p">[</span>
    <span class="mi">3</span> <span class="o">=&gt;</span> <span class="s1">&#39;Eagle&#39;</span><span class="p">,</span>
    <span class="mi">4</span> <span class="o">=&gt;</span> <span class="s1">&#39;Seagull&#39;</span><span class="p">,</span>
    <span class="mi">5</span> <span class="o">-&gt;</span> <span class="s1">&#39;--Clown Fish&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">printer()</span></code> method also lets you use a callback to generate the keys and
or values:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$nested</span><span class="o">-&gt;</span><span class="na">listNested</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">printer</span><span class="p">(</span>
    <span class="k">function</span> <span class="p">(</span><span class="nv">$el</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$el</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="k">function</span> <span class="p">(</span><span class="nv">$el</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$el</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="autres-methodes">
<h2>Autres Méthodes<a class="headerlink" href="#autres-methodes" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="method">
<dt id="Cake\Collection\Collection::isEmpty">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">isEmpty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::isEmpty" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Vous permet de voir si une collection contient un élément:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">([]);</span>
<span class="c1">// Returns true</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">isEmpty</span><span class="p">();</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">([</span><span class="mi">1</span><span class="p">]);</span>
<span class="c1">// Returns false</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">isEmpty</span><span class="p">();</span>
</pre></div>
</div>
<dl class="method">
<dt id="Cake\Collection\Collection::contains">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">contains</code><span class="sig-paren">(</span><em>$value</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::contains" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Les collections vous permettent de vérifier rapidement si elles contiennent
une valeur particulière: en utilisant la méthode <code class="docutils literal"><span class="pre">contains()</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$items</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">];</span>
<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$items</span><span class="p">);</span>
<span class="nv">$hasThree</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">contains</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
</pre></div>
</div>
<p>Les comparaisons sont effectuées en utilisant l&#8217;opérateur <code class="docutils literal"><span class="pre">===</span></code>. Si vous
souhaitez faire des types de comparaison non stricte, vous pouvez utiliser la
méthode <code class="docutils literal"><span class="pre">some()</span></code>.</p>
<dl class="method">
<dt id="Cake\Collection\Collection::shuffle">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">shuffle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::shuffle" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Parfois vous pouvez souhaiter montrer une collection de valeurs dans un ordre
au hasard. Afin de créer une nouvelle collection qui va retourner chaque valeur
dans une position au hasard, utilisez <code class="docutils literal"><span class="pre">shuffle</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">([</span><span class="s1">&#39;a&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">]);</span>

<span class="c1">// Ceci pourrait retourner [2, 3, 1]</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">shuffle</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">toArray</span><span class="p">();</span>
</pre></div>
</div>
<dl class="method">
<dt id="Cake\Collection\Collection::transpose">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">transpose</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::transpose" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Quand vous transposez une collection, vous récupérez une nouvelle collection
contenant une colonne avec chacune des colonnes originales:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$items</span> <span class="o">=</span> <span class="p">[</span>
   <span class="p">[</span><span class="s1">&#39;Products&#39;</span><span class="p">,</span> <span class="s1">&#39;2012&#39;</span><span class="p">,</span> <span class="s1">&#39;2013&#39;</span><span class="p">,</span> <span class="s1">&#39;2014&#39;</span><span class="p">],</span>
   <span class="p">[</span><span class="s1">&#39;Product A&#39;</span><span class="p">,</span> <span class="s1">&#39;200&#39;</span><span class="p">,</span> <span class="s1">&#39;100&#39;</span><span class="p">,</span> <span class="s1">&#39;50&#39;</span><span class="p">],</span>
   <span class="p">[</span><span class="s1">&#39;Product B&#39;</span><span class="p">,</span> <span class="s1">&#39;300&#39;</span><span class="p">,</span> <span class="s1">&#39;200&#39;</span><span class="p">,</span> <span class="s1">&#39;100&#39;</span><span class="p">],</span>
   <span class="p">[</span><span class="s1">&#39;Product C&#39;</span><span class="p">,</span> <span class="s1">&#39;400&#39;</span><span class="p">,</span> <span class="s1">&#39;300&#39;</span><span class="p">,</span> <span class="s1">&#39;200&#39;</span><span class="p">],</span>
<span class="p">]</span>
<span class="nv">$transpose</span> <span class="o">=</span> <span class="p">(</span><span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$items</span><span class="p">))</span><span class="o">-&gt;</span><span class="na">transpose</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">toList</span><span class="p">();</span>

<span class="c1">// Returns</span>
<span class="p">[</span>
    <span class="p">[</span><span class="s1">&#39;Products&#39;</span><span class="p">,</span> <span class="s1">&#39;Product A&#39;</span><span class="p">,</span> <span class="s1">&#39;Product B&#39;</span><span class="p">,</span> <span class="s1">&#39;Product C&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;2012&#39;</span><span class="p">,</span> <span class="s1">&#39;200&#39;</span><span class="p">,</span> <span class="s1">&#39;300&#39;</span><span class="p">,</span> <span class="s1">&#39;400&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;2013&#39;</span><span class="p">,</span> <span class="s1">&#39;100&#39;</span><span class="p">,</span> <span class="s1">&#39;200&#39;</span><span class="p">,</span> <span class="s1">&#39;300&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;2014&#39;</span><span class="p">,</span> <span class="s1">&#39;50&#39;</span><span class="p">,</span> <span class="s1">&#39;100&#39;</span><span class="p">,</span> <span class="s1">&#39;200&#39;</span><span class="p">],</span>
<span class="p">]</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.3.0: </span><code class="docutils literal"><span class="pre">Collection::transpose()</span></code> a été ajoutée dans la version 3.3.0.</p>
</div>
<div class="section" id="retrait-d-elements">
<h3>Retrait d&#8217;Eléments<a class="headerlink" href="#retrait-d-elements" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="method">
<dt id="Cake\Collection\Collection::sample">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">sample</code><span class="sig-paren">(</span><em>int $size</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::sample" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Remanier une collection est souvent utile quand vous faites des statistiques
d&#8217;analyse rapides. Une autre opération habituelle quand vous faites ce type
de tâches est d&#8217;extraire quelques valeurs au hasard en dehors de la
collection pour que plus de tests puissent être effectués dessus. Par exemple,
si vous souhaitez sélectionner 5 utilisateurs au hasard auxquels vous voulez
appliquer des tests A/B, vous pouvez utiliser la fonction <code class="docutils literal"><span class="pre">sample()</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$people</span><span class="p">);</span>

<span class="c1">// Extrait au maximum 20 utilisateurs au hasard de la collection</span>
<span class="nv">$testSubjects</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sample</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">sample()</span></code> va prendre au moins le nombre de valeurs que vous spécifiez dans
le premier argument. S&#8217;il n&#8217;y a pas assez d&#8217;éléments dans la collection qui
satisfont le sample, la collection sera retournée en entier dans un ordre au
hasard.</p>
<dl class="method">
<dt id="Cake\Collection\Collection::take">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">take</code><span class="sig-paren">(</span><em>int $size</em>, <em>int $from</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::take" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Quand vous souhaitez prendre une partie d&#8217;une collection, utilisez la fonction
<code class="docutils literal"><span class="pre">take()</span></code>, cela va créer une nouvelle collection avec au moins le nombre de
valeurs que vous spécifiez dans le premier argument, en commençant par la
position passée dans le second argument:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$topFive</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sortBy</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">take</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>

<span class="c1">// Prenons 5 personnes d&#39;une collection en commençant par la position 4</span>
<span class="nv">$nextTopFive</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sortBy</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">take</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
</pre></div>
</div>
<p>Les positions sont basées sur zéro, donc le premier nombre de la position est
<code class="docutils literal"><span class="pre">0</span></code>.</p>
<dl class="method">
<dt id="Cake\Collection\Collection::skip">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">skip</code><span class="sig-paren">(</span><em>int $positions</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::skip" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Alors que le second argument de <code class="docutils literal"><span class="pre">take()</span></code> peut vous aider à exclure quelques
éléments avant de les récupérer depuis une collection, vous pouvez également
utiliser <code class="docutils literal"><span class="pre">skip()</span></code> pour récupérer le reste des éléments après une certaine
position:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]);</span>
<span class="nv">$allExceptFirstTwo</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">skip</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">toList</span><span class="p">();</span> <span class="c1">// [3, 4]</span>
</pre></div>
</div>
<dl class="method">
<dt id="Cake\Collection\Collection::first">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">first</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::first" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Un des cas d&#8217;utilisation les plus courant de <code class="docutils literal"><span class="pre">take()</span></code> est de récupérer le
premier élément d&#8217;un collection. Une moyen plus rapide d&#8217;arriver au même
résultat est d&#8217;utiliser la méthode <code class="docutils literal"><span class="pre">first()</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">]);</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">first</span><span class="p">();</span> <span class="c1">// Retourne 5</span>
</pre></div>
</div>
<dl class="method">
<dt id="Cake\Collection\Collection::last">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">last</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::last" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>De la même manière, vous pouvez récupérer le dernier élément d&#8217;une collection
en utilisant la méthode <code class="docutils literal"><span class="pre">last()</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">]);</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">last</span><span class="p">();</span> <span class="c1">// Returns 2</span>
</pre></div>
</div>
</div>
<div class="section" id="agrandir-les-collections">
<h3>Agrandir les Collections<a class="headerlink" href="#agrandir-les-collections" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="method">
<dt id="Cake\Collection\Collection::append">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">append</code><span class="sig-paren">(</span><em>array|Traversable $items</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::append" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Vous pouvez regrouper plusieurs collections en une collection unique. Ceci vous
permet de recueillir des données provenant de diverses sources, de concaténer
et de lui appliquer d&#8217;autres fonctions de collection très en douceur. La méthode
<code class="docutils literal"><span class="pre">append()</span></code> va retourner une nouvelle collection contenant les valeurs à partir
des deux sources:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$cakephpTweets</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$tweets</span><span class="p">);</span>
<span class="nv">$myTimeline</span> <span class="o">=</span> <span class="nv">$cakephpTweets</span><span class="o">-&gt;</span><span class="na">append</span><span class="p">(</span><span class="nv">$phpTweets</span><span class="p">);</span>

<span class="c1">// Tweets contenant cakefest à partir des deux sources</span>
<span class="nv">$myTimeline</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$tweet</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">strpos</span><span class="p">(</span><span class="nv">$tweet</span><span class="p">,</span> <span class="s1">&#39;cakefest&#39;</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Avertissement</p>
<p class="last">Quand vous ajoutez différentes sources, vous pouvez avoir certaines clés
des deux collections qui sont les mêmes. Par exemple, quand vous ajoutez
deux tableaux unidimensionnels. Ceci peut entraîner un problème quand vous
convertissez une collection en un tableau en utilisant <code class="docutils literal"><span class="pre">toArray()</span></code>. Si
vous ne voulez pas que des valeurs d&#8217;une collection surchargent les autres
dans la précédente basée sur leur clé, assurez-vous que vous appelez
<code class="docutils literal"><span class="pre">toList()</span></code> afin de supprimer les clés et de préserver toutes les
valeurs.</p>
</div>
</div>
<div class="section" id="modification-d-elements">
<h3>Modification d&#8217;Eléments<a class="headerlink" href="#modification-d-elements" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="method">
<dt id="Cake\Collection\Collection::insert">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">insert</code><span class="sig-paren">(</span><em>string $path</em>, <em>array|Traversable $items</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::insert" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>A certains moments, vous pourriez avoir à séparer des ensembles de données que
vous souhaiteriez, pour insérer les éléments d&#8217;un ensemble dans chacun des
éléments de l&#8217;autre ensemble. C&#8217;est un cas très courant quand vous récupérez
les données à partir d&#8217;une source de données qui ne supporte pas la fusion de
données ou les jointures nativement.</p>
<p>Les collections ont une méthode <code class="docutils literal"><span class="pre">insert()</span></code> qui vous permet d&#8217;insérer chacun
des éléments dans une collection dans une propriété dans chacun des éléments
d&#8217;une autre collection:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$users</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s1">&#39;username&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;mark&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;username&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;juan&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;username&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;jose&#39;</span><span class="p">]</span>
<span class="p">];</span>

<span class="nv">$languages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s1">&#39;PHP&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;Ruby&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;Bash&#39;</span><span class="p">,</span> <span class="s1">&#39;PHP&#39;</span><span class="p">,</span> <span class="s1">&#39;Javascript&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;Javascript&#39;</span><span class="p">,</span> <span class="s1">&#39;Prolog&#39;</span><span class="p">]</span>
<span class="p">];</span>

<span class="nv">$merged</span> <span class="o">=</span> <span class="p">(</span><span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$users</span><span class="p">))</span><span class="o">-&gt;</span><span class="na">insert</span><span class="p">(</span><span class="s1">&#39;skills&#39;</span><span class="p">,</span> <span class="nv">$languages</span><span class="p">);</span>
</pre></div>
</div>
<p>Une fois convertie en un tableau, la collection <code class="docutils literal"><span class="pre">$merged</span></code> va ressembler à ceci:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">[</span><span class="s1">&#39;username&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;mark&#39;</span><span class="p">,</span> <span class="s1">&#39;skills&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;PHP&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;Ruby&#39;</span><span class="p">]],</span>
    <span class="p">[</span><span class="s1">&#39;username&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;juan&#39;</span><span class="p">,</span> <span class="s1">&#39;skills&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;Bash&#39;</span><span class="p">,</span> <span class="s1">&#39;PHP&#39;</span><span class="p">,</span> <span class="s1">&#39;Javascript&#39;</span><span class="p">]],</span>
    <span class="p">[</span><span class="s1">&#39;username&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;jose&#39;</span><span class="p">,</span> <span class="s1">&#39;skills&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;Javascript&#39;</span><span class="p">,</span> <span class="s1">&#39;Prolog&#39;</span><span class="p">]]</span>
<span class="p">];</span>
</pre></div>
</div>
<p>Le premier paramètre de la méthode <code class="docutils literal"><span class="pre">insert()</span></code> est un chemin séparé par des
points des propriétés à suivre pour que les éléments puissent être insérés à
cette position. Le second argument est tout ce qui peut être converti en
objets collection.</p>
<p>Veuillez noter que les éléments sont insérés par la position dans laquelle
ils sont trouvés, ainsi le premier élément de la deuxième collection est
fusionné dans le premier élément de la première collection.</p>
<p>S&#8217;il y a assez d&#8217;éléments de la seconde collection à insérer dans la première,
alors la propriété cible va être remplie avec les valeurs <code class="docutils literal"><span class="pre">null</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$languages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s1">&#39;PHP&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;Ruby&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;Bash&#39;</span><span class="p">,</span> <span class="s1">&#39;PHP&#39;</span><span class="p">,</span> <span class="s1">&#39;Javascript&#39;</span><span class="p">]</span>
<span class="p">];</span>

<span class="nv">$merged</span> <span class="o">=</span> <span class="p">(</span><span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$users</span><span class="p">))</span><span class="o">-&gt;</span><span class="na">insert</span><span class="p">(</span><span class="s1">&#39;skills&#39;</span><span class="p">,</span> <span class="nv">$languages</span><span class="p">);</span>

<span class="c1">// Va retourner</span>
<span class="p">[</span>
    <span class="p">[</span><span class="s1">&#39;username&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;mark&#39;</span><span class="p">,</span> <span class="s1">&#39;skills&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;PHP&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;Ruby&#39;</span><span class="p">]],</span>
    <span class="p">[</span><span class="s1">&#39;username&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;juan&#39;</span><span class="p">,</span> <span class="s1">&#39;skills&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;Bash&#39;</span><span class="p">,</span> <span class="s1">&#39;PHP&#39;</span><span class="p">,</span> <span class="s1">&#39;Javascript&#39;</span><span class="p">]],</span>
    <span class="p">[</span><span class="s1">&#39;username&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;jose&#39;</span><span class="p">,</span> <span class="s1">&#39;skills&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">]</span>
<span class="p">];</span>
</pre></div>
</div>
<p>La méthode <code class="docutils literal"><span class="pre">insert()</span></code> peut opérer sur des éléments tableau ou des objets qui
implémentent l&#8217;interface <code class="docutils literal"><span class="pre">ArrayAccess</span></code>.</p>
</div>
<div class="section" id="creer-des-methodes-de-collection-reutilisables">
<h3>Créer des Méthodes de Collection Réutilisables<a class="headerlink" href="#creer-des-methodes-de-collection-reutilisables" title="Lien permanent vers ce titre">¶</a></h3>
<p>Utiliser une <code class="docutils literal"><span class="pre">Closure</span></code> pour les méthodes de Collection est optimal lorsque le
travail à accomplir est petit et ciblé, mais cela peut devenir gênant très
rapidement. Cela devient plus évident quand beaucoup de méthodes différentes
doivent être appelées ou lorsque la longueur des méthodes de la <code class="docutils literal"><span class="pre">Closure</span></code> est
de plus de quelques lignes.</p>
<p>Il y a aussi des cas où la logique utilisée pour les méthodes de Collection peut
être réutilisée dans plusieurs parties de votre application. Il est préférable
d&#8217;envisager d&#8217;éclater la logique d&#8217;ensemble complexe dans des classes séparées.
Par exemple, imaginez une longue restriction comme celle-ci:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span>
        <span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$row</span><span class="p">,</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$row</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">]))</span> <span class="p">{</span>
                <span class="nv">$row</span><span class="p">[</span><span class="s1">&#39;total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nx">collection</span><span class="p">(</span><span class="nv">$row</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">sumOf</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$row</span><span class="p">[</span><span class="s1">&#39;total&#39;</span><span class="p">]))</span> <span class="p">{</span>
                <span class="nv">$row</span><span class="p">[</span><span class="s1">&#39;tax_amount&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$row</span><span class="p">[</span><span class="s1">&#39;total&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mf">0.25</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="c1">// More code here...</span>

            <span class="k">return</span> <span class="nv">$modifiedRow</span><span class="p">;</span>
        <span class="p">});</span>
</pre></div>
</div>
<p>Cela peut être remodeler en créant une autre classe:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TotalOrderCalculator</span>
<span class="p">{</span>

        <span class="k">public</span> <span class="k">function</span> <span class="fm">__invoke</span><span class="p">(</span><span class="nv">$row</span><span class="p">,</span> <span class="nv">$key</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$row</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">]))</span> <span class="p">{</span>
                <span class="nv">$row</span><span class="p">[</span><span class="s1">&#39;total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nx">collection</span><span class="p">(</span><span class="nv">$row</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">sumOf</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$row</span><span class="p">[</span><span class="s1">&#39;total&#39;</span><span class="p">]))</span> <span class="p">{</span>
                <span class="nv">$row</span><span class="p">[</span><span class="s1">&#39;tax_amount&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$row</span><span class="p">[</span><span class="s1">&#39;total&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mf">0.25</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="c1">// More code here...</span>

            <span class="k">return</span> <span class="nv">$modifiedRow</span><span class="p">;</span>
        <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Use the logic in your map() call</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span><span class="k">new</span> <span class="nx">TotalOrderCalculator</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="Cake\Collection\Collection::through">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">through</code><span class="sig-paren">(</span><em>callable $c</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::through" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Parfois une suite d&#8217;appels de méthodes de Collection peut devenir réutilisable
dans d&#8217;autres parties de votre application, mais seulement si elles sont
appelées dans cet ordre précis. Dans ces cas, vous pouvez utiliser les
<code class="docutils literal"><span class="pre">through()</span></code> en combinaison avec une classe implémentant <code class="docutils literal"><span class="pre">__invoke</span></code> pour
répartir vos traitements de données:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span>
        <span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span><span class="k">new</span> <span class="nx">ShippingCostCalculator</span><span class="p">)</span>
        <span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span><span class="k">new</span> <span class="nx">TotalOrderCalculator</span><span class="p">)</span>
        <span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span><span class="k">new</span> <span class="nx">GiftCardPriceReducer</span><span class="p">)</span>
        <span class="o">-&gt;</span><span class="na">buffered</span><span class="p">()</span>
       <span class="o">...</span>
</pre></div>
</div>
<p>Les appels aux méthodes ci-dessus, peuvent être regroupés dans une nouvelle
classe permettant de ne pas être répétés à chaque fois:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">FinalCheckOutRowProcessor</span>
<span class="p">{</span>

        <span class="k">public</span> <span class="k">function</span> <span class="fm">__invoke</span><span class="p">(</span><span class="nv">$collection</span><span class="p">)</span>
        <span class="p">{</span>
                <span class="k">return</span> <span class="nv">$collection</span>
                        <span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span><span class="k">new</span> <span class="nx">ShippingCostCalculator</span><span class="p">)</span>
                        <span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span><span class="k">new</span> <span class="nx">TotalOrderCalculator</span><span class="p">)</span>
                        <span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span><span class="k">new</span> <span class="nx">GiftCardPriceReducer</span><span class="p">)</span>
                        <span class="o">-&gt;</span><span class="na">buffered</span><span class="p">()</span>
                       <span class="o">...</span>
        <span class="p">}</span>
<span class="p">}</span>


<span class="c1">// Maintenant vous pouvez utiliser la méthode through() pour appeler toutes les méthodes en une fois</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">through</span><span class="p">(</span><span class="k">new</span> <span class="nx">FinalCheckOutRowProcessor</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="optimiser-les-collections">
<h3>Optimiser les Collections<a class="headerlink" href="#optimiser-les-collections" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="method">
<dt id="Cake\Collection\Collection::buffered">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">buffered</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::buffered" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Les collections effectuent souvent la plupart des opérations que vous créez
en utilisant ses fonctions de façon lazy. Ceci signifie que même si vous pouvez
appeler une fonction, cela ne signifie pas qu&#8217;elle est exécutée de la bonne
manière. C&#8217;est vrai pour une grande quantité de fonctions de cette classe.
L&#8217;évaluation lazy vous permet de gagner des ressources dans des situations
où vous n&#8217;utilisez pas toutes les valeurs d&#8217;une collection. Vous pouvez ne pas
utiliser toutes les valeurs quand l&#8217;itération stoppe rapidement, ou quand une
exception/un échec se produit rapidement.</p>
<p>De plus, l&#8217;évaluation lazy aide à accélérer certaines operations. Considérez
l&#8217;exemple suivant:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nv">$oneMillionItems</span><span class="p">);</span>
<span class="nv">$collection</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$item</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$item</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">});</span>
<span class="nv">$itemsToShow</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">take</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
</pre></div>
</div>
<p>Si nous avions des collections non lazy, nous aurions dû executer un million
d&#8217;opérations, même si nous voulions seulement montrer 30 éléments. A la
place, notre opération map a été seulement appliquée aux 30 éléments que nous
avons utilisés. Nous pouvons aussi tirer des bénéfices de l&#8217;évaluation lazy
pour des collections plus petites quand nous faisons plus qu&#8217;une opération sur
elles. Par exemple: appeler <code class="docutils literal"><span class="pre">map()</span></code> deux fois et ensuite <code class="docutils literal"><span class="pre">filter()</span></code>.</p>
<p>L&#8217;évaluation lazy a aussi ses inconvénients. Vous pourriez faire les mêmes
opérations plus d&#8217;une fois si vous optimisiez une collection prématurément.
Considérons cet exemple:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$ages</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">extract</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">);</span>

<span class="nv">$youngerThan30</span> <span class="o">=</span> <span class="nv">$ages</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$item</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$item</span> <span class="o">&lt;</span> <span class="mi">30</span><span class="p">;</span>
<span class="p">});</span>

<span class="nv">$olderThan30</span> <span class="o">=</span> <span class="nv">$ages</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$item</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$item</span> <span class="o">&gt;</span> <span class="mi">30</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Si nous itérons <code class="docutils literal"><span class="pre">youngerThan30</span></code> et <code class="docutils literal"><span class="pre">olderThan30</span></code>, la collection exécuterait
malheureusement l&#8217;opération <code class="docutils literal"><span class="pre">extract()</span></code> deux fois. C&#8217;est parce que les
collections sont immutables et l&#8217;opération d&#8217;extraction lazy serait fait pour
les deux filtres.</p>
<p>Heureusement, nous pouvons passer outre ce problème avec une simple fonction. Si
vous planifiez de réutiliser les valeurs à partir de certaines opérations plus
d&#8217;une fois, vous pouvez compiler les résultats dans une autre collection en
utilisant la fonction <code class="docutils literal"><span class="pre">buffered()</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$ages</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">extract</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">buffered</span><span class="p">();</span>
<span class="nv">$youngerThan30</span> <span class="o">=</span> <span class="o">...</span>
<span class="nv">$olderThan30</span> <span class="o">=</span> <span class="o">...</span>
</pre></div>
</div>
<p>Maintenant quand les deux collections sont itérées, elles vont seulement appeler
l&#8217;opération d&#8217;extraction en une fois.</p>
</div>
<div class="section" id="rendre-les-collections-rembobinables">
<h3>Rendre les Collections Rembobinables<a class="headerlink" href="#rendre-les-collections-rembobinables" title="Lien permanent vers ce titre">¶</a></h3>
<p>La méthode <code class="docutils literal"><span class="pre">buffered()</span></code> est aussi utile pour convertir des itérateurs
non-rembobinables dans des collections qui peuvent être itérées plus d&#8217;une
fois:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Dans PHP 5.5+</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">results</span><span class="p">()</span>
<span class="p">{</span>
    <span class="o">...</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$transientElements</span> <span class="k">as</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">yield</span> <span class="nv">$e</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="nv">$rewindable</span> <span class="o">=</span> <span class="p">(</span><span class="k">new</span> <span class="nx">Collection</span><span class="p">(</span><span class="nx">results</span><span class="p">()))</span><span class="o">-&gt;</span><span class="na">buffered</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="clonage-de-collection">
<h3>Clonage de Collection<a class="headerlink" href="#clonage-de-collection" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="method">
<dt id="Cake\Collection\Collection::compile">
<code class="descclassname">Cake\Collection\Collection::</code><code class="descname">compile</code><span class="sig-paren">(</span><em>bool $preserveKeys = true</em><span class="sig-paren">)</span><a class="headerlink" href="#Cake\Collection\Collection::compile" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Parfois vous devez cloner un des éléments à partir d&#8217;une collection. C&#8217;est
utile quand vous avez besoin d&#8217;itérer le même ensemble à partir d&#8217;endroits
différents au même moment. Afin de cloner une collection à partir d&#8217;une autre,
utilisez la méthode <code class="docutils literal"><span class="pre">compile()</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$ages</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">extract</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">compile</span><span class="p">();</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$ages</span> <span class="k">as</span> <span class="nv">$age</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$collection</span> <span class="k">as</span> <span class="nv">$element</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="nx">h</span><span class="p">(</span><span class="nv">$element</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">)</span> <span class="o">.</span> <span class="s1">&#39; - &#39;</span> <span class="o">.</span> <span class="nv">$age</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>


            </div>
        </div>

        
        <div class="col-md-3 col-md-pull-9 hidden-xs hidden-sm" lang="fr">
            <aside class="sidebar">
                <div class="mb30 row">
<div id="sidebar-navigation" class="hidden-xs">
	<p class="caption"><span class="caption-text">Préface</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">CakePHP en un Coup d&#8217;Oeil</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Guide de Démarrage Rapide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices/3-x-migration-guide.html">3.x Guide de Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials-and-examples.html">Tutoriels et exemples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contribuer</a></li>
</ul>
<p class="caption"><span class="caption-text">Pour Commencer</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/routing.html">Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/request-response.html">Les Objets Request &amp; Response</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/middleware.html">Middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers.html">Controllers (Contrôleurs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views.html">Views (Vues)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../orm.html">Accès Base de Données &amp; ORM</a></li>
</ul>
<p class="caption"><span class="caption-text">Généralités</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../controllers/components/authentication.html">Authentification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bake.html">Console Bake</a></li>
<li class="toctree-l1"><a class="reference internal" href="caching.html">La mise en cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../console-and-shells.html">Outils de Console, Shells, &amp; Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/debugging.html">Debugger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment.html">Déploiement</a></li>
<li class="toctree-l1"><a class="reference internal" href="email.html">Email</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/errors.html">Gestion des Erreurs &amp; Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="events.html">Événements système</a></li>
<li class="toctree-l1"><a class="reference internal" href="internationalization-and-localization.html">Internationalisation &amp; Localisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Journalisation (logging)</a></li>
<li class="toctree-l1"><a class="reference internal" href="form.html">Formulaires Sans Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/components/pagination.html">Pagination</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/rest.html">REST</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">Sécurité</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/sessions.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="validation.html">Validation</a></li>
</ul>
<p class="caption"><span class="caption-text">Utilitaires</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="app.html">Classe App</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="file-folder.html">Folder &amp; File</a></li>
<li class="toctree-l1"><a class="reference internal" href="hash.html">Hash</a></li>
<li class="toctree-l1"><a class="reference internal" href="httpclient.html">Client Http</a></li>
<li class="toctree-l1"><a class="reference internal" href="inflector.html">Inflector</a></li>
<li class="toctree-l1"><a class="reference internal" href="number.html">Number</a></li>
<li class="toctree-l1"><a class="reference internal" href="registry-objects.html">Objets Registry</a></li>
<li class="toctree-l1"><a class="reference internal" href="text.html">Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="time.html">Date &amp; Time</a></li>
<li class="toctree-l1"><a class="reference internal" href="xml.html">Xml</a></li>
</ul>
<p class="caption"><span class="caption-text">Divers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="global-constants-and-functions.html">Globales &amp; Fonctions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chronos.html">Chronos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../debug-kit.html">Debug Kit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migrations.html">Migrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../elasticsearch.html">ElasticSearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade-tool.html">Outil d&#8217;Upgrade</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices.html">Annexes</a></li>
</ul>

</div>

                </div>
            </aside>
            <aside class="sidebar">
                <div class="mb30 row">
                </div>
            </aside>
        </div>
    </div>
</div>

<section id="socials" class="back-3">
    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-5  social text-center">
                <div class="col-sm-3 col-xs-3">
                    <div id="fb-root"></div>
                        <script>(function(d, s, id) {
                          var js, fjs = d.getElementsByTagName(s)[0];
                          if (d.getElementById(id)) return;
                          js = d.createElement(s); js.id = id;
                          js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
                          fjs.parentNode.insertBefore(js, fjs);
                        }(document, 'script', 'facebook-jssdk'));
                        </script>
                        <div id="fb-root-face" class="fb-like" data-href="https://www.facebook.com/CakePHP/" data-layout="button_count" data-action="like" data-show-faces="true" data-share="false"></div>
                </div>

                <div class="col-sm-3 col-xs-3">
                    <iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=star&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
                </div>

                <div class="col-sm-3 col-xs-3">
                    <iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=fork&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
                </div>

                <div class="col-sm-3 col-xs-3">
                    <a href="https://twitter.com/CakePHP" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false">Follow @CakePHP</a>
                    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                </div>
            </div>

            <div class="col-xs-12 col-sm-12 col-md-7 social-footer text-center ">
                <a href="https://twitter.com/cakephp" data-toggle="tooltip" title="Twitter"><i class="fa icon-social fa-twitter"></i>
                <a href="https://www.facebook.com/groups/cake.community" data-toggle="tooltip" title="Facebook"><i class="fa icon-social fa-facebook"></i></a>
                <a href="https://goo.gl/mSC0s" data-toggle="tooltip" title="Google Plus"><i class="fa icon-social  fa-google-plus"></i></a>
                <a href="https://www.youtube.com/user/CakePHP" data-toggle="tooltip" title="Youtube"><i class="fa icon-social fa-youtube-play"></i></a>
                <a href="https://github.com/cakephp" data-toggle="tooltip" title="Github"><i class="fa icon-social fa-git"></i></a>
                <a href="https://cakesf.herokuapp.com/" target="_blank" title="Slack" data-toggle="tooltip"><i class="fa fa-slack icon-social"></i></a>
                <a href="https://stackoverflow.com/tags/cakephp" data-toggle="tooltip" title="Stack Overflow"><i class="fa icon-social fa-stack-overflow"></i></a>
                <a href="https://webchat.freenode.net/?channels=cakephp" data-toggle="tooltip" title="IRC" class="icon-irc">#IRC</a>
            </div>
        </div>
    </div>
</section>

<footer id="footer" class="footer-wrapper">
    <div class="container">

        <div class="row col-p30">
            <div class="col-sm-12 col-md-3">
                <div class="footer-widget t-footer">
                    <div class="col-md-12">
                        <a href="https://www.openhub.net/p/cakephp">
                            <img src="../_static/open-hub.png">
                        </a>
                        <div class="mt10">
                            <a href="https://www.rackspace.com/">
                                <img src="../_static/rackspace.png">
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-12 col-md-9">
                <div class="col-md-3 col-sm-6 business-solution">
                    <ul class="footer-menu">
                        <li class="menu-title">
    <a href="https://cakephp.org/business-solutions"><i class="fa fa-menu-title fa-briefcase"></i>Business Solutions</a>
</li>
<li class="menu-title mt30">
    <a href="https://cakephp.org/showcase"><i class="fa fa-menu-title fa-desktop"></i>Showcase</a>
</li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <ul class="footer-menu">
                        
<li class="menu-title">
	<i class="fa fa-menu-title fa-book"></i>Documentation
</li>

<li><a href="https://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Book</a></li>
<li><a href="https://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="https://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="https://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="https://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <ul class="footer-menu">
                        
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="https://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="https://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="https://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="https://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="https://github.com/FriendsOfCake/awesome-cakephp"><i class="fa fa-menu fa-chevron-right"></i>Featured Resources</a></li>
<li><a href="https://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="https://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="https://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <ul class="footer-menu">
                        
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="https://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="https://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="https://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="https://www.cakedc.com/"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 text-center mt30">
                <p class="copyright">
                            &copy; Copyright 2017, Cake Software Foundation, Inc.
                        Mis à jour le août 30, 2017.
                        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.5.
                </p>
            </div>
        </div>
    </div>
</footer>

<div id="inline-search-results"></div>


</div>

<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-743287-3']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
  </body>
</html>